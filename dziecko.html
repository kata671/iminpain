<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boli Help — Dziecko</title>
  <meta name="theme-color" content="#0e1230" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="assets/style.css?v=10" />
  <style>
    html,body{height:100%}
    body[data-page="dziecko"]{
      position:relative; background:#0e1230 !important; color:#eef2ff;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    body[data-page="dziecko"]::before,
    body[data-page="dziecko"]::after,
    body[data-page="dziecko"] .container::before,
    body[data-page="dziecko"] .container::after{ content:none !important; display:none !important; }

    .bh-wallpaper,.bh-grid{position:fixed; inset:0; pointer-events:none}
    .bh-wallpaper{ z-index:0; background:
      radial-gradient(42vw 36vh at 16% 12%, rgba(255,110,199,.30), transparent 60%),
      radial-gradient(36vw 30vh at 84% 10%, rgba(94,234,212,.22), transparent 60%),
      radial-gradient(40vw 44vh at 20% 88%, rgba(164,107,255,.16), transparent 60%),
      linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0)); filter: blur(10px) saturate(118%); }
    .bh-grid{ z-index:1; opacity:.22; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='104' viewBox='0 0 120 104'%3E%3Cg fill='none' stroke='rgba(173,216,255,0.26)' stroke-width='1'%3E%3Cpolygon points='30,0 90,0 120,52 90,104 30,104 0,52'/%3E%3C/g%3E%3C/svg%3E"); background-size:160px 138px; background-position:center;}
    .bh-floor-fade{ position:fixed;left:0;right:0;bottom:0;height:120px;z-index:2;pointer-events:none;background:linear-gradient(180deg, rgba(14,18,48,0), rgba(14,18,48,.35) 55%, rgba(14,18,48,.6)); }

    .container{ position:relative; z-index:3; background:transparent !important; max-width:1100px; margin:0 auto; padding:0 16px }

    .grid-thumbs{display:grid;gap:16px;}
    @media (min-width:981px){ .grid-thumbs{grid-template-columns:repeat(3,1fr)} }
    @media (max-width:980px){ .grid-thumbs{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:640px){ .grid-thumbs{grid-template-columns:repeat(2,1fr);gap:12px} }

    .thumb{
      border-radius:16px; overflow:hidden; text-decoration:none; color:inherit; display:block;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)), rgba(60,32,100,.32);
      border:1px solid rgba(164,107,255,.28);
      box-shadow:0 8px 18px rgba(8,10,22,.35), 0 0 0 1px rgba(164,107,255,.18) inset;
      backdrop-filter:saturate(120%) blur(6px);
      transition:transform .22s ease, box-shadow .22s ease, border-color .22s ease;
    }
    .thumb:hover{ transform:translateY(-3px); box-shadow:0 16px 28px rgba(8,10,22,.45), 0 0 18px rgba(164,107,255,.30), 0 0 0 1px rgba(164,107,255,.34) inset; border-color:rgba(164,107,255,.45) }
    .thumb:focus-visible{ outline:2px solid rgba(164,107,255,.65); outline-offset:2px; border-radius:18px }

    .thumb img{ width:100%; display:block; object-fit:contain; object-position:center; background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); height:140px; }
    @media (min-width:981px){ .thumb img{ height:150px } }
    @media (max-width:980px){ .thumb img{ height:110px } }
    @media (max-width:640px){ .thumb img{ height:84px } }

    .thumb span{ display:block; padding:10px 12px; font-weight:800; letter-spacing:.2px; color:#eef2ff; border-top:1px solid rgba(164,107,255,.22); background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); text-align:center; }
    @media (max-width:640px){ .thumb span{ font-size:12.5px; padding:8px 10px } }

    /* PRZYCISK WRÓĆ */
    #bhBackMini{
      appearance:none;border:1px solid rgba(164,107,255,.28);background:rgba(60,32,100,.28);color:#eef2ff;
      font-weight:700;padding:10px 14px;border-radius:12px;cursor:pointer;margin:16px 0;
      box-shadow:0 6px 16px rgba(8,10,22,.35), inset 0 0 0 1px rgba(164,107,255,.12), 0 0 8px rgba(164,107,255,.45);
      transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }
    #bhBackMini:hover{ transform:translateY(-1px); border-color:rgba(164,107,255,.55); box-shadow:0 10px 20px rgba(8,10,22,.45), 0 0 14px rgba(164,107,255,.65), inset 0 0 0 1px rgba(164,107,255,.18) }
    #bhBackMini:focus-visible{ outline:2px solid rgba(164,107,255,.75); outline-offset:2px }
  </style>
</head>
<body data-page="dziecko">
  <div class="bh-wallpaper" aria-hidden="true"></div>
  <div class="bh-grid" aria-hidden="true"></div>
  <div class="bh-floor-fade" aria-hidden="true"></div>

  <div class="container">
    <!-- GUZIK WRÓĆ -->
    <button id="bhBackMini" type="button" aria-label="Wróć do poprzedniej strony">← Wróć</button>

    <header class="header"><h1>Dziecko — wybierz część ciała</h1></header>

    <section class="grid-thumbs" aria-label="Miniatury — dziecko">
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=oko&label=Oko"><img src="img/dziecko-oko.png" alt="Oko"><span>Oko</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=nos&label=Nos"><img src="img/dziecko-nos.png" alt="Nos"><span>Nos</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=gardlo&label=Gard%C5%82o"><img src="img/dziecko-gardlo.png" alt="Gardło"><span>Gardło</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=glowa&label=G%C5%82owa"><img src="img/dziecko-glowa.png" alt="Głowa"><span>Głowa</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=klatka&label=Klatka%20piersiowa"><img src="img/dziecko-klatka.png" alt="Klatka piersiowa"><span>Klatka</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=brzuch&label=Brzuch"><img src="img/dziecko-brzuch.png" alt="Brzuch"><span>Brzuch</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=plecy&label=Plecy"><img src="img/dziecko-plecy.png" alt="Plecy"><span>Plecy</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=biodra&label=Biodra"><img src="img/dziecko-biodra.png" alt="Biodra"><span>Biodra</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=udo&label=Udo"><img src="img/dziecko-udo.png" alt="Udo"><span>Udo</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=stopy&label=Stopy"><img src="img/dziecko-stopy.png" alt="Stopy"><span>Stopy</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=serce&label=Serce"><img src="img/dziecko-serce.png" alt="Serce"><span>Serce</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=pluca&label=P%C5%82uca"><img src="img/dziecko-pluca.png" alt="Płuca"><span>Płuca</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=watroba&label=W%C4%85troba"><img src="img/dziecko-watroba.png" alt="Wątroba"><span>Wątroba</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=zoladek&label=%C5%BBo%C5%82%C4%85dek"><img src="img/dziecko-zoladek.png" alt="Żołądek"><span>Żołądek</span></a>
      <a class="thumb" href="szczegoly.html?typ=dziecko&czesc=nerki&label=Nerki"><img src="img/dziecko-nerki.png" alt="Nerki"><span>Nerki</span></a>
    </section>
  </div>

  <script>
    // Obsługa guzika "Wróć"
    (function(){
      var btn = document.getElementById('bhBackMini');
      if(!btn) return;
      btn.addEventListener('click', function(){
        if (document.referrer && document.referrer.includes(location.host)) {
          history.back();
        } else {
          location.href = 'index.html';
        }
      });
    })();
  </script>
<script src="/assets/js/translator-unified.js?v=1" defer></script>
<!-- BEGIN bh-patch:translator-oneblock -->
<script>
(function(){
  if (window.__bhPatchTranslatorOneBlock__) return;
  window.__bhPatchTranslatorOneBlock__ = 1;

  // ====== STYLE (wstrzykiwany, zero dodatkowych plików) ======
  (function injectStyle(){
    var css = `
:root {
  --bh-accent:#6c5ce7; --bh-bg:rgba(255,255,255,0.75);
  --bh-shadow:0 8px 20px rgba(0,0,0,0.12);
  --bh-radius:16px; --bh-blur:saturate(1.2) blur(6px);
  --bh-z:9999; --bh-font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Noto Sans","Liberation Sans","Helvetica Neue",sans-serif;
}
.bh-translator-wrap{position:fixed;top:12px;right:12px;z-index:var(--bh-z);font-family:var(--bh-font)}
.bh-translator-btn{display:flex;align-items:center;gap:10px;padding:10px 14px;background:var(--bh-bg);backdrop-filter:var(--bh-blur);border:1px solid rgba(108,92,231,.25);border-radius:var(--bh-radius);box-shadow:var(--bh-shadow);cursor:pointer;color:#1f2937;user-select:none;-webkit-tap-highlight-color:transparent;transition:transform .12s ease,background .2s ease,border-color .2s ease}
.bh-translator-btn:hover{transform:translateY(-1px)}
.bh-translator-btn:active{transform:translateY(0)}
.bh-translator-btn .bh-icn{width:18px;height:18px;flex:0 0 auto;color:var(--bh-accent)}
.bh-translator-label{font-size:14px;line-height:1;font-weight:600}
.bh-translator-dd{position:absolute;right:0;margin-top:8px;background:var(--bh-bg);backdrop-filter:var(--bh-blur);border:1px solid rgba(108,92,231,.25);border-radius:14px;box-shadow:var(--bh-shadow);min-width:200px;padding:8px;display:none}
.bh-translator-wrap[aria-expanded="true"] .bh-translator-dd{display:block}
.bh-dd-item{display:flex;align-items:center;justify-content:space-between;width:100%;padding:10px 12px;border-radius:10px;background:transparent;border:0;cursor:pointer;color:#111827;font-size:14px;font-weight:600}
.bh-dd-item:hover{background:rgba(108,92,231,.08)}
.bh-dd-item small{color:#6b7280;font-weight:500}
@media(max-width:480px){.bh-translator-btn{padding:8px 12px;gap:8px}.bh-translator-label{font-size:13px}.bh-translator-dd{min-width:180px}}
[data-bh-no-translate]{}
    `;
    var s = document.createElement('style');
    s.setAttribute('data-bh-style','translator');
    s.appendChild(document.createTextNode(css));
    document.head.appendChild(s);
  })();

  // ====== USTAWIENIA ======
  var STORE_KEY='bh-lang';
  var SUPPORTED=[{code:'pl',label:'Polski'},{code:'en',label:'English'},{code:'de',label:'Deutsch'},{code:'uk',label:'Українська'}];
  var EMBED={
    en:{"Szukaj":"Search","Telefon alarmowy":"Emergency phone","Pierwsza pomoc":"First Aid","Apteka":"Pharmacy","Szpital":"Hospital","Objawy":"Symptoms","Przyczyny":"Causes","Leki":"Medications","Na receptę":"Prescription","Bez recepty":"Over-the-counter","Kiedy się niepokoić":"When to worry","Czerwone flagi":"Red flags"},
    de:{"Szukaj":"Suche","Telefon alarmowy":"Notruf","Pierwsza pomoc":"Erste Hilfe","Apteka":"Apotheke","Szpital":"Krankenhaus","Objawy":"Symptome","Przyczyny":"Ursachen","Leki":"Medikamente","Na receptę":"Verschreibungspflichtig","Bez recepty":"Rezeptfrei","Kiedy się niepokoić":"Wann man sich sorgen sollte","Czerwone flagi":"Rote Flaggen"},
    uk:{"Szukaj":"Пошук","Telefon alarmowy":"Екстрений номер","Pierwsza pomoc":"Перша допомога","Apteka":"Аптека","Szpital":"Лікарня","Objawy":"Симптоми","Przyczyny":"Причини","Leki":"Ліки","Na receptę":"За рецептом","Bez recepty":"Без рецепту","Kiedy się niepokoić":"Коли варто хвилюватись","Czerwone flagi":"Тривожні ознаки"}
  };
  var saved=localStorage.getItem(STORE_KEY);
  var browser=(navigator.language||'pl').slice(0,2).toLowerCase();
  var DEFAULT='pl';
  var initial=(saved && SUPPORTED.some(l=>l.code===saved))?saved:(SUPPORTED.some(l=>l.code===browser)?browser:DEFAULT);
  var active=DEFAULT, dict={};

  // ====== UI ======
  function createUI(){
    if (document.getElementById('bh-translator')) return;
    var wrap=document.createElement('div');
    wrap.className='bh-translator-wrap'; wrap.id='bh-translator';
    wrap.setAttribute('aria-expanded','false');

    var btn=document.createElement('button');
    btn.type='button'; btn.className='bh-translator-btn'; btn.setAttribute('aria-label','Language switcher');
    btn.innerHTML = `
      <svg class="bh-icn" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9-9 4.03-9 9 4.03 9 9 9Z" stroke="currentColor" stroke-width="1.6"></path>
        <path d="M3 12h18M12 3c3 3.5 3 14 0 18M6 6c3.5 2 8.5 2 12 0M6 18c3.5-2 8.5-2 12 0" stroke="currentColor" stroke-width="1.2"></path>
      </svg>
      <span class="bh-translator-label" data-bh-no-translate>Lang: ${(initial||'pl').toUpperCase()}</span>
    `;

    var dd=document.createElement('div');
    dd.className='bh-translator-dd'; dd.setAttribute('role','menu');
    SUPPORTED.forEach(function(item){
      var el=document.createElement('button');
      el.type='button'; el.className='bh-dd-item'; el.setAttribute('data-lang',item.code);
      el.innerHTML=`<span>${item.label}</span><small>${item.code.toUpperCase()}</small>`;
      dd.appendChild(el);
    });

    wrap.appendChild(btn); wrap.appendChild(dd); document.body.appendChild(wrap);

    btn.addEventListener('click', function(){
      wrap.setAttribute('aria-expanded', wrap.getAttribute('aria-expanded')==='true'?'false':'true');
    });
    document.addEventListener('click', function(e){ if (!wrap.contains(e.target)) wrap.setAttribute('aria-expanded','false'); });
    dd.addEventListener('click', function(e){
      var b=e.target.closest('.bh-dd-item'); if(!b) return;
      var lang=b.getAttribute('data-lang'); wrap.setAttribute('aria-expanded','false'); setLanguage(lang);
    });
  }

  // ====== ŁADOWANIE SŁOWNIKA ======
  function loadDict(lang){
    return new Promise(function(resolve){
      if (lang==='pl') return resolve({});
      // próbuj assets/i18n/{lang}.json; jeśli brak – wbudowany
      fetch('assets/i18n/'+lang+'.json', {cache:'no-store'})
        .then(function(r){ if(!r.ok) throw 0; return r.json(); })
        .then(function(json){ resolve(Object.assign({}, EMBED[lang]||{}, json)); })
        .catch(function(){ resolve(Object.assign({}, EMBED[lang]||{})); });
    });
  }

  // ====== TŁUMACZENIE ======
  function norm(t){ return (t||'').replace(/\s+/g,' ').trim(); }
  function translateNodeText(node){
    var original=norm(node.textContent||''); if(!original) return;
    var t=dict[original]; if (t && t!==original) node.textContent=t;
  }
  function walkAndTranslate(container){
    var SKIP=function(el){ return el.closest('[data-bh-no-translate]') || el.closest('#bh-translator'); };
    // data-i18n (dokładne klucze)
    container.querySelectorAll ? container.querySelectorAll('[data-i18n]').forEach(function(el){
      if (SKIP(el)) return; var key=el.getAttribute('data-i18n'); var t=dict[key]; if (t) el.textContent=t;
    }) : null;
    // atrybuty
    container.querySelectorAll ? container.querySelectorAll('[data-i18n-attr]').forEach(function(el){
      if (SKIP(el)) return;
      var map=(el.getAttribute('data-i18n-attr')||'').split(',').map(function(s){return s.trim();});
      map.forEach(function(pair){
        var sp=pair.split('|'); var attr=(sp[0]||'').trim(); var key=(sp[1]||'').trim();
        if(!attr||!key) return; var t=dict[key]; if(t) el.setAttribute(attr,t);
      });
    }) : null;
    // proste elementy tekstowe
    var cand=container.querySelectorAll ? container.querySelectorAll('h1,h2,h3,h4,h5,h6,p,li,button,a,th,td,span,label,small,strong,em') : [];
    cand.forEach(function(el){
      if (SKIP(el)) return;
      if (el.childElementCount===0) translateNodeText(el);
    });
  }

  var moInstalled=false;
  function installObserver(){
    if (moInstalled) return; moInstalled=true;
    var mo=new MutationObserver(function(muts){
      if (active==='pl') return;
      muts.forEach(function(m){
        if (m.type==='childList'){
          m.addedNodes.forEach(function(n){ if(n.nodeType===1) walkAndTranslate(n); });
        } else if (m.type==='attributes' && m.target && m.target.matches && m.target.matches('[data-i18n-attr]')){
          walkAndTranslate(m.target);
        }
      });
    });
    mo.observe(document.documentElement,{childList:true,subtree:true,attributes:true,attributeFilter:['placeholder','title','aria-label']});
  }

  function setLanguage(lang){
    if (!SUPPORTED.some(function(l){return l.code===lang;})) return;
    active=lang; localStorage.setItem(STORE_KEY, lang);
    var label=document.querySelector('#bh-translator .bh-translator-label');
    if (label) label.textContent='Lang: '+lang.toUpperCase();

    if (lang==='pl'){ location.reload(); return; }
    loadDict(lang).then(function(d){ dict=d; walkAndTranslate(document); installObserver(); });
  }

  // ====== START ======
  function init(){
    createUI();
    // jeśli użytkownik miał wybrany język – zastosuj
    if (initial!=='pl'){ setLanguage(initial); }
  }
  if (document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', init); }
  else { init(); }
})();
</script>
<!-- END bh-patch:translator-oneblock -->
<!-- BEGIN bh-patch:translator-hotfix -->
<script>
(function(){
  if (window.__bhPatchTranslatorHotfix__) return;
  window.__bhPatchTranslatorHotfix__ = 1;

  // ===== A) Anty-Google-Translate (baner/ramka/auto) =====
  (function neutralizeGoogleTranslate(){
    // 1) Meta "notranslate" – blokuje podpowiedzi i auto-tłumaczenie
    var hasMeta = document.querySelector('meta[name="google"][content*="notranslate"]');
    if (!hasMeta) {
      var m = document.createElement('meta');
      m.setAttribute('name','google'); m.setAttribute('content','notranslate');
      document.head.appendChild(m);
    }

    // 2) CSS: ukryj UI Google Translate (baner/tooltipy), nawet jeśli już się wstrzyknął
    var css = `
.goog-te-banner-frame, .goog-te-gadget, .goog-tooltip, .goog-te-balloon-frame, #google_translate_element,
.VIpgJd-ZVi9od-ORHb, .VIpgJd-ZVi9od-l4eHX-hSRGPd, .VIpgJd-ZVi9od-ORHb-OEVmcd { display:none !important; visibility:hidden !important; }
body { top: 0 !important; }
`;
    var s = document.createElement('style');
    s.setAttribute('data-bh-style','anti-google-translate');
    s.appendChild(document.createTextNode(css));
    document.head.appendChild(s);

    // 3) Usuń już wstrzyknięte elementy/klasy
    function purgeGT(){
      ['iframe.goog-te-banner-frame','#google_translate_element','.VIpgJd-ZVi9od-ORHb','.goog-te-gadget'].forEach(function(sel){
        document.querySelectorAll(sel).forEach(function(n){ try{ n.remove(); }catch(_){ n.style.display='none'; } });
      });
      document.documentElement.classList.remove('translated-ltr','translated-rtl');
      document.body.style.top = null;
      // Wyzeruj stan google translate jeśli istniał
      try { localStorage.removeItem('googtrans'); } catch(_){}
      try { sessionStorage.removeItem('googtrans'); } catch(_){}
      // Zneutralizuj globalny init jeśli snippet google był dodany
      window.googleTranslateElementInit = function(){};
      // Zablokuj ewentualne przyszłe ładowanie element.js
      var _createElement = document.createElement;
      document.createElement = function(tag){
        var el = _createElement.call(document, tag);
        if (tag.toLowerCase()==='script') {
          var _setAttr = el.setAttribute;
          el.setAttribute = function(name, value){
            if (name==='src' && /translate_a\/element\.js/i.test(String(value||''))) {
              // zignoruj ładowanie skryptu google translate
              return;
            }
            return _setAttr.apply(el, arguments);
          };
        }
        return el;
      };
    }
    purgeGT();
    // Dodatkowo próbuj czyścić, jeśli coś doładuje się dynamicznie
    var mo = new MutationObserver(function(){ purgeGT(); });
    mo.observe(document.documentElement, { childList:true, subtree:true });
  })();

  // ===== B) Wzmocnienie naszego tłumacza (natychmiast po wyborze) =====
  (function reinforceBHTranslator(){
    // Jeżeli masz w projekcie poprzedni blok "translator-oneblock" / "bh-translator.js",
    // poniższy kod zadba o natychmiastowe tłumaczenie i poprawne nasłuchiwanie kliknięć.

    // 1) Gdy istnieje dropdown naszego tłumacza – dodaj także pointerup (mobile), plus focusem.
    function bindFastActions(){
      var dd = document.querySelector('#bh-translator .bh-translator-dd');
      var wrap = document.getElementById('bh-translator');
      if (!dd || !wrap) return;

      function onPick(e){
        var b = e.target.closest('.bh-dd-item'); if(!b) return;
        var lang = b.getAttribute('data-lang');
        wrap.setAttribute('aria-expanded','false');
        // Jeśli mamy globalny setLanguage z naszego widgetu – użyj.
        if (typeof window.setLanguage === 'function') {
          try { window.setLanguage(lang); } catch(_){}
          return;
        }
        // Jeśli nie – spróbuj odpalić standardową ścieżkę poprzedniego bloku.
        try {
          // Wersje wcześniejsze miały setLanguage w IIFE – nie w globalu,
          // więc wymusimy ponowne tłumaczenie przez zapis języka i reload jeśli PL
          localStorage.setItem('bh-lang', lang);
          if (lang === 'pl') { location.reload(); return; }
          // Spróbuj wywołać ponowny skan (fallback bardzo defensywny)
          setTimeout(function(){
            var ev = new Event('bh-translate-rescan'); document.dispatchEvent(ev);
          }, 0);
        } catch(_){}
      }

      ['click','pointerup','keyup'].forEach(function(type){
        dd.addEventListener(type, function(e){
          if (type==='keyup' && e.key !== 'Enter') return;
          onPick(e);
        }, { passive:true });
      });
    }

    // 2) Uniwersalny "rescan" – podłącz do naszego wcześniejszego kodu jeśli słucha zdarzeń
    document.addEventListener('bh-translate-rescan', function(){
      try {
        // Jeśli w poprzednim bloku jest funkcja walkAndTranslate dostępna przez closure – nie mamy do niej dostępu,
        // ale jeśli aktywny jest MutationObserver, wystarczy prowokacja minimalnej mutacji:
        var mark = document.createElement('span');
        mark.setAttribute('data-bh-no-translate','');
        document.body.appendChild(mark);
        requestAnimationFrame(function(){ mark.remove(); });
      } catch(_){}
    });

    // 3) Jeżeli UI tłumacza jeszcze nie istnieje (np. tylko "oneblock" z innej strony go doda),
    // poczekaj na DOM i podłącz zdarzenia.
    function whenReady(){
      bindFastActions();
      // Gwarantujemy, że label się odświeży przy wejściu między stronami
      var saved = localStorage.getItem('bh-lang');
      var label = document.querySelector('#bh-translator .bh-translator-label');
      if (label && saved) label.textContent = 'Lang: ' + saved.toUpperCase();
    }
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', whenReady);
    } else {
      whenReady();
    }
  })();
})();
</script>
<!-- END bh-patch:translator-hotfix -->
<!-- BEGIN bh-patch:translator-fix-v2 -->
<script>
(function(){
  if (window.__bhPatchTranslatorFixV2__) return;
  window.__bhPatchTranslatorFixV2__ = 1;

  // ========== USTAWIENIA ==========
  var BH_STORE_KEY = 'bh-lang';
  var BH_SUPPORTED = [
    { code: 'pl', label: 'Polski' },
    { code: 'en', label: 'English' },
    { code: 'de', label: 'Deutsch' },
    { code: 'uk', label: 'Українська' }
  ];

  // Minimalne słowniki wbudowane (możesz rozbudować później plikami assets/i18n/*.json)
  var BH_EMBED = {
    en: {
      "szukaj":"Search","telefon alarmowy":"Emergency phone","pierwsza pomoc":"First Aid","apteka":"Pharmacy","szpital":"Hospital",
      "objawy":"Symptoms","przyczyny":"Causes","leki":"Medications","na receptę":"Prescription","bez recepty":"Over-the-counter",
      "kiedy się niepokoić":"When to worry","czerwone flagi":"Red flags","lekarz":"Doctor","kontakt":"Contact","informacje":"Information"
    },
    de: {
      "szukaj":"Suche","telefon alarmowy":"Notruf","pierwsza pomoc":"Erste Hilfe","apteka":"Apotheke","szpital":"Krankenhaus",
      "objawy":"Symptome","przyczyny":"Ursachen","leki":"Medikamente","na receptę":"Verschreibungspflichtig","bez recepty":"Rezeptfrei",
      "kiedy się niepokoić":"Wann Sorgen machen","czerwone flagi":"Rote Flaggen","lekarz":"Arzt","kontakt":"Kontakt","informacje":"Informationen"
    },
    uk: {
      "szukaj":"Пошук","telefon alarmowy":"Екстрений номер","pierwsza pomoc":"Перша допомога","apteka":"Аптека","szpital":"Лікарня",
      "objawy":"Симптоми","przyczyny":"Причини","leki":"Ліки","na receptę":"За рецептом","bez recepty":"Без рецепту",
      "kiedy się niepokoić":"Коли варто хвилюватися","czerwone flagi":"Тривожні ознаки","lekarz":"Лікар","kontakt":"Контакт","informacje":"Інформація"
    }
  };

  var BH_DEFAULT = 'pl';
  var savedLang = localStorage.getItem(BH_STORE_KEY);
  var browserLang = (navigator.language||'pl').slice(0,2).toLowerCase();
  var BH_INITIAL = (savedLang && BH_SUPPORTED.some(l=>l.code===savedLang)) ? savedLang :
                   (BH_SUPPORTED.some(l=>l.code===browserLang) ? browserLang : BH_DEFAULT);

  // ========== POMOCNICZE ==========
  function bhNorm(str){
    return String(str||'').toLowerCase()
      .replace(/\s+/g,' ')
      .replace(/[.,;:!?()[\]{}"„”‚’'`/\\|<>~^%€$#@*+=\-–—]/g,'')
      .trim();
  }
  function bhTextOnly(el){
    // tłumaczymy tylko proste treści (bez HTML dzieci), aby nie niszczyć złożonych bloków
    return el && el.childElementCount === 0;
  }

  // ========== ZAŁĄCZENIE / UTWORZENIE UI (jeśli brak) ==========
  function ensureUI(){
    if (document.getElementById('bh-translator')) return;
    // Lekki styl (jeśli poprzedni blok go nie wstrzyknął)
    if (!document.querySelector('style[data-bh-style="translator-core"]')){
      var css = `
:root{--bh-accent:#6c5ce7;--bh-bg:rgba(255,255,255,.75);--bh-shadow:0 8px 20px rgba(0,0,0,.12);--bh-radius:16px;--bh-blur:saturate(1.2) blur(6px);--bh-z:9999;--bh-font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,"Noto Sans","Liberation Sans","Helvetica Neue",sans-serif}
.bh-translator-wrap{position:fixed;top:12px;right:12px;z-index:var(--bh-z);font-family:var(--bh-font)}
.bh-translator-btn{display:flex;align-items:center;gap:10px;padding:10px 14px;background:var(--bh-bg);backdrop-filter:var(--bh-blur);border:1px solid rgba(108,92,231,.25);border-radius:var(--bh-radius);box-shadow:var(--bh-shadow);cursor:pointer;color:#1f2937;user-select:none;-webkit-tap-highlight-color:transparent;transition:transform .12s ease,background .2s ease,border-color .2s ease}
.bh-translator-btn:hover{transform:translateY(-1px)}.bh-translator-btn:active{transform:translateY(0)}
.bh-translator-btn .bh-icn{width:18px;height:18px;flex:0 0 auto;color:var(--bh-accent)}
.bh-translator-label{font-size:14px;line-height:1;font-weight:600}
.bh-translator-dd{position:absolute;right:0;margin-top:8px;background:var(--bh-bg);backdrop-filter:var(--bh-blur);border:1px solid rgba(108,92,231,.25);border-radius:14px;box-shadow:var(--bh-shadow);min-width:200px;padding:8px;display:none}
.bh-translator-wrap[aria-expanded="true"] .bh-translator-dd{display:block}
.bh-dd-item{display:flex;align-items:center;justify-content:space-between;width:100%;padding:10px 12px;border-radius:10px;background:transparent;border:0;cursor:pointer;color:#111827;font-size:14px;font-weight:600}
.bh-dd-item:hover{background:rgba(108,92,231,.08)}.bh-dd-item small{color:#6b7280;font-weight:500}
@media(max-width:480px){.bh-translator-btn{padding:8px 12px;gap:8px}.bh-translator-label{font-size:13px}.bh-translator-dd{min-width:180px}}
      `;
      var st = document.createElement('style');
      st.setAttribute('data-bh-style','translator-core');
      st.appendChild(document.createTextNode(css));
      document.head.appendChild(st);
    }

    var wrap=document.createElement('div'); wrap.id='bh-translator'; wrap.className='bh-translator-wrap'; wrap.setAttribute('aria-expanded','false');
    var btn=document.createElement('button'); btn.type='button'; btn.className='bh-translator-btn'; btn.setAttribute('aria-label','Language switcher');
    btn.innerHTML = `
      <svg class="bh-icn" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9-9 4.03-9 9 4.03 9 9 9Z" stroke="currentColor" stroke-width="1.6"></path>
        <path d="M3 12h18M12 3c3 3.5 3 14 0 18M6 6c3.5 2 8.5 2 12 0M6 18c3.5-2 8.5-2 12 0" stroke="currentColor" stroke-width="1.2"></path>
      </svg>
      <span class="bh-translator-label" data-bh-no-translate>Lang: ${(BH_INITIAL||'pl').toUpperCase()}</span>
    `;
    var dd=document.createElement('div'); dd.className='bh-translator-dd'; dd.setAttribute('role','menu');
    BH_SUPPORTED.forEach(function(l){
      var b=document.createElement('button'); b.type='button'; b.className='bh-dd-item'; b.setAttribute('data-lang',l.code);
      b.innerHTML = `<span>${l.label}</span><small>${l.code.toUpperCase()}</small>`;
      dd.appendChild(b);
    });
    wrap.appendChild(btn); wrap.appendChild(dd); document.body.appendChild(wrap);

    btn.addEventListener('click', function(){
      wrap.setAttribute('aria-expanded', wrap.getAttribute('aria-expanded')==='true'?'false':'true');
    });
    document.addEventListener('click', function(e){ if (!wrap.contains(e.target)) wrap.setAttribute('aria-expanded','false'); });

    // Delegacja na elementy listy (klik, pointer, Enter)
    dd.addEventListener('click', bhPickLang, {passive:true});
    dd.addEventListener('pointerup', bhPickLang, {passive:true});
    dd.addEventListener('keyup', function(e){ if(e.key==='Enter') bhPickLang(e); }, {passive:true});
    function bhPickLang(e){
      var b=e.target.closest('.bh-dd-item'); if(!b) return;
      wrap.setAttribute('aria-expanded','false');
      var code=b.getAttribute('data-lang'); if (!code) return;
      window.bhSetLanguage(code); // globalny, natychmiastowy
    }
  }

  // ========== ZAŁADOWANIE SŁOWNIKA (z pliku + wbudowany) ==========
  function bhLoadDict(lang){
    return new Promise(function(resolve){
      if (lang==='pl') return resolve({});
      fetch('assets/i18n/'+lang+'.json',{cache:'no-store'}).then(function(r){
        if (!r.ok) throw 0; return r.json();
      }).then(function(json){
        // scal: wbudowany (lowercase keys) + plik (preferuj plik)
        var base = BH_EMBED[lang]||{};
        var lcBase = {}; Object.keys(base).forEach(function(k){ lcBase[bhNorm(k)] = base[k]; });
        var lcFile = {}; Object.keys(json||{}).forEach(function(k){ lcFile[bhNorm(k)] = json[k]; });
        resolve(Object.assign({}, lcBase, lcFile));
      }).catch(function(){
        var base = BH_EMBED[lang]||{};
        var lc = {}; Object.keys(base).forEach(function(k){ lc[bhNorm(k)] = base[k]; });
        resolve(lc);
      });
    });
  }

  // ========== TŁUMACZENIE ==========
  var bhActive = BH_DEFAULT;
  var bhDict = {};

  function bhTranslateTree(root){
    // 1) Dokładne klucze: data-i18n
    root.querySelectorAll && root.querySelectorAll('[data-i18n]').forEach(function(el){
      if (el.closest('#bh-translator')) return;
      var key = el.getAttribute('data-i18n');
      var t = bhDict[bhNorm(key)];
      if (t) el.textContent = t;
    });

    // 2) Atrybuty
    root.querySelectorAll && root.querySelectorAll('[data-i18n-attr]').forEach(function(el){
      if (el.closest('#bh-translator')) return;
      (el.getAttribute('data-i18n-attr')||'').split(',').map(function(s){return s.trim();}).forEach(function(pair){
        var sp = pair.split('|'); var attr=(sp[0]||'').trim(); var key=(sp[1]||'').trim();
        if(!attr || !key) return;
        var t = bhDict[bhNorm(key)];
        if (t) el.setAttribute(attr, t);
      });
    });

    // 3) Proste elementy tekstowe (bez dzieci) – ostrożnie, aby nie mieszać zdań
    var candidates = root.querySelectorAll ? root.querySelectorAll('h1,h2,h3,h4,h5,h6,p,li,button,a,th,td,span,label,small,strong,em,figcaption,legend,summary,dd,dt,caption') : [];
    candidates.forEach(function(el){
      if (el.closest('#bh-translator')) return;
      if (!bhTextOnly(el)) return;
      var k = bhNorm(el.textContent);
      if (!k) return;
      var t = bhDict[k];
      if (t && t !== el.textContent) el.textContent = t;
    });
  }

  var bhObserverInstalled = false;
  function bhInstallObserver(){
    if (bhObserverInstalled) return;
    bhObserverInstalled = true;
    var mo = new MutationObserver(function(muts){
      if (bhActive==='pl') return;
      muts.forEach(function(m){
        if (m.type==='childList'){
          m.addedNodes.forEach(function(n){ if (n.nodeType===1) bhTranslateTree(n); });
        }
      });
    });
    mo.observe(document.documentElement, { childList:true, subtree:true });
  }

  // ========== API GLOBALNE ==========
  window.bhSetLanguage = function(lang){
    if (!BH_SUPPORTED.some(function(l){return l.code===lang;})) return;
    bhActive = lang;
    localStorage.setItem(BH_STORE_KEY, lang);
    var label = document.querySelector('#bh-translator .bh-translator-label');
    if (label) label.textContent = 'Lang: ' + lang.toUpperCase();

    if (lang === 'pl'){
      // powrót do oryginalnego PL – najpewniej przez reload (bez banerów, bo już zablokowane)
      location.reload();
      return;
    }
    // Załaduj słownik i przetłumacz cały dokument
    bhLoadDict(lang).then(function(dict){
      bhDict = dict || {};
      bhTranslateTree(document);
      bhInstallObserver();
    });
  };

  // ========== START ==========
  function bhInit(){
    ensureUI(); // jeśli już jest – tylko podłączy zdarzenia
    // Jeśli wcześniej zapisano język, zastosuj bez klikania
    if (BH_INITIAL !== 'pl') {
      window.bhSetLanguage(BH_INITIAL);
    } else {
      // zsynchronizuj label, gdy ktoś wcześniej zmienił
      var saved = localStorage.getItem(BH_STORE_KEY);
      var lbl = document.querySelector('#bh-translator .bh-translator-label');
      if (lbl && saved) lbl.textContent = 'Lang: ' + saved.toUpperCase();
    }
  }
  if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', bhInit); else bhInit();

  // ========== DODATKOWO: brak tooltipów/bannerów (gdyby przeglądarka coś próbowała) ==========
  (function hardenNoGoogle(){
    var meta = document.querySelector('meta[name="google"][content*="notranslate"]');
    if (!meta) {
      var m = document.createElement('meta'); m.name='google'; m.content='notranslate'; document.head.appendChild(m);
    }
    var s = document.createElement('style'); s.setAttribute('data-bh-style','anti-google-translate'); s.textContent = `
.goog-te-banner-frame,.goog-te-gadget,.goog-tooltip,.goog-te-balloon-frame,#google_translate_element,
.VIpgJd-ZVi9od-ORHb,.VIpgJd-ZVi9od-l4eHX-hSRGPd,.VIpgJd-ZVi9od-ORHb-OEVmcd{display:none !important;visibility:hidden !important}
body{top:0 !important}
`; document.head.appendChild(s);
    try { localStorage.removeItem('googtrans'); sessionStorage.removeItem('googtrans'); } catch(_){}
    window.googleTranslateElementInit = function(){};
  })();

})();
</script>
<!-- END bh-patch:translator-fix-v2 -->
</body>
</html>
