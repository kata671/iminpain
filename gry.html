<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boli Help ‚Äî Gry PRO (2025)</title>
  <meta name="theme-color" content="#0e1230" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="assets/style.css?v=10" />

  <!-- WebGL engines (CDN, no modules) -->
  <script defer src="https://cdn.jsdelivr.net/npm/pixi.js@7.4.0/dist/pixi.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/pixi-filters@5/dist/pixi-filters.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

  <style>
    html,body{height:100%}
    body{margin:0;background:#0e1230;color:#eef2ff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    .bg-anim{position:fixed;inset:0;z-index:-2;pointer-events:none;
      background:
        radial-gradient(42vw 36vh at 16% 12%, rgba(255,110,199,.26), transparent 60%),
        radial-gradient(36vw 30vh at 84% 10%, rgba(94,234,212,.22), transparent 60%),
        radial-gradient(40vw 44vh at 20% 88%, rgba(164,107,255,.16), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
      filter:blur(10px) saturate(118%);
    }
    .grid-bg{position:fixed;inset:0;z-index:-1;pointer-events:none;opacity:.22;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='104' viewBox='0 0 120 104'%3E%3Cg fill='none' stroke='rgba(173,216,255,0.26)' stroke-width='1'%3E%3Cpolygon points='30,0 90,0 120,52 90,104 30,104 0,52'/%3E%3C/g%3E%3C/svg%3E");
      background-size:160px 138px;background-position:center}
    .container{max-width:1100px;margin:0 auto;padding:16px}
    header{display:flex;justify-content:space-between;align-items:flex-end;gap:12px;flex-wrap:wrap}
    h1{margin:0}

    .grid{display:grid;gap:16px;margin-top:16px;grid-template-columns:repeat(2,1fr)}
    @media(max-width:900px){.grid{grid-template-columns:1fr}}

    .card{border-radius:18px;background:rgba(60,32,100,.32);border:1px solid rgba(164,107,255,.22);
      box-shadow:0 10px 22px rgba(8,10,22,.5), inset 0 0 0 1px rgba(164,107,255,.14);
      padding:14px;display:flex;gap:12px;align-items:flex-start}
    .ico{width:42px;height:42px;border-radius:12px;display:grid;place-items:center;background:rgba(94,234,212,.15);border:1px solid rgba(94,234,212,.35);font-size:22px}
    .card h3{margin:0 0 4px}
    .desc{color:#cfe2ff;font-size:13px;margin:0 0 8px}
    .btn{appearance:none;border:1px solid rgba(164,107,255,.28);background:rgba(255,255,255,.06);
      color:#eef2ff;border-radius:12px;padding:8px 12px;font-weight:800;cursor:pointer}
    .btn:hover{transform:translateY(-1px);border-color:rgba(164,107,255,.55);box-shadow:0 10px 24px rgba(8,10,22,.45)}

    /* Modal */
    .modal{position:fixed;inset:0;display:none;z-index:30;background:radial-gradient(50% 50% at 50% 50%, rgba(14,18,48,.9), rgba(14,18,48,.96));backdrop-filter:blur(6px)}
    .modal[aria-hidden="false"]{display:block}
    .panel{position:relative;max-width:1100px;margin:5vh auto;padding:16px;background:rgba(60,32,100,.36);border:1px solid rgba(164,107,255,.25);border-radius:18px;box-shadow:0 18px 46px rgba(8,10,22,.55), 0 0 22px rgba(164,107,255,.18)}
    .panel-head{display:flex;justify-content:space-between;align-items:center;gap:12px}
    .close{appearance:none;background:transparent;border:1px solid rgba(164,107,255,.25);color:#e7eaff;border-radius:10px;padding:6px 10px;cursor:pointer}
    .holder{position:relative;aspect-ratio:16/9;width:100%;max-height:70vh;overflow:hidden;border-radius:12px;border:1px solid rgba(255,255,255,.12);background:rgba(10,12,28,.6)}

    .hud{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0}
    .tag{padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.06);font-weight:800}

    /* Toast */
    .toast{position:fixed;right:16px;bottom:16px;display:none;z-index:50}
    .toast.show{display:block;animation:fadeIn .25s ease both}
    .toast .box{background:rgba(60,32,100,.9);border:1px solid rgba(164,107,255,.35);color:#eafff7;border-radius:12px;padding:10px 12px;box-shadow:0 14px 28px rgba(8,10,22,.5)}
    @keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
  </style>
</head>
<body>
  <div class="bg-anim" aria-hidden="true"></div>
  <div class="grid-bg" aria-hidden="true"></div>

  <div class="container">
    <header>
      <div>
        <h1>üéÆ Gry PRO (WebGL)</h1>
        <div style="opacity:.9;color:#cfe2ff">Nowoczesne WebGL gry szkoleniowe ‚Äî bez build√≥w, na CDN.</div>
      </div>
      <a href="index.html" class="btn" style="text-decoration:none">‚Üê Powr√≥t</a>
    </header>

    <section class="grid">
      <article class="card">
        <div class="ico">üéØ</div>
        <div>
          <h3>Holo Aim Arena</h3>
          <p class="desc">Neonowe cele, glow, czƒÖsteczki, combo. Mobilne i desktop.</p>
          <button class="btn" data-game-open="aim">Zagraj</button>
        </div>
      </article>

      <article class="card">
        <div class="ico">ü´Å</div>
        <div>
          <h3>BreathSync XR</h3>
          <p class="desc">3D oddech z shaderem: wdech/wydech, koherencja, punktacja.</p>
          <button class="btn" data-game-open="breath">Zagraj</button>
        </div>
      </article>

      <article class="card">
        <div class="ico">üöÄ</div>
        <div>
          <h3>Neuro Dash</h3>
          <p class="desc">Endless-runner 3D: pasy, przeszkody, gesty.</p>
          <button class="btn" data-game-open="runner">Zagraj</button>
        </div>
      </article>

      <article class="card">
        <div class="ico">ü¶†</div>
        <div>
          <h3>Microbe Lab</h3>
          <p class="desc">Symulacja czƒÖsteczek: ‚Äûlaser‚Äù usuwa patogeny.</p>
          <button class="btn" data-game-open="microbe">Zagraj</button>
        </div>
      </article>
    </section>
  </div>

  <!-- Toast -->
  <div class="toast" id="gToast" role="status" aria-live="polite">
    <div class="box" id="gToastText">OK</div>
  </div>

  <!-- ===== Modale ===== -->
  <div id="gAim" class="modal" aria-hidden="true">
    <div class="panel">
      <div class="panel-head"><div class="tag">üéØ Holo Aim Arena</div><button class="close" data-game-close>‚úï</button></div>
      <div class="hud">
        <span class="tag">Wynik: <b id="aimScore">0</b></span>
        <span class="tag">Combo: <b id="aimCombo">x1</b></span>
        <span class="tag">Czas: <b id="aimTime">60s</b></span>
        <span class="tag">Najlepszy: <b id="aimBest">‚Äî</b></span>
        <span class="tag">Poziom:
          <select id="aimLevel" class="btn" style="padding:6px 10px">
            <option value="easy">≈Çatwy</option>
            <option value="normal" selected>normalny</option>
            <option value="hard">trudny</option>
            <option value="insane">insane</option>
          </select>
        </span>
        <button id="aimStart" class="btn">Start</button>
        <button id="aimReset" class="btn">Reset</button>
      </div>
      <div id="aimArena" class="holder"></div>
    </div>
  </div>

  <div id="gBreath" class="modal" aria-hidden="true">
    <div class="panel">
      <div class="panel-head"><div class="tag">ü´Å BreathSync XR</div><button class="close" data-game-close>‚úï</button></div>
      <div class="hud">
        <span class="tag">Czas: <b id="brTime">90s</b></span>
        <span class="tag">Koherencja: <b id="brScore">0%</b></span>
        <button id="brStart" class="btn">Start</button>
        <button id="brReset" class="btn">Reset</button>
      </div>
      <div id="brArena" class="holder"></div>
    </div>
  </div>

  <div id="gRunner" class="modal" aria-hidden="true">
    <div class="panel">
      <div class="panel-head"><div class="tag">üöÄ Neuro Dash</div><button class="close" data-game-close>‚úï</button></div>
      <div class="hud">
        <span class="tag">Dystans: <b id="runScore">0</b></span>
        <span class="tag">Najlepszy: <b id="runBest">‚Äî</b></span>
        <button id="runStart" class="btn">Start</button>
        <button id="runReset" class="btn">Reset</button>
      </div>
      <div id="runArena" class="holder"></div>
    </div>
  </div>

  <div id="gMicrobe" class="modal" aria-hidden="true">
    <div class="panel">
      <div class="panel-head"><div class="tag">ü¶† Microbe Lab</div><button class="close" data-game-close>‚úï</button></div>
      <div class="hud">
        <span class="tag">Czas: <b id="miTime">60s</b></span>
        <span class="tag">Wynik: <b id="miScore">0</b></span>
        <span class="tag">Najlepszy: <b id="miBest">‚Äî</b></span>
        <button id="miStart" class="btn">Start</button>
        <button id="miReset" class="btn">Reset</button>
      </div>
      <div id="miArena" class="holder"></div>
    </div>
  </div>

  <!-- Modal wiring -->
  <script>
    (function(){
      function $(s,ctx=document){return ctx.querySelector(s)}
      document.querySelectorAll('[data-game-open]').forEach(b=>{
        b.addEventListener('click',()=>{
          const id=b.getAttribute('data-game-open');
          const modal=$('#g'+id.charAt(0).toUpperCase()+id.slice(1));
          if(modal) modal.setAttribute('aria-hidden','false');
        });
      });
      document.querySelectorAll('[data-game-close]').forEach(b=>{
        b.addEventListener('click',()=>b.closest('.modal').setAttribute('aria-hidden','true'));
      });
      // toast helper
      window.__toast=function(msg){
        const t=$("#gToast"), txt=$("#gToastText");
        if(!t||!txt) return;
        txt.textContent=msg; t.classList.add("show");
        setTimeout(()=>t.classList.remove("show"),1800);
      }
    })();
  </script>

  <!-- Engines -->
  <script defer src="assets/pro-aim.js?v=1.1"></script>
  <script defer src="assets/pro-breath.js?v=1.1"></script>
  <script defer src="assets/pro-runner.js?v=1.1"></script>
  <script defer src="assets/pro-microbe.js?v=1.1"></script>
</body>
</html>
