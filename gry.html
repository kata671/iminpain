<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boli Help ‚Äî Gry PRO (2025)</title>
  <meta name="theme-color" content="#0e1230" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="assets/style.css?v=10" />

  <!-- WebGL engines (cdnjs, dzia≈ÇajƒÖ na GitHub Pages) -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/pixi-filters/5.2.1/pixi-filters.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r160/three.min.js"></script>

  <style>
    html,body{height:100%}
    body{
      margin:0;
      background:#0e1230;
      color:#eef2ff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .bg-anim{position:fixed;inset:0;z-index:-2;pointer-events:none;
      background:
        radial-gradient(42vw 36vh at 16% 12%, rgba(255,110,199,.26), transparent 60%),
        radial-gradient(36vw 30vh at 84% 10%, rgba(94,234,212,.22), transparent 60%),
        radial-gradient(40vw 44vh at 20% 88%, rgba(164,107,255,.16), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
      filter:blur(10px) saturate(118%);
    }

    .grid-bg{position:fixed;inset:0;z-index:-1;pointer-events:none;opacity:.22;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='104' viewBox='0 0 120 104'%3E%3Cg fill='none' stroke='rgba(173,216,255,0.26)' stroke-width='1'%3E%3Cpolygon points='30,0 90,0 120,52 90,104 30,104 0,52'/%3E%3C/g%3E%3C/svg%3E");
      background-size:160px 138px; background-position:center;
    }

    .container{max-width:1100px;margin:0 auto;padding:16px}
    header{display:flex;justify-content:space-between;align-items:flex-end;gap:12px;padding:14px 0}
    h1{margin:0}

    .grid{display:grid;gap:16px;margin-top:16px;grid-template-columns:repeat(2,1fr)}
    @media(max-width:900px){.grid{grid-template-columns:1fr}}

    .card{border-radius:18px;background:rgba(60,32,100,.32);border:1px solid rgba(164,107,255,.22);
      box-shadow:0 10px 22px rgba(8,10,22,.5), 0 0 0 1px rgba(164,107,255,.14) inset;
      padding:14px;display:flex;gap:12px;align-items:flex-start;flex-direction:column;transition:transform .2s ease, box-shadow .2s ease;
    }
    .card:hover{transform:translateY(-2px);box-shadow:0 16px 30px rgba(8,10,22,.7)}
    .ico{width:42px;height:42px;border-radius:12px;display:grid;place-items:center;
      background:rgba(94,234,212,.15);border:1px solid rgba(94,234,212,.35);font-size:22px}
    .card h3{margin:0 0 4px}
    .desc{color:#cfe2ff;font-size:13px;margin:0 0 8px}
    .btn{appearance:none;border:1px solid rgba(164,107,255,.28);background:rgba(255,255,255,.06);
      color:#eef2ff;border-radius:12px;padding:8px 12px;font-weight:800;cursor:pointer;
      transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }
    .btn:hover{transform:translateY(-1px);border-color:rgba(164,107,255,.55);box-shadow:0 10px 24px rgba(8,10,22,.45)}

    /* Modal */
    .modal{position:fixed;inset:0;display:none;z-index:30;
      background:radial-gradient(50% 50% at 50% 50%, rgba(14,18,48,.9), rgba(14,18,48,.95));
      backdrop-filter:saturate(120%) blur(6px);
    }
    .modal[aria-hidden="false"]{display:block}
    .panel{position:relative;max-width:1100px;margin:5vh auto;padding:16px;
      background:rgba(60,32,100,.36);border:1px solid rgba(164,107,255,.25);border-radius:18px;
      box-shadow:0 18px 46px rgba(8,10,22,.55), 0 0 22px rgba(164,107,255,.18);color:#eef2ff;
    }
    .panel-head{display:flex;justify-content:space-between;align-items:center;gap:12px}
    .close{appearance:none;background:transparent;border:1px solid rgba(164,107,255,.25);
      color:#e7eaff;border-radius:10px;padding:6px 10px;cursor:pointer}
    .close:hover{box-shadow:0 0 0 2px rgba(255,110,199,.28)}
  </style>
</head>
<body>
  <!-- T≈Ço -->
  <div class="bg-anim" aria-hidden="true"></div>
  <div class="grid-bg" aria-hidden="true"></div>

  <div class="container">
    <header>
      <div>
        <h1>üéÆ Gry PRO</h1>
        <p class="desc">Nowoczesne mini-gry edukacyjne (2025)</p>
      </div>
      <a href="index.html" class="btn">‚Üê Powr√≥t</a>
    </header>

    <!-- Siatka gier -->
    <div class="grid">
      <div class="card">
        <div class="ico">üéØ</div>
        <h3>Aim Pro</h3>
        <p class="desc">Trenuj refleks i precyzjƒô klikajƒÖc cele 3D.</p>
        <button class="btn" data-game-open="aimpro">Zagraj</button>
      </div>
      <div class="card">
        <div class="ico">‚ö°</div>
        <h3>Neon Reflex</h3>
        <p class="desc">Szybko reaguj na zmieniajƒÖce siƒô ≈õwiat≈Ça i d≈∫wiƒôki.</p>
        <button class="btn" data-game-open="neonreflex">Zagraj</button>
      </div>
    </div>
  </div>

  <!-- Modale -->
  <div id="gAimpro" class="modal" aria-hidden="true">
    <div class="panel">
      <div class="panel-head">
        <h2>üéØ Aim Pro</h2>
        <button class="close" data-game-close>‚úï</button>
      </div>
      <div class="panel-body">
        <div id="aimBoard" style="position:relative;height:320px;background:rgba(255,255,255,.05);border-radius:14px;"></div>
        <button id="aimStart" class="btn">Start</button>
        <button id="aimReset" class="btn">Reset</button>
        <p>Wynik: <span id="aimScore">0</span> | Najlepszy: <span id="aimBest">‚Äî</span></p>
      </div>
    </div>
  </div>

  <div id="gNeonreflex" class="modal" aria-hidden="true">
    <div class="panel">
      <div class="panel-head">
        <h2>‚ö° Neon Reflex</h2>
        <button class="close" data-game-close>‚úï</button>
      </div>
      <div class="panel-body">
        <canvas id="neonCanvas" width="600" height="300"></canvas>
        <button id="neonStart" class="btn">Start</button>
        <p>Reakcja: <span id="neonTime">‚Äî</span> ms</p>
      </div>
    </div>
  </div>

  <script src="assets/main.js?v=10"></script>
  <script src="assets/games.js?v=5.0"></script>
<!-- === BoliHelp: hotfix modali + start gier (wkleiƒá przed </body>) === -->
<script>
(function(){
  // 1) MODALE: dzia≈Çaj zar√≥wno dla .modal jak i .bh-games-modal
  function openModalByKey(key){
    const id = 'g' + key.charAt(0).toUpperCase() + key.slice(1); // aimpro -> gAimpro
    const m  = document.getElementById(id);
    if (m) m.setAttribute('aria-hidden','false');
  }
  function closeModal(m){
    if (!m) return;
    m.setAttribute('aria-hidden','true');
  }
  function closeAll(){
    document.querySelectorAll('.modal[aria-hidden="false"], .bh-games-modal[aria-hidden="false"]').forEach(closeModal);
  }

  // Otwieranie
  document.addEventListener('click',(e)=>{
    const btn = e.target.closest('[data-game-open]');
    if (btn){
      openModalByKey(btn.getAttribute('data-game-open'));
    }
    if (e.target.closest('[data-game-close]')){
      closeModal(e.target.closest('.modal, .bh-games-modal'));
    }
  });
  // Klik w t≈Ço
  document.addEventListener('mousedown',(e)=>{
    const m = e.target.closest('.modal, .bh-games-modal');
    if (m && e.target === m) closeModal(m);
  });
  // Escape
  document.addEventListener('keydown',(e)=>{ if(e.key==='Escape') closeAll(); });

  // 2) SZYBKI CHECK BIBLIOTEK
  window.addEventListener('load', function(){
    var missing=[];
    if(!window.PIXI)  missing.push('PIXI.js');
    if(!window.THREE) missing.push('Three.js');
    if(missing.length){
      var box=document.createElement('div');
      Object.assign(box.style,{
        position:'fixed',left:'16px',right:'16px',bottom:'16px',zIndex:99999,
        padding:'12px 14px',border:'1px solid rgba(255,107,107,.6)',
        background:'rgba(60,32,100,.95)',color:'#ffeaea',borderRadius:'12px',
        font:'600 14px system-ui,Segoe UI,Roboto'
      });
      box.textContent='Nie za≈Çadowa≈Çy siƒô biblioteki: '+missing.join(', ')+'. Od≈õwie≈º twardo (Ctrl/Cmd+Shift+R).';
      document.body.appendChild(box);
    }
  });
})();
</script>

<!-- 3) ≈Åadowanie nowoczesnych gier (zmie≈Ñ nazwƒô tylko je≈õli wgra≈Ça≈õ inne) -->
<script defer src="assets/pro-aim.js?v=2"></script>
<script defer src="assets/pro-neonreflex.js?v=2"></script>
</body>
</html>
