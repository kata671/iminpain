<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boli Help ‚Äî Gry / Trening</title>

  <!-- G≈Ç√≥wny CSS aplikacji (jak na home) -->
  <link rel="stylesheet" href="assets/style.css?v=10" />

  <style>
    /* T≈ÅO ‚Äì jak na stronie g≈Ç√≥wnej */
    html,body{height:100%}
    body{
      position:relative; background:#0e1230; color:#eef2ff;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .bh-wallpaper,.bh-grid{position:fixed;inset:0;pointer-events:none}
    .bh-wallpaper{
      z-index:0;
      background:
        radial-gradient(42vw 36vh at 16% 12%, rgba(255,110,199,.30), transparent 60%),
        radial-gradient(36vw 30vh at 84% 10%, rgba(94,234,212,.22), transparent 60%),
        radial-gradient(40vw 44vh at 20% 88%, rgba(164,107,255,.16), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
      filter: blur(10px) saturate(118%);
    }
    .bh-grid{
      z-index:1; opacity:.22;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='104' viewBox='0 0 120 104'%3E%3Cg fill='none' stroke='rgba(173,216,255,0.26)' stroke-width='1'%3E%3Cpolygon points='30,0 90,0 120,52 90,104 30,104 0,52'/%3E%3C/g%3E%3C/svg%3E");
      background-size:160px 138px; background-position:center;
    }
    .bh-floor-fade{
      position:fixed; left:0; right:0; bottom:0; height:120px; z-index:2; pointer-events:none;
      background:linear-gradient(180deg, rgba(14,18,48,0), rgba(14,18,48,.35) 55%, rgba(14,18,48,.6));
    }
    .container{position:relative;z-index:3;max-width:1100px;margin:0 auto;padding:16px}

    /* Karty gier */
    .bh-games-grid{ display:grid; gap:16px; margin:18px 0 8px; grid-template-columns:repeat(3,1fr) }
    @media (max-width:980px){ .bh-games-grid{ grid-template-columns:repeat(2,1fr) } }
    @media (max-width:640px){ .bh-games-grid{ grid-template-columns:1fr } }
    .bh-games-card{
      border-radius:18px; background:rgba(60,32,100,.32); border:1px solid rgba(164,107,255,.22);
      box-shadow:0 10px 22px rgba(255,110,199,.12), 0 0 0 1px rgba(164,107,255,.14) inset;
      padding:14px; display:flex; gap:12px; align-items:flex-start;
      transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .bh-games-card:hover{ transform:translateY(-2px); box-shadow:0 16px 30px rgba(8,10,22,.5) }
    .bh-games-ico{ width:42px; height:42px; border-radius:12px; display:grid; place-items:center;
      background:rgba(94,234,212,.15); border:1px solid rgba(94,234,212,.35); font-size:22px; }
    .bh-games-title{ font-weight:900; letter-spacing:.3px; margin:0 0 4px; }
    .bh-games-desc{ color:#cfe2ff; font-size:13px; margin:0 0 6px }
    .bh-games-actions{ display:flex; gap:8px; flex-wrap:wrap }
    .bh-games-btn{
      appearance:none; border:1px solid rgba(164,107,255,.28); background:rgba(255,255,255,.06);
      color:#eef2ff; border-radius:12px; padding:8px 12px; font-weight:800; cursor:pointer;
      transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }
    .bh-games-btn:hover{ transform:translateY(-1px); border-color:rgba(164,107,255,.55); box-shadow:0 10px 24px rgba(8,10,22,.45) }
    .bh-games-btn[disabled]{opacity:.6; cursor:not-allowed}

    /* RKO Tempo Tap */
    .rko-wrap{ display:grid; grid-template-columns:1.2fr 1fr; gap:16px; margin-top:12px }
    @media (max-width:900px){ .rko-wrap{ grid-template-columns:1fr } }
    .pad{ display:grid; place-items:center; min-height:260px; border-radius:14px;
      background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.16) }
    .pad .tap{ width:220px; height:220px; border-radius:50%; display:grid; place-items:center;
      background:radial-gradient(circle at 50% 35%, rgba(94,234,212,.22), rgba(164,107,255,.16));
      box-shadow:0 0 0 2px rgba(94,234,212,.35), 0 0 34px rgba(94,234,212,.22);
      font-weight:900; letter-spacing:.5px; text-align:center; line-height:1.2; cursor:pointer; user-select:none;
      transition: transform .08s ease;
    }
    .pad .tap:active{ transform:scale(.985) }
    .stats{ border-radius:14px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.16); padding:12px }
    .stat{ display:flex; justify-content:space-between; margin:6px 0; font-weight:800 }
    .bar{ height:12px; border-radius:999px; outline:1px solid rgba(255,255,255,.16);
      background:linear-gradient(90deg, #5eead4, #ff6ec7); position:relative; overflow:hidden }
    .cursor{ position:absolute; top:50%; transform:translate(-50%,-50%); width:16px; height:16px; border-radius:50%;
      background:#fff; box-shadow:0 0 0 2px rgba(94,234,212,.35), 0 0 18px rgba(94,234,212,.25); transition:left .28s ease }

    /* Toast */
    .toast{ position:fixed; right:16px; bottom:16px; z-index:10000; display:none }
    .toast.show{ display:block; animation:fadeIn .25s ease both }
    .toast .box{ background:rgba(60,32,100,.9); border:1px solid rgba(164,107,255,.35); color:#eafff7;
      border-radius:12px; padding:10px 12px; box-shadow:0 14px 28px rgba(8,10,22,.5) }
    @keyframes fadeIn{ from{ opacity:0; transform:translateY(6px) } to{ opacity:1; transform:none } }

    /* Link powrotu */
    a.back{display:inline-flex;gap:8px;align-items:center;text-decoration:none;color:#cfe2ff;border:1px solid rgba(164,107,255,.28);padding:8px 12px;border-radius:12px}
  </style>
</head>
<body>
  <!-- Tapeta -->
  <div class="bh-wallpaper" aria-hidden="true"></div>
  <div class="bh-grid" aria-hidden="true"></div>
  <div class="bh-floor-fade" aria-hidden="true"></div>

  <div class="container">
    <header style="display:flex;justify-content:space-between;align-items:center;gap:12px">
      <h1 style="margin:0">üéÆ Gry / Trening</h1>
      <a href="index.html" class="back">‚Üê Powr√≥t</a>
    </header>

    <!-- Kafelki gier -->
    <section class="bh-games-grid" aria-label="Wyb√≥r gry">
      <article class="bh-games-card">
        <div class="bh-games-ico">üíì</div>
        <div>
          <div class="bh-games-title">RKO Tempo Tap</div>
          <p class="bh-games-desc">Utrzymaj tempo <b>100‚Äì120/min</b> przez 30 s ‚Äî trenuj prawid≈Çowy rytm ucisk√≥w.</p>
          <div class="bh-games-actions"><button class="bh-games-btn" id="openRko">Start</button></div>
        </div>
      </article>

      <article class="bh-games-card" aria-disabled="true">
        <div class="bh-games-ico">ü´Å</div>
        <div>
          <div class="bh-games-title">Zad≈Çawienie 5+5</div>
          <p class="bh-games-desc">Sekwencja 5 uderze≈Ñ ‚Üî 5 uci≈õniƒôƒá ‚Äî <i>wkr√≥tce</i>.</p>
          <div class="bh-games-actions"><button class="bh-games-btn" disabled>Wkr√≥tce</button></div>
        </div>
      </article>

      <article class="bh-games-card" aria-disabled="true">
        <div class="bh-games-ico">‚ö†Ô∏è</div>
        <div>
          <div class="bh-games-title">Hazard Hunt</div>
          <p class="bh-games-desc">Wypatrz zagro≈ºenia na scenie wypadku ‚Äî <i>wkr√≥tce</i>.</p>
          <div class="bh-games-actions"><button class="bh-games-btn" disabled>Wkr√≥tce</button></div>
        </div>
      </article>
    </section>

    <!-- Panel RKO -->
    <section id="rkoPanel" style="display:none">
      <h2 style="margin:12px 0 6px;font-size:18px;letter-spacing:.3px">üíì RKO Tempo Tap</h2>
      <div class="rko-wrap">
        <div class="pad">
          <button class="tap" id="tapBtn" type="button" aria-label="Stukaj w rytmie RKO">
            Stukaj rytm<br>100‚Äì120/min<br><small>(klik/space)</small>
          </button>
        </div>
        <div class="stats">
          <div class="stat"><span>BPM</span><span id="bpm">0</span></div>
          <div class="stat"><span>W zakresie</span><span id="inRange">0%</span></div>
          <div class="bar" aria-label="Postƒôp treningu"><span class="cursor" id="cursor" style="left:6%"></span></div>
          <div class="stat"><span>Czas</span><span id="time">30s</span></div>
          <div style="margin-top:10px" class="bh-games-actions">
            <button class="bh-games-btn" id="startBtn">Start 30s</button>
            <button class="bh-games-btn" id="resetBtn">Reset</button>
          </div>
          <p class="bh-games-desc" style="margin-top:8px">Cel: utrzymaj <b>‚â•70%</b> czasu w zakresie 100‚Äì120 BPM, aby zdobyƒá odznakƒô <b>Tempo Master</b>.</p>
        </div>
      </div>
    </section>
  </div>

  <!-- Toast -->
  <div class="toast" id="toast" role="status" aria-live="polite">
    <div class="box">üèÖ Odznaka zdobyta: <b>Tempo Master</b> ‚Äî ≈õwietna robota!</div>
  </div>

  <script>
  // Logika RKO (tylko na tej stronie)
  (function(){
    const openRko = document.getElementById('openRko');
    const panel = document.getElementById('rkoPanel');
    const tap = document.getElementById('tapBtn');
    const startBtn = document.getElementById('startBtn');
    const resetBtn = document.getElementById('resetBtn');
    const bpmEl = document.getElementById('bpm');
    const inRangeEl = document.getElementById('inRange');
    const timeEl = document.getElementById('time');
    const cursor = document.getElementById('cursor');
    const toast = document.getElementById('toast');

    if(!openRko) return;

    openRko.addEventListener('click', ()=>{
      panel.style.display='block';
      scrollTo({top:panel.offsetTop-8,behavior:'smooth'});
    });

    let taps=[], startAt=null, timer=null, secs=30, inRangeMs=0;
    const now = ()=>performance.now();

    function calcBPM(){
      if(taps.length<2) return 0;
      const recent = taps.slice(-6);
      let intervals=[];
      for(let i=1;i<recent.length;i++) intervals.push(recent[i]-recent[i-1]);
      const avg = intervals.reduce((a,b)=>a+b,0)/intervals.length;
      return Math.round(60000/avg);
    }

    function onTap(){
      const t = now();
      if(!startAt) return;
      taps.push(t);
      const bpm = calcBPM();
      bpmEl.textContent = bpm;
      const inRange = (bpm>=100 && bpm<=120);
      if(inRange){ inRangeMs += (1000/Math.max(1,bpm/60)); }
      const pct = Math.round((inRangeMs/(secs*1000))*100);
      inRangeEl.textContent = Math.min(100, Math.max(0,pct)) + '%';
      tap.style.transform='scale(.985)'; setTimeout(()=>tap.style.transform='',80);
    }

    function start(){
      if(startAt) return; // ju≈º trwa
      taps=[]; inRangeMs=0; bpmEl.textContent='0'; inRangeEl.textContent='0%';
      secs=30; timeEl.textContent=secs+'s'; cursor.style.left='6%';
      startAt = now();
      const tick = ()=>{
        const elapsed = Math.min(secs, Math.floor((now()-startAt)/1000));
        timeEl.textContent = (secs-elapsed)+'s';
        cursor.style.left = (6 + (elapsed/(secs||1))*88) + '%';
        if(elapsed>=secs){
          stop();
          const pct = Math.round((inRangeMs/(secs*1000))*100);
          if(pct>=70){ toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'), 2600); }
          return;
        }
        timer = setTimeout(tick, 200);
      };
      tick();
    }

    function stop(){ if(timer) clearTimeout(timer); timer=null; startAt=null; }
    function reset(){ stop(); taps=[]; inRangeMs=0; bpmEl.textContent='0'; inRangeEl.textContent='0%'; secs=30; timeEl.textContent='30s'; cursor.style.left='6%'; }

    tap.addEventListener('click', onTap);
    document.addEventListener('keydown', (e)=>{ if(e.code==='Space' && panel.style.display==='block'){ e.preventDefault(); onTap(); } });
    startBtn.addEventListener('click', start);
    resetBtn.addEventListener('click', reset);
  })();
  </script>
</body>
</html>
