<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boli Help ‚Äî Gry / Trening</title>
  <meta name="theme-color" content="#0e1230" />
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="assets/style.css?v=10" />

  <style>
    /* Tapeta jak na stronie g≈Ç√≥wnej */
    html,body{height:100%}
    body{
      position:relative; background:#0e1230; color:#eef2ff;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    .bh-wallpaper,.bh-grid{position:fixed;inset:0;pointer-events:none}
    .bh-wallpaper{
      z-index:0;
      background:
        radial-gradient(42vw 36vh at 16% 12%, rgba(255,110,199,.30), transparent 60%),
        radial-gradient(36vw 30vh at 84% 10%, rgba(94,234,212,.22), transparent 60%),
        radial-gradient(40vw 44vh at 20% 88%, rgba(164,107,255,.16), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
      filter: blur(10px) saturate(118%);
    }
    .bh-grid{
      z-index:1; opacity:.22;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='104' viewBox='0 0 120 104'%3E%3Cg fill='none' stroke='rgba(173,216,255,0.26)' stroke-width='1'%3E%3Cpolygon points='30,0 90,0 120,52 90,104 30,104 0,52'/%3E%3C/g%3E%3C/svg%3E");
      background-size:160px 138px; background-position:center;
    }
    .bh-floor-fade{position:fixed; left:0; right:0; bottom:0; height:120px; z-index:2; pointer-events:none;
      background:linear-gradient(180deg, rgba(14,18,48,0), rgba(14,18,48,.35) 55%, rgba(14,18,48,.6));}
    .container{position:relative;z-index:3;max-width:1100px;margin:0 auto;padding:16px;background:transparent !important}

    .header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .brand h1{margin:0}
    .brand small{opacity:.85}

    /* Karty gier */
    .bh-games-grid{ display:grid; gap:16px; margin:12px 0 8px; grid-template-columns:repeat(3,1fr) }
    @media (max-width:980px){ .bh-games-grid{ grid-template-columns:repeat(2,1fr) } }
    @media (max-width:640px){ .bh-games-grid{ grid-template-columns:1fr } }
    .bh-games-card{
      border-radius:18px; background:rgba(60,32,100,.32); border:1px solid rgba(164,107,255,.22);
      box-shadow:0 10px 22px rgba(255,110,199,.12), 0 0 0 1px rgba(164,107,255,.14) inset;
      padding:14px; display:flex; gap:12px; align-items:flex-start;
      transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .bh-games-card:hover{ transform:translateY(-2px); box-shadow:0 16px 30px rgba(8,10,22,.5) }
    .bh-games-ico{ width:42px; height:42px; border-radius:12px; display:grid; place-items:center;
      background:rgba(94,234,212,.15); border:1px solid rgba(94,234,212,.35); font-size:22px; }
    .bh-games-title{ font-weight:900; letter-spacing:.3px; margin:0 0 4px; }
    .bh-games-desc{ color:#cfe2ff; font-size:13px; margin:0 0 6px }
    .bh-games-actions{ display:flex; gap:8px; flex-wrap:wrap }
    .bh-games-btn{
      appearance:none; border:1px solid rgba(164,107,255,.28); background:rgba(255,255,255,.06);
      color:#eef2ff; border-radius:12px; padding:8px 12px; font-weight:800; cursor:pointer;
      transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }
    .bh-games-btn:hover{ transform:translateY(-1px); border-color:rgba(164,107,255,.55); box-shadow:0 10px 24px rgba(8,10,22,.45) }

    /* Modale gier */
    .bh-games-modal{ position:fixed; inset:0; display:none; z-index:9999;
      background:radial-gradient(50% 50% at 50% 50%, rgba(14,18,48,.9), rgba(14,18,48,.95));
      backdrop-filter:saturate(120%) blur(6px); }
    .bh-games-modal[aria-hidden="false"]{ display:block }
    .bh-games-panel{
      position:relative; max-width:900px; margin:6vh auto; padding:16px;
      background:rgba(60,32,100,.36); border:1px solid rgba(164,107,255,.25); border-radius:18px;
      box-shadow:0 18px 46px rgba(8,10,22,.55), 0 0 22px rgba(164,107,255,.18); color:#eef2ff;
    }
    .bh-games-head{ display:flex; justify-content:space-between; align-items:center; gap:12px }
    .bh-games-title-xl{ font-weight:900; letter-spacing:.3px }
    .bh-games-close{ appearance:none; background:transparent; border:1px solid rgba(164,107,255,.25);
      color:#e7eaff; border-radius:10px; padding:6px 10px; cursor:pointer }
    .bh-games-close:hover{ box-shadow:0 0 0 2px rgba(255,110,199,.28) }
    .bh-games-body{ margin-top:12px }

    /* Wsp√≥lne elementy panelu gry */
    .pad{ display:grid; place-items:center; min-height:260px; border-radius:14px;
      background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.16); padding:14px }
    .stats{ border-radius:14px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.16); padding:12px }
    .stat{ display:flex; justify-content:space-between; margin:6px 0; font-weight:800 }
    .bar{ height:12px; border-radius:999px; outline:1px solid rgba(255,255,255,.16);
      background:linear-gradient(90deg, #5eead4, #ff6ec7); position:relative; overflow:hidden }
    .cursor{ position:absolute; top:50%; transform:translate(-50%,-50%); width:16px; height:16px; border-radius:50%;
      background:#fff; box-shadow:0 0 0 2px rgba(94,234,212,.35), 0 0 18px rgba(94,234,212,.25); transition:left .28s ease }

    /* Triage ‚Äî plansza */
    .triage-board{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
    .triage-cell{height:86px;border-radius:12px;display:grid;place-items:center;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);font-size:26px;position:relative;overflow:hidden}
    .triage-badge{position:absolute;bottom:6px;right:6px;font-size:11px;font-weight:900;padding:3px 6px;border-radius:999px}
    .triage-red{background:rgba(255,99,99,.25);border:1px solid rgba(255,99,99,.45)}
    .triage-yellow{background:rgba(255,204,102,.25);border:1px solid rgba(255,204,102,.45)}
    .triage-green{background:rgba(94,234,212,.22);border:1px solid rgba(94,234,212,.45)}

    /* Germ Smash ‚Äî plansza */
    .germ-board{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
    .germ-hole{height:86px;border-radius:12px;border:1px solid rgba(255,255,255,.18);background:rgba(255,255,255,.06);position:relative;overflow:hidden}
    .germ{position:absolute;inset:auto 0 0 0;margin:auto;width:100%;height:0;display:grid;place-items:center;font-size:28px;transition:height .12s ease}
    .germ.show{height:100%}
  </style>
</head>

<body>
  <!-- Tapeta -->
  <div class="bh-wallpaper" aria-hidden="true"></div>
  <div class="bh-grid" aria-hidden="true"></div>
  <div class="bh-floor-fade" aria-hidden="true"></div>

  <div class="container">
    <header class="header">
      <div class="brand">
        <h1>üéÆ Gry / Trening</h1>
        <small>Nauka i ƒáwiczenie pierwszej pomocy</small>
      </div>
      <div><a href="index.html" style="color:#cfe2ff;text-decoration:none">‚Üê Strona g≈Ç√≥wna</a></div>
    </header>

    <section class="bh-games-grid" aria-label="Edukacja interaktywna ‚Äî gry">
      <article class="bh-games-card">
        <div class="bh-games-ico">üíì</div>
        <div>
          <div class="bh-games-title">RKO Tempo Tap</div>
          <p class="bh-games-desc">Utrzymaj tempo <b>100‚Äì120/min</b> przez 30 sekund. Nauka rytmu ucisk√≥w.</p>
          <div class="bh-games-actions"><button class="bh-games-btn" data-game-open="rko">Start</button></div>
        </div>
      </article>

      <article class="bh-games-card">
        <div class="bh-games-ico">ü´Å</div>
        <div>
          <div class="bh-games-title">Zad≈Çawienie 5+5</div>
          <p class="bh-games-desc">Sekwencja: <b>5 uderze≈Ñ w plecy</b> ‚Üî <b>5 uci≈õniƒôƒá nadbrzusza</b>. ƒÜwicz przez 60 s.</p>
          <div class="bh-games-actions"><button class="bh-games-btn" data-game-open="zadlawienie">Start</button></div>
        </div>
      </article>

      <article class="bh-games-card">
        <div class="bh-games-ico">‚ö°</div>
        <div>
          <div class="bh-games-title">AED Timing</div>
          <p class="bh-games-desc">Naci≈õnij <b>WY≈ÅADOWANIE</b> w zielonej strefie. 3 rundy po 5 pr√≥b.</p>
          <div class="bh-games-actions"><button class="bh-games-btn" data-game-open="aed">Start</button></div>
        </div>
      </article>

      <article class="bh-games-card">
        <div class="bh-games-ico">üö¶</div>
        <div>
          <div class="bh-games-title">Reflex Triage</div>
          <p class="bh-games-desc">Klikaj w≈Ça≈õciwy priorytet (üî¥/üü°/üü¢) ‚Äî zdobywaj punkty i nie traƒá ≈ºyƒá!</p>
          <div class="bh-games-actions"><button class="bh-games-btn" data-game-open="triage">Start</button></div>
        </div>
      </article>

      <article class="bh-games-card">
        <div class="bh-games-ico">üß´</div>
        <div>
          <div class="bh-games-title">Germ Smash</div>
          <p class="bh-games-desc">Whack-a-mole! Klikaj zarazki zanim zniknƒÖ. 30 sekund zabawy :)</p>
          <div class="bh-games-actions"><button class="bh-games-btn" data-game-open="germ">Start</button></div>
        </div>
      </article>
    </section>
  </div>

  <!-- Modale gier -->
  <!-- RKO -->
  <div id="gRko" class="bh-games-modal" aria-hidden="true" role="dialog" aria-labelledby="gRkoTitle">
    <div class="bh-games-panel">
      <div class="bh-games-head">
        <div class="bh-games-title-xl" id="gRkoTitle">üíì RKO Tempo Tap</div>
        <button class="bh-games-close" data-game-close>‚úï</button>
      </div>
      <div class="bh-games-body">
        <div class="pad">
          <button class="bh-games-btn" id="rkoTap" style="width:220px;height:220px;border-radius:50%;font-size:16px;font-weight:900">
            Stukaj rytm<br>100‚Äì120/min<br><small>(klik/space)</small>
          </button>
        </div>
        <div class="stats">
          <div class="stat"><span>BPM</span><span id="rkoBpm">0</span></div>
          <div class="stat"><span>W zakresie</span><span id="rkoInRange">0%</span></div>
          <div class="bar" aria-label="Postƒôp treningu">
            <span class="cursor" id="rkoCursor" style="left:6%"></span>
          </div>
          <div class="stat"><span>Czas</span><span id="rkoTime">30s</span></div>
          <div class="bh-games-actions" style="margin-top:10px">
            <button class="bh-games-btn" id="rkoStart">Start 30s</button>
            <button class="bh-games-btn" id="rkoReset">Reset</button>
          </div>
          <p class="bh-games-desc" style="margin-top:8px">Cel: utrzymaj <b>‚â•70%</b> czasu w zakresie ‚Äî odznaka <b>Tempo Master</b>.</p>
          <p class="bh-games-desc" id="rkoBest" style="opacity:.85"></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Zad≈Çawienie 5+5 -->
  <div id="gZdl" class="bh-games-modal" aria-hidden="true" role="dialog" aria-labelledby="gZdlTitle">
    <div class="bh-games-panel">
      <div class="bh-games-head">
        <div class="bh-games-title-xl" id="gZdlTitle">ü´Å Zad≈Çawienie 5+5</div>
        <button class="bh-games-close" data-game-close>‚úï</button>
      </div>
      <div class="bh-games-body">
        <div class="pad" style="text-align:center">
          <p style="margin:4px 0 12px">Wykonuj <b>na zmianƒô</b> 5 uderze≈Ñ w plecy i 5 uci≈õniƒôƒá nadbrzusza (limit 60 s).</p>
          <div style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
            <button class="bh-games-btn" id="zdlBack">Uderzenie w plecy</button>
            <button class="bh-games-btn" id="zdlAbd">Ucisk nadbrzusza</button>
            <button class="bh-games-btn" id="zdlStart">Start</button>
            <button class="bh-games-btn" id="zdlReset">Reset</button>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><span>Etap</span><span id="zdlStage">Plecy (1/5)</span></div>
          <div class="stat"><span>Poprawno≈õƒá sekwencji</span><span id="zdlSeq">OK</span></div>
          <div class="stat"><span>Czas</span><span id="zdlTime">60s</span></div>
          <div class="stat"><span>Wynik</span><span id="zdlScore">0</span></div>
          <p class="bh-games-desc" id="zdlBest" style="opacity:.85"></p>
        </div>
      </div>
    </div>
  </div>

  <!-- AED Timing -->
  <div id="gAed" class="bh-games-modal" aria-hidden="true" role="dialog" aria-labelledby="gAedTitle">
    <div class="bh-games-panel">
      <div class="bh-games-head">
        <div class="bh-games-title-xl" id="gAedTitle">‚ö° AED Timing</div>
        <button class="bh-games-close" data-game-close>‚úï</button>
      </div>
      <div class="bh-games-body">
        <div class="pad">
          <div style="width:100%;max-width:560px;margin:0 auto">
            <p style="margin:4px 0 12px">Kliknij <b>WY≈ÅADOWANIE</b>, gdy znacznik jest w <b>zielonej strefie</b>. 3 rundy √ó 5 pr√≥b.</p>
            <div class="bar" style="height:auto;padding:10px">
              <div class="aed-track" id="aedTrack" style="height:14px;position:relative;border-radius:999px;background:rgba(255,255,255,.1);outline:1px solid rgba(255,255,255,.18)">
                <div class="aed-zone" id="aedZone" style="position:absolute;top:0;bottom:0;border-radius:999px;background:rgba(94,234,212,.35);left:40%;right:35%"></div>
                <div class="aed-marker" id="aedMarker" style="position:absolute;top:50%;transform:translate(-50%,-50%);width:16px;height:16px;border-radius:50%;background:#fff;box-shadow:0 0 0 2px rgba(94,234,212,.35),0 0 18px rgba(94,234,212,.25);left:6%"></div>
              </div>
              <div class="bh-games-actions" style="margin-top:12px;display:flex;gap:8px;align-items:center;flex-wrap:wrap">
                <button class="bh-games-btn" id="aedShock">WY≈ÅADOWANIE</button>
                <button class="bh-games-btn" id="aedStart">Start rundy</button>
                <button class="bh-games-btn" id="aedReset">Reset</button>
              </div>
            </div>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><span>Runda</span><span id="aedRound">1/3</span></div>
          <div class="stat"><span>Trafienia</span><span id="aedHits">0/0</span></div>
          <div class="stat"><span>Wynik ≈ÇƒÖczny</span><span id="aedScore">0</span></div>
          <p class="bh-games-desc" id="aedBest" style="opacity:.85"></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Reflex Triage -->
  <div id="gTriage" class="bh-games-modal" aria-hidden="true" role="dialog" aria-labelledby="gTriageTitle">
    <div class="bh-games-panel">
      <div class="bh-games-head">
        <div class="bh-games-title-xl" id="gTriageTitle">üö¶ Reflex Triage</div>
        <button class="bh-games-close" data-game-close>‚úï</button>
      </div>
      <div class="bh-games-body">
        <div class="pad" style="text-align:center">
          <p style="margin:4px 0 8px">Klikaj pacjent√≥w zgodnie z priorytetem: <b>üî¥Czerwony</b> &nbsp; <b>üü°≈ª√≥≈Çty</b> &nbsp; <b>üü¢Zielony</b>.</p>
          <div style="display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-bottom:8px">
            <button class="bh-games-btn" id="trRed">üî¥ Czerwony</button>
            <button class="bh-games-btn" id="trYellow">üü° ≈ª√≥≈Çty</button>
            <button class="bh-games-btn" id="trGreen">üü¢ Zielony</button>
            <button class="bh-games-btn" id="trStart">Start 30s</button>
            <button class="bh-games-btn" id="trReset">Reset</button>
          </div>
          <div class="triage-board" id="trBoard">
            <!-- 3x3 kom√≥rki tworzone w JS -->
          </div>
        </div>
        <div class="stats">
          <div class="stat"><span>Tryb</span><span id="trMode">Wybierz kolor</span></div>
          <div class="stat"><span>Czas</span><span id="trTime">30s</span></div>
          <div class="stat"><span>Wynik</span><span id="trScore">0</span></div>
          <div class="stat"><span>≈ªycia</span><span id="trLives">3</span></div>
          <p class="bh-games-desc" id="trBest" style="opacity:.85"></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Germ Smash -->
  <div id="gGerm" class="bh-games-modal" aria-hidden="true" role="dialog" aria-labelledby="gGermTitle">
    <div class="bh-games-panel">
      <div class="bh-games-head">
        <div class="bh-games-title-xl" id="gGermTitle">üß´ Germ Smash</div>
        <button class="bh-games-close" data-game-close>‚úï</button>
      </div>
      <div class="bh-games-body">
        <div class="pad" style="text-align:center">
          <p style="margin:4px 0 8px">Klikaj ‚Äûzarazki‚Äù (ü¶†/ü§¢) zanim zniknƒÖ. Czas: 30s.</p>
          <div class="germ-board" id="gmBoard">
            <!-- 3x3 do≈Çki tworzone w JS -->
          </div>
          <div style="display:flex;gap:8px;justify-content:center;flex-wrap:wrap;margin-top:10px">
            <button class="bh-games-btn" id="gmStart">Start</button>
            <button class="bh-games-btn" id="gmReset">Reset</button>
          </div>
        </div>
        <div class="stats">
          <div class="stat"><span>Czas</span><span id="gmTime">30s</span></div>
          <div class="stat"><span>Wynik</span><span id="gmScore">0</span></div>
          <p class="bh-games-desc" id="gmBest" style="opacity:.85"></p>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast (odznaki itp.) -->
  <div class="toast" id="gToast" role="status" aria-live="polite">
    <div class="box" id="gToastText">üèÖ Odznaka!</div>
  </div>

  <script src="assets/games.js?v=3"></script>
</body>
</html>
