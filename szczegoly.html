<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boli Help — Szczegóły</title>
  <meta name="theme-color" content="#0e1230" />
  <style>
    :root{
      --bg:#0e1230; --text:#eef2ff; --muted:#b8c2e0;
      --card: rgba(60,32,100,.30); --stroke: rgba(164,107,255,.18);
      --accent:#a46bff; --pink:#ff6ec7; --teal:#5eead4;
      --ok:#70e1b1; --warn:#ffd16c; --danger:#ff6b6b;
      --radius:16px; --gap:14px; --speed:.24s;
      --c-symptoms: rgba(94,234,212,.55);
      --c-causes:   rgba(164,107,255,.55);
      --c-firstaid: rgba(112,225,177,.55);
      --c-otc:      rgba(255,184,108,.65);
      --c-rx:       rgba(255,107,107,.70);
      --c-rehab:    rgba(94,234,212,.55);
      --c-urgent:   rgba(255,107,107,.70);
      --c-myths:    rgba(255,110,199,.55);
      --c-faq:      rgba(164,107,255,.55);
    }

    html,body{ height:100%; }
    body{
      background: var(--bg) !important; color: var(--text);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      padding: 0; margin: 0;
    }

    .bh-wallpaper,.bh-grid{position:fixed; inset:0; pointer-events:none}
    .bh-wallpaper{
      z-index:0;
      background:
        radial-gradient(42vw 36vh at 16% 12%, rgba(255,110,199,.30), transparent 60%),
        radial-gradient(36vw 30vh at 84% 10%, rgba(164,107,255,.25), transparent 60%),
        radial-gradient(55vw 45vh at 50% 100%, rgba(94,234,212,.20), transparent 60%),
        var(--bg);
    }
    .bh-grid{
      z-index:1; opacity:0.12;
      background-size: 32px 32px;
      background-image: linear-gradient(to right, var(--stroke) 1px, transparent 1px), linear-gradient(to bottom, var(--stroke) 1px, transparent 1px);
    }

    main { position:relative; z-index:2; padding: var(--gap); max-width: 900px; margin: 0 auto; }
    h1 { font-size: 26px; font-weight: 900; margin: 16px 0 24px; color: var(--accent); }
    h2 { font-size: 22px; font-weight: 800; margin-top: 36px; margin-bottom: 12px; }

    .card {
      background: var(--card); border: 1px solid var(--stroke);
      padding: var(--gap); border-radius: var(--radius);
      margin-bottom: var(--gap); backdrop-filter: saturate(120%) blur(6px);
      box-shadow: 0 4px 12px rgba(8,10,22,.2);
      transition: box-shadow var(--speed);
    }
    .card:hover {
      box-shadow: 0 6px 18px rgba(8,10,22,.45);
    }
    .card ul { list-style: none; padding: 0; margin: 0; }
    .card li { margin-bottom: 8px; padding-left: 10px; position: relative; }
    .card li:last-child { margin-bottom: 0; }
    .card li::before { content: '•'; color: var(--teal); position: absolute; left: 0; font-weight: 900; }

    /* SPECIFIC CARD STYLES */

    /* Nagłówek i powrót */
    .header-info { display: flex; align-items: center; justify-content: space-between; gap: var(--gap); margin-bottom: 20px; }
    .header-info h1 { margin: 0; }
    #bhBack {
      appearance: none; border: 1px solid var(--stroke); background: var(--card);
      color: var(--text); font-weight: 700; padding: 8px 14px;
      border-radius: var(--radius); cursor: pointer;
      box-shadow: 0 4px 10px rgba(8,10,22,.2);
      transition: all var(--speed);
    }
    #bhBack:hover { background: rgba(60,32,100,.50); color: var(--accent); }

    /* Wyróżnienia kolorystyczne dla sekcji */
    #s-objawy { border-left: 6px solid var(--c-symptoms); }
    #s-causes { border-left: 6px solid var(--c-causes); }
    #s-firstaid { border-left: 6px solid var(--c-firstaid); }
    #s-otc { border-left: 6px solid var(--c-otc); }
    #s-rx { border-left: 6px solid var(--c-rx); }
    #s-rehab { border-left: 6px solid var(--c-rehab); }
    #s-urgent { border-left: 6px solid var(--c-urgent); }
    #s-myths, #s-faq { border-left: 6px solid var(--c-myths); }
    
    /* Listy */
    .card ul.list { margin-top: 10px; }
    .card ul.list li::before { font-size: 1.2em; top: -1px; }

    /* Alarmowe li (urgent/rx) */
    #s-urgent li::before { color: var(--danger) !important; }
    #s-rx li::before { color: var(--pink) !important; }

    /* Mity i FAQ */
    .myth-item, .faq-item { margin-bottom: 12px; padding: 8px 0; border-bottom: 1px dashed rgba(184,194,224,.1); }
    .myth-item:last-child, .faq-item:last-child { border-bottom: none; }
    .myth-item strong, .faq-item strong { color: var(--accent); display: block; margin-bottom: 4px; }
    .myth-item span, .faq-item span { color: var(--muted); font-size: 0.9em; }
    .myth-item span::before { content: "Prawda: "; color: var(--teal); font-weight: 700; }
    .faq-item span { color: var(--text); }
  </style>
</head>
<body>
  <div class="bh-wallpaper"></div>
  <div class="bh-grid"></div>

  <main id="content-area">
    <div class="header-info">
      <button id="bhBack" onclick="window.history.back()">← Powrót</button>
      <h1 id="page-title">Szczegóły: Ładowanie...</h1>
    </div>

    <div id="content-sections">
      </div>
  </main>

  <script>
    // Ustawienie domyślnego języka
    const LANG_KEY = 'bh.lang';
    let lang = localStorage.getItem(LANG_KEY) || (navigator.language.startsWith('en') ? 'en' : 'pl');
    const L = () => lang;

    // --- PARSOWANIE URL i ALIASY ---
    const qs=new URLSearchParams(location.search);
    const RAW_TYP=(qs.get('typ')||'kobieta').toLowerCase();
    const RAW_CZESC=(qs.get('czesc')||'glowa').toLowerCase();
    const RAW_LABEL=(qs.get('label')||RAW_CZESC).toString();
    const ALIAS={'oko':'glowa','klatka-piersiowa':'klatka','zoladek':'brzuch'};
    const TYP=RAW_TYP, CZESC=(ALIAS[RAW_CZESC]||RAW_CZESC), LABEL=RAW_LABEL; // Używamy skorygowanych nazw
    
    // --- DANE MEDYCZNE (Poprawione i skonsolidowane) ---
    
    const CONTENT_PL = {
      glowa: {
        label:"Głowa, Twarz, Szyja",
        symptoms:[
          "Pulsujący ból głowy (migrena)",
          "Ból uciskowy, 'opaska' (napięciowy)",
          "Ból jednostronny za okiem",
          "Sztywność karku, gorączka (alarm!)",
          "Zawroty głowy, zaburzenia widzenia"
        ],
        causes:[
          "Stres, zmęczenie, odwodnienie",
          "Nadciśnienie tętnicze",
          "Infekcja (np. zatoki, opony - alarm!)"
        ],
        firstaid:[
          "Odpoczynek w ciemnym, cichym pokoju",
          "Zimny okład na czoło/kark",
          "Picie wody, unikanie kofeiny"
        ],
        otc:[
          "Paracetamol (acetaminofen)",
          "Ibuprofen lub Naproksen (NLPZ)"
        ],
        rx:[
          "Tryptany (specyficzne na migrenę)",
          "Leki przeciwymiotne (np. Metoklopramid)"
        ],
        rehab:[
          "Ćwiczenia rozluźniające szyję i ramiona",
          "Techniki relaksacyjne, biofeedback"
        ],
        urgent:[
          "Nagły, najsilniejszy w życiu ból głowy (piorunujący) — pilnie SOR/112",
          "Sztywność karku + gorączka (meningitis/krwawienie) — pilnie SOR/112",
          "Omdlenie, utrata przytomności, niedowład"
        ],
        myths:[
          {m:"Bóle głowy to tylko odwodnienie", f:"Często, ale nagłe i silne mogą być symptomem poważnej choroby (np. udar)."},
          {m:"Na migrenę wystarczy tabletka OTC", f:"Nie zawsze, często wymaga tryptanów na receptę i profilaktyki."}
        ],
        faq:[
          {q:"Kiedy iść do lekarza?", a:"Jeśli ból jest nowy, inny, narastający lub towarzyszą mu objawy alarmowe."},
          {q:"Czy kawa pomaga na migrenę?", a:"Tak, na początku ataku, ale jej nadużywanie może wywołać 'ból z odbicia'."}
        ]
      },
      serce: {
        label:"Serce i Układ Krążenia",
        symptoms:[
          "Kołatanie/nierówne bicie serca",
          {t:"Uczucie ucisku/ciężaru w klatce piersiowej (alarm!)", audience:"adult"},
          {t:"Duszność, trudności z oddychaniem (alarm!)", audience:"adult"},
          "Zawroty głowy, stan przedomdleniowy",
          "Szybki puls (>100) lub wolny puls (<50)"
        ],
        causes:[
          "Stres, kofeina, alkohol",
          "Nadczynność tarczycy",
          "Choroba wieńcowa (zawał, dławica - alarm!)",
          "Zaburzenia rytmu (np. migotanie przedsionków)"
        ],
        firstaid:[
          "Usadzenie w wygodnej pozycji, zapewnienie spokoju",
          "Otwarcie okna, luźne ubranie",
          "Odwrócenie uwagi, spokojne oddychanie"
        ],
        otc:[
          "Magnez i Potas (suplementy)",
          "Leki uspokajające (np. ziołowe)"
        ],
        rx:[
          "Beta-blokery (zwolnienie HR)",
          "Antykoagulanty (przy AFib)",
          "Nitrogliceryna (przy dławicy)"
        ],
        rehab:[
          "Kardiotrening pod kontrolą (po ocenie)",
          "Unikanie używek; monitorowanie elektrolitów"
        ],
        urgent:[
          "Kołatanie z omdleniem, utratą przytomności lub bólem w klatce — pilnie SOR/112",
          "Duszność spoczynkowa, sinica, obrzęki",
          "Utrzymująca się tachykardia >150/min",
          "Objawy udaru (przy AFib + deficyty neurologiczne) — pilnie SOR/112"
        ],
        myths:[
          {m:"Kołatanie to zawsze groźna arytmia", f:"Często łagodna ekstrasystolia, ale wymaga oceny EKG."},
          {m:"Magnez leczy wszystkie kołatania", f:"Pomaga przy niedoborze; nie jest lekiem na arytmie strukturalne."}
        ],
        faq:[
          {q:"Jak się przygotować do wizyty?", a:"Zanotuj epizody (kiedy, co wywołało, jak długo), leki, choroby, pomiary HR/BP."},
          {q:"Czy smartwatch wystarczy?", a:"Może zarejestrować epizody; diagnoza wymaga jednak EKG/Holtera."}
        ]
      },
      klatka: {
        label:"Klatka Piersiowa i Płuca",
        symptoms:[
          "Ból w klatce, ucisk (alarm!)",
          "Ostry, kłujący ból przy wdechu (opłucnowy)",
          "Duszność, ciężki oddech",
          "Kaszel (suchy/mokry)",
          "Odkrztuszanie (np. krwią - alarm!)"
        ],
        causes:[
          "Infekcja dróg oddechowych (np. zapalenie płuc)",
          "Refluks żołądkowo-przełykowy (zgaga)",
          "Zawał serca / dławica (alarm!)",
          "Nerwoból, uraz"
        ],
        firstaid:[
          "Przy duszności: pozycja siedząca, podparcie rąk",
          "Głębokie, powolne oddechy",
          "Wezwanie pomocy przy nasileniu bólu/duszności"
        ],
        otc:[
          "Leki na kaszel (syropy)",
          "Leki zobojętniające (na zgagę)"
        ],
        rx:[
          "Antybiotyki/wirusostatki (przy infekcji)",
          "Leki rozszerzające oskrzela (przy astmie)"
        ],
        rehab:[
          "Ćwiczenia oddechowe, spacery",
          "Unikanie dymu tytoniowego i zanieczyszczeń"
        ],
        urgent:[
          "Nagły, silny ucisk w klatce (promieniujący) — pilnie SOR/112",
          "Sinica, zimny pot, utrata przytomności — pilnie SOR/112",
          "Duszność uniemożliwiająca mówienie"
        ],
        myths:[
          {m:"Każdy ból w klatce to zawał", f:"Większość ma inną przyczynę (np. nerwoból, refluks), ale zawsze wymaga wykluczenia zawału."},
          {m:"Refluks nie boli w klatce", f:"Atypowy refluks imituje ból dławicowy (za mostkiem)."}
        ],
        faq:[
          {q:"Czy e-papieros szkodzi płucom?", a:"Tak, opary i substancje chemiczne szkodzą płucom i układowi krążenia."},
          {q:"Jak odróżnić zawał od nerwicy?", a:"Zawał: ucisk, promieniowanie, duszność, pot. Nerwica: kłucie, 'brakuje mi tchu', często po stresie."}
        ]
      },
      // Dodaj tutaj resztę swoich oryginalnych sekcji (brzuch, plecy, etc.)
    };

    const CONTENT_EN = {
      // Wstaw tutaj swój oryginalny CONTENT_EN (włącznie ze skorygowanymi glowa/serce/klatka)
      glowa: {
        label:"Head, Face, Neck",
        symptoms:[
          "Throbbing headache (migraine)",
          "Pressure, 'band-like' pain (tension)",
          "Unilateral pain behind the eye",
          "Neck stiffness, fever (alarm!)",
          "Dizziness, visual disturbances"
        ],
        causes:[
          "Stress, fatigue, dehydration",
          "High blood pressure (hypertension)",
          "Infection (e.g., sinuses, meninges - alarm!)"
        ],
        firstaid:[
          "Rest in a dark, quiet room",
          "Cold compress on the forehead/neck",
          "Hydration, avoiding caffeine"
        ],
        otc:[
          "Paracetamol (acetaminophen)",
          "Ibuprofen or Naproxen (NSAIDs)"
        ],
        rx:[
          "Triptans (migraine-specific)",
          "Anti-emetics (e.g., Metoclopramide)"
        ],
        rehab:[
          "Stretching exercises for neck/shoulders",
          "Relaxation techniques, biofeedback"
        ],
        urgent:[
          "Sudden, worst headache of life (thunderclap) — urgent ER/112",
          "Neck stiffness + fever (meningitis/bleeding) — urgent ER/112",
          "Fainting, loss of consciousness, paralysis"
        ],
        myths:[
          {m:"Headaches are just dehydration", f:"Often true, but sudden, severe pain can be a symptom of a serious condition (e.g., stroke)."},
          {m:"OTC pill is enough for migraine", f:"Not always, often requires prescription triptans and prophylaxis."}
        ],
        faq:[
          {q:"When to see a doctor?", a:"If the pain is new, different, worsening, or accompanied by alarm symptoms."},
          {q:"Does coffee help migraine?", a:"Yes, at the start of an attack, but overuse can cause 'rebound headaches'."}
        ]
      },
      serce: {
        label:"Heart and Circulatory System",
        symptoms:[
          "Palpitations/irregular heartbeat",
          {t:"Feeling of pressure/heaviness in the chest (alarm!)", audience:"adult"},
          {t:"Shortness of breath, difficulty breathing (alarm!)", audience:"adult"},
          "Dizziness, lightheadedness (pre-syncope)",
          "Fast pulse (>100) or slow pulse (<50)"
        ],
        causes:[
          "Stress, caffeine, alcohol",
          "Hyperthyroidism",
          "Coronary artery disease (MI, angina - alarm!)",
          "Arrhythmias (e.g., atrial fibrillation)"
        ],
        firstaid:[
          "Seating in a comfortable position, ensuring calm",
          "Opening a window, loosening clothing",
          "Distraction, calm breathing"
        ],
        otc:[
          "Magnesium and Potassium (supplements)",
          "Calming medications (e.g., herbal)"
        ],
        rx:[
          "Beta-blockers (to slow HR)",
          "Anticoagulants (for AFib)",
          "Nitroglycerin (for angina)"
        ],
        rehab:[
          "Controlled cardio training (post assessment)",
          "Avoiding stimulants; monitoring electrolytes"
        ],
        urgent:[
          "Palpitations with syncope or chest pain — urgent ER/112",
          "Rest dyspnea, cyanosis, edema",
          "Sustained tachycardia >150/min",
          "Stroke symptoms (AF + neuro deficits) — urgent ER/112"
        ],
        myths:[
          {m:"Palpitations always mean dangerous arrhythmia", f:"Often benign ectopy — but needs ECG assessment."},
          {m:"Magnesium cures all palpitations", f:"Helps if deficient; not a fix for structural arrhythmias."}
        ],
        faq:[
          {q:"How to prep for a visit?", a:"Note episodes (when, trigger, duration), meds, conditions, HR/BP readings."},
          {q:"Is smartwatch enough?", a:"It can capture episodes; diagnosis still relies on ECG/Holter."}
        ]
      },
      klatka: {
        label:"Chest and Lungs",
        symptoms:[
          "Chest pain, pressure (alarm!)",
          "Sharp, stabbing pain when inhaling (pleuritic)",
          "Shortness of breath, heavy breathing",
          "Cough (dry/wet)",
          "Sputum (e.g., blood - alarm!)"
        ],
        causes:[
          "Respiratory infection (e.g., pneumonia)",
          "Gastroesophageal reflux (heartburn)",
          "Heart attack / Angina (alarm!)",
          "Nerve pain, trauma"
        ],
        firstaid:[
          "For dyspnea: sitting position, arm support",
          "Deep, slow breaths",
          "Calling for help if pain/dyspnea worsens"
        ],
        otc:[
          "Cough medications (syrups)",
          "Antacids (for heartburn)"
        ],
        rx:[
          "Antibiotics/antivirals (for infection)",
          "Bronchodilators (for asthma)"
        ],
        rehab:[
          "Breathing exercises, walking",
          "Avoiding tobacco smoke and pollution"
        ],
        urgent:[
          "Sudden, severe pressure in the chest (radiating) — urgent ER/112",
          "Cyanosis, cold sweat, loss of consciousness — urgent ER/112",
          "Dyspnea preventing speech"
        ],
        myths:[
          {m:"All chest pain is a heart attack", f:"Most have other causes (e.g., nerve pain, reflux), but ruling out MI is always necessary."},
          {m:"Reflux doesn't cause chest pain", f:"Atypical reflux mimics anginal pain (behind the sternum)."}
        ],
        faq:[
          {q:"Does e-cigarette harm lungs?", a:"Yes, vapors and chemicals harm the lungs and circulatory system."},
          {q:"How to distinguish MI from anxiety?", a:"MI: pressure, radiating pain, dyspnea, sweating. Anxiety: stabbing pain, 'I can't catch my breath', often after stress."}
        ]
      }
    };
    // Dodaj resztę swojego oryginalnego CONTENT_EN
    
    // --- TŁUMACZENIA SEKCJI ---
    const I18N = {
      pl: {
        sections: {
          symptoms: "Objawy", causes: "Przyczyny", firstaid: "Pierwsza pomoc",
          otc: "Leki bez recepty (OTC)", rx: "Leki na receptę (RX)",
          rehab: "Rehabilitacja / Profilaktyka", urgent: "🔴 Objawy Alarmowe (Czerwone Flagi)",
          myths: "❌ Mity medyczne", faq: "❓ FAQ (Pytania i Odpowiedzi)"
        }
      },
      en: {
        sections: {
          symptoms: "Symptoms", causes: "Causes", firstaid: "First Aid",
          otc: "Over-the-Counter (OTC)", rx: "Prescription Drugs (RX)",
          rehab: "Rehabilitation / Prevention", urgent: "🔴 Urgent Symptoms (Red Flags)",
          myths: "❌ Medical Myths", faq: "❓ FAQ (Questions and Answers)"
        }
      }
    };

    // --- LOGIKA GENEROWANIA TREŚCI ---
    const CONTENT = (L() === 'en') ? CONTENT_EN : CONTENT_PL;
    const TRANSLATIONS = I18N[L()].sections;
    const DATA = CONTENT[CZESC];
    
    if (DATA) {
      document.getElementById('page-title').textContent = (L() === 'pl' ? 'Szczegóły: ' : 'Details: ') + DATA.label;
      const container = document.getElementById('content-sections');
      container.innerHTML = '';
      
      const SECTION_ORDER = ['symptoms', 'causes', 'firstaid', 'otc', 'rx', 'rehab', 'urgent', 'myths', 'faq'];

      const renderList = (items) => {
        if (!items || items.length === 0) return '';
        let html = '<ul class="list">';
        items.forEach(item => {
          if (typeof item === 'string') {
            html += `<li>${item}</li>`;
          } else if (item.t) { // Format dla list z tagami (np. audience)
            html += `<li data-audience="${item.audience || 'all'}">${item.t}</li>`;
          }
        });
        html += '</ul>';
        return html;
      };

      const renderMyths = (items) => {
        if (!items || items.length === 0) return '';
        let html = '<div class="list">';
        items.forEach(item => {
          html += `<div class="myth-item"><strong>Mit: ${item.m}</strong><span>${item.f}</span></div>`;
        });
        html += '</div>';
        return html;
      };

      const renderFAQ = (items) => {
        if (!items || items.length === 0) return '';
        let html = '<div class="list">';
        items.forEach(item => {
          html += `<div class="faq-item"><strong>${item.q}</strong><span>${item.a}</span></div>`;
        });
        html += '</div>';
        return html;
      };

      SECTION_ORDER.forEach(key => {
        const data = DATA[key];
        if (data && (Array.isArray(data) && data.length > 0 || !Array.isArray(data))) {
          const section = document.createElement('section');
          section.id = `s-${key}`;
          section.className = 'card';
          section.innerHTML = `<h2>${TRANSLATIONS[key]}</h2>`;
          
          if (key === 'myths') {
            section.innerHTML += renderMyths(data);
          } else if (key === 'faq') {
            section.innerHTML += renderFAQ(data);
          } else {
            section.innerHTML += renderList(data);
          }

          container.appendChild(section);
        }
      });
      
    } else {
      document.getElementById('page-title').textContent = (L() === 'pl' ? 'Brak Danych' : 'No Data');
      document.getElementById('content-sections').innerHTML = '<p class="card" style="color:var(--danger)">' + (L() === 'pl' ? 'Brak szczegółowych danych dla części ciała: ' : 'No details available for body part: ') + CZESC + '</p>';
    }

  </script>
</body>
</html>
