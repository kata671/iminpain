<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Szczeg√≥≈Çy ‚Äî objawy i pomoc</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="theme-color" content="#7a4dff" />
  <style>
    .detail-hero { display:none; margin:10px auto 14px; max-width:min(960px,95vw);
      border-radius:14px; overflow:hidden; border:1px solid var(--border); background:var(--card);
      box-shadow:0 0 18px rgba(122,77,255,.28), 0 0 36px rgba(80,180,255,.18);
    }
    .detail-hero img { width:100%; height:auto; max-height:320px; object-fit:cover; display:block; }
    .section h2 { display:flex; align-items:center; gap:8px; }
    .pill { display:inline-block; padding:.2rem .5rem; border-radius:999px; font-weight:800; font-size:.85rem; margin:.15rem .25rem 0 0; }
    .pill-otc { background:rgba(18,197,91,.15); border:1px solid rgba(18,197,91,.45); color:#22c15a; }
    .pill-rx  { background:rgba(255,77,90,.15); border:1px solid rgba(255,77,120,.45); color:#ff4d5a; }
    .cta-row { display:flex; gap:10px; flex-wrap:wrap; margin:10px 0 0; }
    .btn { display:inline-block; padding:.6rem .9rem; border-radius:10px; font-weight:800; border:1px solid var(--border); background:var(--card); text-decoration:none; }
    .btn-emg { background:linear-gradient(180deg, rgba(255,77,90,.24), rgba(255,77,120,.18)); border-color:#ff9ca699; animation:pulseRed 2s infinite; }
    .btn-green { background:linear-gradient(180deg, rgba(18,197,91,.18), rgba(18,197,91,.08)); border-color:#22c15a99; color:#137a3c; }
    @keyframes pulseRed { 0%{box-shadow:0 0 6px rgba(255,77,90,.55),0 0 18px rgba(255,77,120,.35); transform:scale(1);} 50%{box-shadow:0 0 16px rgba(255,77,90,.95),0 0 38px rgba(255,77,120,.6); transform:scale(1.02);} 100%{box-shadow:0 0 6px rgba(255,77,90,.55),0 0 18px rgba(255,77,120,.35); transform:scale(1);} }
    .note { opacity:.85; font-size:.95rem; }
    ul { margin:.4rem 0 .2rem; }

    /* przewijanie */
    .section.card ul {
      max-height: 240px;
      overflow-y: auto;
      padding-right: 8px;
    }
    .section.card ul::-webkit-scrollbar { width: 6px; }
    .section.card ul::-webkit-scrollbar-track { background: transparent; }
    .section.card ul::-webkit-scrollbar-thumb { background: rgba(122,77,255,.4); border-radius: 6px; }
    .section.card ul::-webkit-scrollbar-thumb:hover { background: rgba(122,77,255,.6); }

    /* objawy alarmowe */
    .alarm-box {
      background: rgba(255,77,90,.1);
      border: 2px solid rgba(255,77,90,.6);
      border-radius: 12px;
      padding: 12px;
      margin: 10px 0;
      animation: pulseRed 3s infinite;
    }
    .alarm-box h2 { color:#ff4d5a; margin-top:0; }
    .profilaktyka-box {
      background: rgba(18,197,91,.1);
      border: 2px solid rgba(18,197,91,.5);
      border-radius: 12px;
      padding: 12px;
      margin: 10px 0;
    }
    .profilaktyka-box h2 { color:#22c15a; margin-top:0; }
  </style>
</head>
<body class="bg-med">
  <nav class="quickbar">
    <a href="index.html">üè†</a>
    <a href="tel:112">üìû 112</a>
    <a href="pierwsza-pomoc.html">‚õëÔ∏è Pierwsza pomoc</a>
    <a href="lokalizacja.html">üìç Lokalizacja</a>
    <a href="lokalizacja.html#apteki" class="btn btn-green">üíä Apteka 24h</a>
  </nav>

  <header class="site-header">
    <a class="back" href="javascript:history.back()">‚Üê Wr√≥ƒá</a>
    <h1 id="title">Szczeg√≥≈Çy</h1>
    <p id="subtitle" class="subtitle">Przyczyny, objawy, pierwsza pomoc, leki i lekarze</p>
  </header>

  <figure class="detail-hero" id="detailHero"><img id="heroImg" alt=""></figure>

  <main class="container">
    <section class="section card" id="przyczyny">
      <h2>üß© Przyczyny</h2>
      <ul id="list-przyczyny"></ul>
    </section>

    <section class="section card" id="objawy">
      <h2>üîç Objawy</h2>
      <ul id="list-objawy"></ul>
    </section>

    <!-- NOWA SEKCJA: objawy alarmowe -->
    <section class="alarm-box" id="alarm">
      <h2>üö® Objawy alarmowe</h2>
      <ul id="list-alarm"></ul>
    </section>

    <section class="section card" id="pp">
      <h2>‚õëÔ∏è Pierwsza pomoc</h2>
      <ul id="list-pp"></ul>
      <div class="cta-row">
        <a class="btn btn-emg" href="tel:112">üö® Zadzwo≈Ñ 112</a>
        <a class="btn" href="lokalizacja.html">üìç Znajd≈∫ najbli≈ºszƒÖ pomoc</a>
      </div>
    </section>

    <section class="section card" id="leki">
      <h2>üíä Leki</h2>
      <div>
        <span class="pill pill-otc">Bez recepty</span>
        <span class="pill pill-rx">Na receptƒô</span>
      </div>
      <ul id="list-leki"></ul>
    </section>

    <!-- NOWA SEKCJA: profilaktyka -->
    <section class="profilaktyka-box" id="profilaktyka">
      <h2>‚úÖ Profilaktyka</h2>
      <ul id="list-profilaktyka"></ul>
    </section>

    <section class="section card" id="lekarze">
      <h2>ü©∫ Lekarze</h2>
      <ul id="list-lekarze"></ul>
    </section>

    <p class="note">
      Informacje majƒÖ charakter edukacyjny i nie zastƒôpujƒÖ konsultacji lekarskiej.
      W nag≈Çych przypadkach ‚Äî <strong>dzwo≈Ñ 112</strong>.
    </p>
  </main>

  <footer class="site-footer"><small>¬© 2025 ‚Ä¢ Boli-mnie.pl</small></footer>

  <script src="content.js?v=2"></script>
  <script>
    const raw = new URLSearchParams(location.search).get('id') || '';
    function normalize(s){
      s = (s || '').toLowerCase().trim().replace(/\s+/g,'-').replace(/_/g,'-');
      for(const p of ['kobieta','mezczyzna','dziecko']){
        if(s.startsWith(p+'-')) return { osoba:p, part:s.slice(p.length+1) };
      }
      return { osoba:'kobieta', part:s };
    }
    const ctx = normalize(raw);

    const PART_NAME = {
      glowa:'G≈Çowa', oko:'Oko', nos:'Nos', usta:'Usta', ucho:'Ucho',
      serce:'Serce', pluca:'P≈Çuca', kregoslup:'Krƒôgos≈Çup', zoladek:'≈ªo≈ÇƒÖdek',
      watroba:'WƒÖtroba', nerki:'Nerki', ramie:'Ramiƒô', lokiec:'≈Åokieƒá',
      dlon:'D≈Ço≈Ñ', udo:'Udo', kolano:'Kolano', lydka:'≈Åydka', stopa:'Stopa',
      ciaza:'CiƒÖ≈ºa'
    };

    const title = document.getElementById('title');
    title.textContent = PART_NAME[ctx.part] ? `${PART_NAME[ctx.part]} ‚Äî ${ctx.osoba}` : 'Szczeg√≥≈Çy';

    (function hero(){
      const src = `img/${ctx.osoba}-${ctx.part}.png`;
      const img = document.getElementById('heroImg');
      const box = document.getElementById('detailHero');
      img.onload = ()=> box.style.display='block';
      img.onerror = ()=> box.style.display='none';
      img.src = src + '?v=2';
    })();

    function fill(content){
      const toLis = arr => (arr||[]).map(x=>`<li>${Array.isArray(x)?x.join(' ‚Äî '):x}</li>`).join('');
      document.getElementById('list-przyczyny').innerHTML = toLis(content?.przyczyny);
      document.getElementById('list-objawy').innerHTML    = toLis(content?.objawy);
      document.getElementById('list-alarm').innerHTML     = toLis(content?.alarm);
      document.getElementById('list-pp').innerHTML        = toLis(content?.pp);
      document.getElementById('list-leki').innerHTML      = toLis(content?.leki);
      document.getElementById('list-profilaktyka').innerHTML = toLis(content?.profilaktyka);
      document.getElementById('list-lekarze').innerHTML   = toLis(content?.lekarze);
    }
    fill((window.CONTENT||{})[ctx.part] || {});
  </script>
</body>
</html>
