<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BoliHelp – Szczegóły</title>
<link rel="stylesheet" href="assets/style.css?v=10" />
<meta name="description" content="Nowoczesna karta szczegółów – objawy, pierwsza pomoc, leki, mity, FAQ." />
<style>
/* kilka drobnych stylów local-only (reszta w assets/style.css) */
.detail-hero{position:relative;border-radius:24px;padding:28px;background:linear-gradient(135deg, rgba(164,107,255,.18), rgba(255,110,199,.14)),var(--panel);box-shadow:0 30px 70px rgba(0,0,0,.35)}
.tabs{display:flex;flex-wrap:wrap;gap:10px;padding:16px 0 0}
.tab{appearance:none;border:0;cursor:pointer;color:var(--muted);font-weight:700;padding:10px 14px;border-radius:12px;background:rgba(255,255,255,.05);transition:.2s}
.tab:hover{color:var(--text);transform:translateY(-1px)}
.tab.is-active{color:var(--text);background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));box-shadow:var(--ring)}
.panels{padding:18px 0}
.panel{display:none;animation:fade .35s ease}
.panel.is-active{display:block}
@keyframes fade{from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:none}}
/* flip, quiz, risk – jak wcześniej */
.flipwrap{perspective:1000px}.flip{position:relative;border-radius:16px;overflow:hidden;transform-style:preserve-3d;transition:transform .6s;cursor:pointer;background:var(--card);border:1px solid rgba(255,255,255,.1)}.flip.is-flipped{transform:rotateY(180deg)}.flip .side{position:absolute;inset:0;padding:16px;backface-visibility:hidden}.flip .back{transform:rotateY(180deg);background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05))}
.risk{display:flex;align-items:center;gap:12px;margin-top:8px}.riskbar{position:relative;height:12px;flex:1;border-radius:999px;background:linear-gradient(90deg, var(--ok), #ffd86b, var(--danger));outline:1px solid rgba(255,255,255,.15)}.riskbar .cursor{position:absolute;top:50%;transform:translate(-50%,-50%);width:18px;height:18px;border-radius:50%;background:#fff;box-shadow:var(--ring)}.risk .label{min-width:110px;font-weight:700}
.quiz .q{margin:8px 0;padding:12px 12px;border-radius:12px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);cursor:pointer}.quiz .q.correct{border-color:rgba(112,225,177,.45)}.quiz .q.wrong{border-color:rgba(255,107,107,.4)}
</style>
</head>
<body>
<div class="bg-anim" aria-hidden="true"></div>
<div class="container">
  <header class="header">
    <a class="chip" href="javascript:history.back()">← Wróć</a>
    <div class="brand"><h1 id="title">Szczegóły</h1><small id="subtitle">Nowoczesny przewodnik – objawy, pierwsza pomoc, leki, FAQ.</small></div>
  </header>

  <section class="detail-hero">
    <div class="meta" id="meta"></div>
    <nav class="tabs" role="tablist">
      <button class="tab is-active" data-tab="objawy">Objawy</button>
      <button class="tab" data-tab="przyczyny">Przyczyny</button>
      <button class="tab" data-tab="ppomoc">Pierwsza pomoc</button>
      <button class="tab" data-tab="leki">Leki</button>
      <button class="tab" data-tab="lekarz">Kiedy do lekarza</button>
      <button class="tab" data-tab="mity">Mity vs Fakty</button>
      <button class="tab" data-tab="faq">FAQ</button>
    </nav>
  </section>

  <section class="panels">
    <!-- OBJAWY -->
    <article class="panel is-active" id="objawy">
      <div class="grid">
        <div class="card col-4">
          <h3>Najczęstsze (fizjologiczne)</h3>
          <ul class="bullet" id="symp-common"></ul>
        </div>
        <div class="card col-4">
          <h3>Niepokojące — obserwuj</h3>
          <ul class="bullet" id="symp-watch"></ul>
        </div>
        <div class="card accent col-4">
          <h3>Sygnały alarmowe</h3>
          <p id="symp-alarm"></p>
          <a class="btn btn--red" href="tel:112">112 — połączenie alarmowe</a>
        </div>

        <div class="card col-6">
          <h3>Twoje zaznaczenia</h3>
          <p style="margin-top:-6px;color:var(--muted)">Zaznacz objawy — wskaźnik poniżej pokaże poziom ryzyka (informacyjnie).</p>
          <div id="checkgrid" class="bullet"></div>
          <div class="risk">
            <div class="label" id="risklabel">Niskie</div>
            <div class="riskbar"><div class="cursor" id="riskcursor" style="left:5%"></div></div>
          </div>
        </div>

        <div class="card glass col-6">
          <h3>„1 minuta” – szybkie kroki</h3>
          <ol class="steps" id="one-minute"></ol>
          <div class="strip strip--warn" style="margin-top:10px">Nagłe, ciężkie objawy? — dzwoń <strong>112</strong> lub jedź na SOR.</div>
        </div>

        <div class="card col-12 quiz">
          <h3>Mini-quiz (2 pytania)</h3>
          <div class="q" data-a="t">Czy umiarkowany ruch w ciąży bywa korzystny?</div>
          <div class="q" data-a="f">Czy każda gorączka w ciąży jest niegroźna?</div>
        </div>
      </div>
    </article>

    <!-- PRZYCZYNY -->
    <article class="panel" id="przyczyny">
      <div class="grid">
        <div class="card col-6"><h3>Co się dzieje w organizmie</h3><p id="causes"></p></div>
        <div class="card glass col-6"><h3>Ciekawostka</h3><p id="fact"></p></div>
      </div>
    </article>

    <!-- PIERWSZA POMOC -->
    <article class="panel" id="ppomoc">
      <div class="grid">
        <div class="card col-6"><h3>Szybkie kroki</h3><ol class="steps" id="firstaid"></ol></div>
        <div class="card col-6"><h3>Do / Nie rób</h3><ul class="bullet" id="dosdonts"></ul></div>
      </div>
    </article>

    <!-- LEKI -->
    <article class="panel" id="leki">
      <div class="card">
        <h3>Bezpieczeństwo leków (zawsze konsultuj!)</h3>
        <p id="meds"></p>
        <p class="strip">Ta sekcja ma charakter informacyjny — nie zastępuje porady lekarskiej.</p>
      </div>
    </article>

    <!-- KIEDY DO LEKARZA -->
    <article class="panel" id="lekarz">
      <div class="grid">
        <div class="card col-6"><h3>Pilnie (dzisiaj)</h3><ul class="bullet" id="urgent"></ul></div>
        <div class="card glass col-6"><h3>Planowo</h3><p id="routine"></p></div>
      </div>
    </article>

    <!-- MITY vs FAKTY -->
    <article class="panel" id="mity"><div class="grid" id="myths"></div></article>

    <!-- FAQ -->
    <article class="panel" id="faq">
      <details class="faq"><summary id="q1s"></summary><p id="q1a"></p></details>
      <details class="faq"><summary id="q2s"></summary><p id="q2a"></p></details>
    </article>
  </section>
</div>

<script>
/* URL params */
const qp = new URLSearchParams(location.search);
const typ = qp.get('typ') || 'kobieta';
const czesc = (qp.get('czesc') || 'ciaza').toLowerCase();
const label = decodeURIComponent(qp.get('label') || 'Szczegóły');

document.getElementById('title').textContent = label;

/* Tabs */
document.querySelectorAll('.tab').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('.tab').forEach(b=>b.classList.remove('is-active'));
    document.querySelectorAll('.panel').forEach(p=>p.classList.remove('is-active'));
    btn.classList.add('is-active');
    document.getElementById(btn.dataset.tab).classList.add('is-active');
    window.scrollTo({top:0, behavior:'smooth'});
  });
});

/* Mini baza danych – przykład dla „ciąża”.
   Rozszerzymy łatwo o kolejne sekcje (kaszel, gorączka, urazy itd.). */
const DB = {
  ciaza: {
    subtitle: "Ciąża – co typowe, a kiedy działać szybko.",
    tags: [typ, "układ rozrodczy", "materiał informacyjny", "zweryfikowane"],
    common: ["nudności (I trymestr)","zmęczenie, senność","wrażliwość piersi","częstsze oddawanie moczu","zmiany apetytu"],
    watch: ["utrzymujące się wymioty i odwodnienie","gorączka, dreszcze","ból głowy z zaburzeniami widzenia"],
    alarm: "silny, jednostronny ból brzucha lub barku, krwotok, objawy wstrząsu, utrata przytomności.",
    check: ["nudności/poranne mdłości","zawroty głowy","ból brzucha","krwawienie z dróg rodnych","wymioty uniemożliwiające picie"],
    oneMinute: ["Oceń stan (świadomość, oddech).","Ułóż wygodnie na lewym boku przy zawrotach.","Nawadniaj małymi porcjami (jeśli tolerowane).","W razie silnego bólu/krwawienia – 112."],
    causes: "Wczesna ciąża: zmiany hCG, progesteronu, estrogenów oraz wzrost objętości krwi i adaptacja krążenia. Większość dolegliwości jest fizjologiczna.",
    fact: "Tętno spoczynkowe w I trymestrze może wzrosnąć o 10–20 uderzeń/min – naturalna adaptacja.",
    firstaid: ["Odpoczynek, lekkostrawna dieta, nawodnienie.","Małe, częste posiłki na nudności.","Obserwuj – jeśli objawy narastają: konsultacja."],
    dosdonts: ["Tak: regularne lekkostrawne posiłki i płyny.","Tak: unikanie alkoholu i nikotyny.","Nie: samodzielne stosowanie leków bez konsultacji.","Nie: bagatelizowanie krwawienia/bólu jednostronnego."],
    meds: "Leki ocenia się pod kątem korzyści/ryzyka. Zwykle bezpieczne: kwas foliowy, wybrane preparaty żelaza, witamina D w zalecanych dawkach. Wiele NLPZ i preparatów ziołowych może być przeciwwskazanych – zawsze konsultuj.",
    urgent: ["krwawienie z dróg rodnych, skrzepy","silny ból brzucha/barku, omdlenie","gorączka > 38°C z dreszczami","wymioty uniemożliwiające przyjmowanie płynów"],
    routine: "Pierwsza wizyta zwykle do 8–10 tygodnia: potwierdzenie ciąży, badania, plan suplementacji.",
    myths: [
      { myth:"W ciąży nie wolno ćwiczyć.", fact:"Umiarkowany ruch jest zwykle korzystny – plan uzgodnij z lekarzem."},
      { myth:"Kawa jest całkowicie zakazana.", fact:"Często zaleca się ≤ 200 mg kofeiny/dobę (indywidualnie)."}
    ],
    faq: [
      {q:"Czy podróże są bezpieczne?", a:"Zwykle tak przy prawidłowej ciąży; długie trasy – przerwy i nawodnienie."},
      {q:"Czy mogę przyjmować witaminy?", a:"Tak, zgodnie z zaleceniami lekarza (kwas foliowy, wit. D itd.)."}
    ]
  }
};

const DATA = DB[czesc] || DB.ciaza;
document.getElementById('subtitle').textContent = DATA.subtitle;

/* meta tags/pills */
const meta = document.getElementById('meta');
DATA.tags.forEach(t=>{
  const s = document.createElement('span');
  s.className = t==="zweryfikowane" ? "badge badge--ok" : (t==="materiał informacyjny" ? "badge badge--info" : "pill");
  s.textContent = t;
  meta.appendChild(s);
});

/* Fill sections */
const fillList = (id, arr)=>{ const el=document.getElementById(id); arr.forEach(x=>{const li=document.createElement('li'); li.textContent=x; el.appendChild(li);}); };
fillList('symp-common', DATA.common);
fillList('symp-watch', DATA.watch);
document.getElementById('symp-alarm').textContent = DATA.alarm;
fillList('one-minute', DATA.oneMinute);
document.getElementById('causes').textContent = DATA.causes;
document.getElementById('fact').textContent = DATA.fact;
fillList('firstaid', DATA.firstaid);
fillList('dosdonts', DATA.dosdonts);
document.getElementById('meds').textContent = DATA.meds;
fillList('urgent', DATA.urgent);
document.getElementById('routine').textContent = DATA.routine;

/* Checkgrid + risk */
const cg = document.getElementById('checkgrid'); let checks=0;
DATA.check.forEach((x,i)=>{
  const li=document.createElement('li'); li.style.listStyle='none';
  li.innerHTML = `<label style="display:flex;gap:10px;align-items:center"><input type="checkbox" style="accent-color: var(--accent);transform:scale(1.1)"><span>${x}</span></label>`;
  const cb = li.querySelector('input');
  cb.addEventListener('change', ()=>{ checks += cb.checked ? 1 : -1; updateRisk(); saveLocal(); });
  cg.appendChild(li);
});
const riskC = document.getElementById('riskcursor');
const riskL = document.getElementById('risklabel');
function updateRisk(){
  const pct = Math.min(95, 5 + (checks / Math.max(1, DATA.check.length)) * 90);
  riskC.style.left = pct + '%';
  riskL.textContent = pct<30 ? 'Niskie' : (pct<60 ? 'Umiarkowane' : 'Wysokie');
}
function saveLocal(){
  const arr=[...cg.querySelectorAll('input')].map(i=>i.checked);
  localStorage.setItem('bh-'+czesc+'-checks', JSON.stringify(arr));
}
(function loadLocal(){
  const raw = localStorage.getItem('bh-'+czesc+'-checks'); if(!raw) return;
  const arr = JSON.parse(raw); checks = 0;
  [...cg.querySelectorAll('input')].forEach((i,idx)=>{ i.checked = !!arr[idx]; if(i.checked) checks++; });
  updateRisk();
})();

/* Flip cards: Mity/Fakty */
const myths = document.getElementById('myths');
DATA.myths.forEach(m=>{
  const wrap=document.createElement('div'); wrap.className='flipwrap col-6';
  wrap.innerHTML = `<div class="flip"><div class="side front"><h3>Mit</h3><p>${m.myth}</p></div><div class="side back"><h3>Fakt</h3><p>${m.fact}</p></div></div>`;
  wrap.querySelector('.flip').addEventListener('click', e=> e.currentTarget.classList.toggle('is-flipped'));
  myths.appendChild(wrap);
});

/* Quiz */
document.querySelectorAll('.quiz .q').forEach(el=>{
  el.addEventListener('click', ()=>{
    const correct = el.dataset.a === 't';
    el.classList.remove('wrong','correct');
    el.classList.add(correct ? 'correct' : 'wrong');
  });
});
</script>
</body>
</html>
