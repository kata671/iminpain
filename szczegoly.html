<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BoliHelp – Szczegóły</title>
  <style>
    :root{
      --glass: rgba(255,255,255,.08);
      --glass-strong: rgba(255,255,255,.12);
      --accent: #2ecc71;
      --text: #fff;

      /* kolory kart po prawej */
      --c-help: linear-gradient(135deg,#2ecc71,#1abc9c);
      --c-sym:  linear-gradient(135deg,#e67e22,#f1c40f);
      --c-cau:  linear-gradient(135deg,#9b59b6,#8e44ad);
      --c-med:  linear-gradient(135deg,#16a085,#27ae60);
      --c-doc:  linear-gradient(135deg,#e74c3c,#c0392b);
    }

    /* tło jak u Ciebie */
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:linear-gradient(135deg,#1e3c72,#2a5298);color:var(--text);line-height:1.6;}
    a{color:var(--text);text-decoration:none;}
    header{padding:1rem 1.25rem;}
    h1{margin:.25rem 0 0;font-size:1.9rem;}

    .container{max-width:1100px;margin:1.25rem auto 2.5rem;padding:0 1rem;display:grid;gap:1.5rem;}

    /* POZIOME SEKCJE (używane dla pierwszej pomocy) */
    .hsection{display:grid;grid-template-columns:1fr 1fr;gap:1.25rem;background:var(--glass);border-radius:14px;padding:1rem;box-shadow:0 8px 22px rgba(0,0,0,.25);}
    .hsection--fa + .hsection--fa{background:var(--glass-strong);}
    .hsection__media{display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.08);border-radius:12px;padding:.5rem;}
    .hsection__media img{width:100%;height:auto;border-radius:10px;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,.3);}
    .hsection__text h2{margin:.25rem 0 .5rem;font-size:1.6rem;border-bottom:2px solid var(--accent);padding-bottom:.35rem;}
    .hsection__text ul{margin:.25rem 0 0;padding-left:1.2rem;}
    .hsection__text li{font-size:1.12rem;line-height:1.7;}

    /* BLOK ANATOMII: lewo obraz, prawo 5 kolorowych kart */
    .anatomy{display:grid;grid-template-columns:1fr 1fr;gap:1.25rem;}
    .anatomy__media{background:rgba(0,0,0,.08);border-radius:12px;padding:.5rem;box-shadow:0 8px 22px rgba(0,0,0,.25);}
    .anatomy__media img{width:100%;height:auto;border-radius:10px;background:#fff;box-shadow:0 6px 18px rgba(0,0,0,.3);}

    .anatomy__cards{display:grid;grid-template-columns:1fr;gap:1rem;}
    .card{border-radius:12px;padding:1rem;box-shadow:0 6px 18px rgba(0,0,0,.25);background:var(--glass-strong);}
    .card--help{background:var(--c-help);}
    .card--sym{ background:var(--c-sym);}
    .card--cau{ background:var(--c-cau);}
    .card--med{ background:var(--c-med);}
    .card--doc{ background:var(--c-doc);}
    .card__title{margin:0 0 .4rem 0;font-size:1.25rem;font-weight:700;}
    .card__body{font-size:1.08rem;}
    .card__body ul{margin:.25rem 0 0;padding-left:1.2rem;}
    .muted{opacity:.85}

    @media (max-width: 880px){
      .hsection{grid-template-columns:1fr;}
      .anatomy{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>
  <header>
    <a href="index.html">← Wróć</a>
    <h1 id="page-title">Szczegóły</h1>
  </header>

  <div class="container" id="content"><!-- JS wstawi treść --></div>

  <script>
    /* =========================
       1) DANE „PIERWSZA POMOC”
       ========================= */
    const FIRSTAID = {
      reanimacja: {
        title: "Reanimacja (RKO)",
        img: "/img/reanimacja.png",
        text: `<ul>
          <li>Sprawdź przytomność i oddech.</li>
          <li>Wezwij pomoc – 112.</li>
          <li>Uciskaj środek klatki piersiowej ok. 5 cm, 100–120/min.</li>
          <li>Cykl: 30 uciśnięć : 2 oddechy (30:2).</li>
        </ul>`
      },
      zadlawienie: {
        title: "Zadławienie",
        img: "/img/zadlawienie.png",
        text: `<ul>
          <li>Skuteczny kaszel → zachęcaj do kaszlu, obserwuj.</li>
          <li>Całkowita niedrożność: 5 uderzeń w plecy → 5 uciśnięć nadbrzusza.</li>
          <li>Powtarzaj 5/5 do usunięcia przeszkody lub utraty przytomności.</li>
        </ul>`
      },
      wypadek: {
        title: "Wypadek",
        img: "/img/wypadek.png",
        text: `<ul>
          <li>Oceń miejsce zdarzenia – najpierw Twoje bezpieczeństwo.</li>
          <li>Wezwij pomoc – 112.</li>
          <li>Zabezpiecz miejsce: światła awaryjne, trójkąt ostrzegawczy.</li>
          <li>Udziel pierwszej pomocy i monitoruj poszkodowanego.</li>
        </ul>`
      }
    };

    /* ======================================================
       2) DANE „ANATOMIA” – TU WPISUJEMY TWOJE PEŁNE OPISY
          (przykład dla kobieta→nos; resztę możesz dopisać)
       ====================================================== */
    const ANATOMIA = {
      kobieta: {
        nos: {
          title: "Nos – kobieta",
          img: "/img/kobieta-nos.png",
          sections: {
            help: `<ul>
              <li>Krwawienie: pochyl głowę do przodu, uciskaj skrzydełka 10–15 min.</li>
              <li>Zimny okład na nasadę nosa; nie wydmuchuj mocno.</li>
              <li>Uraz: jeśli podejrzenie złamania → stabilizacja, chłodzenie, 112/SOR.</li>
            </ul>`,
            sym: `<ul>
              <li>Krwawienie, ból, obrzęk, niedrożność, kichanie, upośledzenie węchu.</li>
            </ul>`,
            cau: `<ul>
              <li>Infekcja, alergia, suchość śluzówki, uraz, nadciśnienie, leki przeciwkrzepliwe.</li>
            </ul>`,
            med: `<ul>
              <li>Sól morska/izotoniczna, żele nawilżające; przy alergii: OTC antyhistaminowe (wg ulotki).</li>
            </ul>`,
            doc: `<ul>
              <li>Krwawienie >20 min lub częste nawroty, podejrzenie złamania, ropna wydzielina, wysoka gorączka.</li>
            </ul>`
          }
        }
        // tu możesz dopisać kolejne części kobiety…
      },
      mezczyzna: {
        // dopisz swoje pozycje; domyślny szablon niżej i tak zadziała
      },
      dziecko: {
        // dopisz swoje pozycje; domyślny szablon niżej i tak zadziała
      }
    };

    /* ======================================================
       3) DOMYŚLNY SZABLON – gdy nie ma wpisu w ANATOMIA
          (żeby nigdy nic nie zniknęło i wszystko było „wypasione”)
       ====================================================== */
    function defaultAnatomy(label){
      const part = label || "ta część ciała";
      return {
        title: label || "Szczegóły",
        img: "", // ustawimy niżej automatyczną ścieżkę
        sections: {
          help: `<ul>
            <li>Jeśli wystąpi ból, obrzęk lub krwawienie – ogranicz ruch, chłodź 10–15 min, obserwuj.</li>
            <li>W silnych objawach lub urazie – 112 / SOR.</li>
          </ul>`,
          sym: `<ul>
            <li>Ból, obrzęk, zaczerwienienie, ograniczenie funkcji, wrażliwość na dotyk.</li>
          </ul>`,
          cau: `<ul>
            <li>Uraz mechaniczny, przeciążenie, infekcja, alergia lub choroby przewlekłe.</li>
          </ul>`,
          med: `<ul>
            <li>Preparaty OTC (zgodnie z ulotką) odpowiednie dla tej okolicy; nawilżanie/odciążenie.</li>
          </ul>`,
          doc: `<ul>
            <li>Nasilające się lub utrzymujące objawy, deformacja, duszność, gorączka, u dzieci niepokój – konsultacja lekarska.</li>
          </ul>`
        }
      };
    }

    /* ======================== RENDERERY BLOKÓW ======================== */
    function makeFirstAidSection(d){
      const sec = document.createElement('section');
      sec.className = 'hsection hsection--fa';
      sec.innerHTML = `
        <div class="hsection__media"><img src="${d.img}" alt="${d.title}" onerror="this.src='/img/placeholder.png'"></div>
        <div class="hsection__text">
          <h2>${d.title}</h2>
          ${d.text}
        </div>`;
      return sec;
    }

    function makeAnatomyView(d, imgAuto){
      const view = document.createElement('section');
      view.className = 'anatomy';
      const imgSrc = d.img && d.img.trim() ? d.img : imgAuto;
      view.innerHTML = `
        <div class="anatomy__media">
          <img src="${imgSrc}" alt="${d.title}" onerror="this.src='/img/placeholder.png'">
        </div>
        <div class="anatomy__cards">
          <div class="card card--help">
            <h3 class="card__title">Pierwsza pomoc</h3>
            <div class="card__body">${d.sections.help || '<p class="muted">Brak danych.</p>'}</div>
          </div>
          <div class="card card--sym">
            <h3 class="card__title">Objawy</h3>
            <div class="card__body">${d.sections.sym || '<p class="muted">Brak danych.</p>'}</div>
          </div>
          <div class="card card--cau">
            <h3 class="card__title">Przyczyny</h3>
            <div class="card__body">${d.sections.cau || '<p class="muted">Brak danych.</p>'}</div>
          </div>
          <div class="card card--med">
            <h3 class="card__title">Leki</h3>
            <div class="card__body">${d.sections.med || '<p class="muted">Brak danych.</p>'}</div>
          </div>
          <div class="card card--doc">
            <h3 class="card__title">Kiedy do lekarza</h3>
            <div class="card__body">${d.sections.doc || '<p class="muted">Brak danych.</p>'}</div>
          </div>
        </div>`;
      return view;
    }

    /* =========================== LOGIKA WIDOKU =========================== */
    const qp    = new URLSearchParams(location.search);
    const typ   = (qp.get('typ')   || '').toLowerCase();   // porada | kobieta | mezczyzna | dziecko
    const czesc = (qp.get('czesc') || '').toLowerCase();
    const label = qp.get('label') || '';
    const titleEl = document.getElementById('page-title');
    const content = document.getElementById('content');

    function setTitle(txt){ titleEl.textContent = txt || 'Szczegóły'; }

    if (typ === 'porada') {
      if (czesc === 'pierwszopomoc') {
        setTitle('Pierwsza pomoc – przegląd');
        content.appendChild(makeFirstAidSection(FIRSTAID.reanimacja));
        content.appendChild(makeFirstAidSection(FIRSTAID.zadlawienie));
        content.appendChild(makeFirstAidSection(FIRSTAID.wypadek));
      } else if (FIRSTAID[czesc]) {
        const d = FIRSTAID[czesc];
        setTitle(d.title);
        content.appendChild(makeFirstAidSection(d));
      } else {
        setTitle('Szczegóły porady');
        content.innerHTML = '<p class="muted">Brak danych dla tej porady.</p>';
      }
    } else {
      // widok anatomiczny
      const store = ANATOMIA[typ] || {};
      let d = store[czesc];
      // automatyczna ścieżka obrazka (gdy brak w danych)
      const autoImg = `/img/${typ}-${czesc}.png`;
      if (!d) {
        d = defaultAnatomy(label || czesc);
        d.img = autoImg;
      } else if (!d.img) {
        d.img = autoImg;
      }
      setTitle(d.title || label || 'Szczegóły');
      content.appendChild(makeAnatomyView(d, autoImg));
    }
  </script>
</body>
</html>
