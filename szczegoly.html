<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Szczeg√≥≈Çy</title>

  <!-- Tw√≥j g≈Ç√≥wny styl (nie zmieniamy) -->
  <link rel="stylesheet" href="style.css" />

  <!-- Dodatkowe, bezpieczne ulepszenia wyglƒÖdu tylko dla SZCZEG√ì≈Å√ìW -->
  <style>
    /* --- T≈ÅO: turkus ‚Üí fiolet + subtelny pattern --- */
    body[data-page="szczegoly"]{
      --bg1:#0e2a33;   /* ciemny turkus */
      --bg2:#120a2a;   /* g≈Çƒôboki fiolet  */
      background:
        radial-gradient(1200px 800px at 20% -10%, rgba(0, 255, 255, .08), transparent 70%),
        radial-gradient(1200px 800px at 120% 110%, rgba(150, 80, 255, .10), transparent 70%),
        linear-gradient(160deg, var(--bg1) 0%, var(--bg2) 100%);
      position: relative;
      min-height: 100vh;
      overflow-x: hidden;
    }
    body[data-page="szczegoly"]::before{
      content:"";
      position: fixed; inset: 0;
      pointer-events: none;
      opacity:.12;
      background-image:
        radial-gradient(circle at 20px 20px, rgba(255,255,255,.25) 2px, transparent 2.5px);
      background-size: 24px 24px;
      mix-blend-mode: screen;
    }

    /* --- SIATKA KAFELK√ìW: 3 w rzƒôdzie, r√≥wne marginesy --- */
    .cards{
      display: grid;
      grid-template-columns: repeat(3, minmax(260px, 1fr));
      gap: 22px;
      max-width: 1120px;
      margin: 28px auto 40px;
      padding: 0 16px;
      align-items: stretch;
    }
    @media (max-width: 980px){
      .cards{ grid-template-columns: repeat(2, minmax(260px, 1fr)); }
    }
    @media (max-width: 620px){
      .cards{ grid-template-columns: 1fr; }
    }

    /* --- KAFELKI: wyglƒÖd, tytu≈Çy, listy --- */
    .card{
      background: rgba(50,70,160,.25);
      border: 1px solid rgba(160,170,255,.36);
      border-radius: 18px;
      box-shadow:
        inset 0 0 1px rgba(255,255,255,.12),
        0 8px 24px rgba(0,0,0,.35);
      padding: 14px 16px 16px;
      transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;
    }
    .card:hover{
      transform: translateY(-2px);
      box-shadow:
        inset 0 0 1px rgba(255,255,255,.15),
        0 14px 28px rgba(0,0,0,.45),
        0 0 24px rgba(160,140,255,.18);
    }

    /* tytu≈Çy nieco wiƒôksze */
    .card h3{
      font-weight: 800;
      font-size: clamp(18px, 2.15vw, 22px);
      letter-spacing:.2px;
      margin: 4px 0 10px;
      text-align: center;
    }

    /* listy: punkty r√≥wno w ≈õrodku kafelka */
    .card ul{ 
      list-style: disc inside;       /* punkty ‚Äûw ≈õrodku‚Äù kafla */
      margin: 0;
      padding-left: .2em;
    }
    .card li{
      margin: 6px 0;
      line-height: 1.35;
    }

    /* Kolory ‚ÄûBez recepty / Na receptƒô‚Äù */
    .card .otc{ color:#2dd07a; font-weight: 800; }   /* zielony */
    .card .rx { color:#ff6b6b; font-weight: 800; }   /* czerwony */

    /* Kafelek alarmowy: czerwona ramka + glow */
    .card.emergency{
      background: rgba(128, 12, 12, .22);
      border-color: rgba(255, 120, 120, .55);
      box-shadow:
        inset 0 0 1px rgba(255,160,160,.35),
        0 8px 24px rgba(0,0,0,.35);
    }
    .card.emergency:hover{
      box-shadow:
        inset 0 0 1px rgba(255,160,160,.45),
        0 12px 30px rgba(0,0,0,.45),
        0 0 28px rgba(255, 90, 90, .55);   /* czerwony glow */
      border-color: rgba(255, 150, 150, .9);
      background: rgba(140, 16, 16, .26);
    }

    /* drobne wyr√≥wnania nag≈Ç√≥wka strony */
    #title{
      max-width: 1120px;
      margin: 18px auto 0;
      padding: 0 16px;
      text-align: center;
    }
    .nav-links{
      max-width:1120px;
      margin: 10px auto 0;
      padding: 0 16px;
    }
  </style>
</head>
<body data-page="szczegoly">
  <div class="nav-links">
    <a href="index.html" class="back-link">‚Üê Strona g≈Ç√≥wna</a>
    &nbsp;&nbsp;‚Äî&nbsp;&nbsp;
    <a id="sectionBack" class="back-link" href="#">‚Üê Wr√≥ƒá do wyboru sekcji</a>
  </div>

  <h1 id="title">Szczeg√≥≈Çy</h1>

  <div id="content"></div>
  <div id="err" class="error" style="display:none;"></div>

  <footer style="margin:24px auto 28px; max-width:1120px; padding:0 16px; text-align:center;">
    <p style="opacity:.85">¬© 2025 Iminpain ‚Äî Materia≈Ç poglƒÖdowy, nie zastƒôpuje konsultacji z lekarzem.</p>
  </footer>

  <!-- ‚¨áÔ∏è TU ZOSTAWIASZ sw√≥j obecny skrypt, kt√≥ry renderuje karty z JSON (je≈õli masz go w osobnym pliku, to nadal go ≈Çaduj). -->
  <!-- <script src="szczegoly.js"></script> -->

  <!-- ULEPSZENIA: emoji + kolory ‚ÄûBez recepty/Na receptƒô‚Äù + auto emergency -->
  <script>
  (function(){
    function afterRenderEnhance(){
      const iconMap = [
        [/mo≈ºliwe przyczyny/i, "üß©"],
        [/objawy/i, "ü©∫"],
        [/kiedy siƒô niepokoiƒá/i, "‚ö†Ô∏è"],
        [/lekarze/i, "üë§"],
        [/leki/i, "üíä"],
        [/pierwsza pomoc/i, "üß∞"],
        [/rehabilitacja|ƒáwiczenia/i, "üèÉ‚Äç‚ôÇÔ∏è"],
        [/czego unikaƒá/i, "‚úñÔ∏è"],
        [/profilaktyka/i, "üõ°Ô∏è"],
        [/najczƒôstsze b≈Çƒôdy/i, "‚ö†Ô∏è"],
        [/dodatkowe informacje/i, "‚ÑπÔ∏è"],
        [/niezw≈Çoczna pomoc/i, "üö®"]
      ];

      // 1) Emoji + emergency class
      document.querySelectorAll('.card h3').forEach(h=>{
        const title = h.textContent.trim();
        for(const [re, emo] of iconMap){
          if(re.test(title) && !h.dataset.emojiApplied){
            h.innerHTML = emo + " " + h.innerHTML;
            h.dataset.emojiApplied = "1";
            if(/niezw≈Çoczna pomoc/i.test(title)){
              h.closest('.card')?.classList.add('emergency');
            }
            break;
          }
        }
      });

      // 2) Kolory w sekcji ‚ÄûLeki‚Äù
      document.querySelectorAll('.card').forEach(card=>{
        const h = card.querySelector('h3');
        if(!h) return;
        if(/leki/i.test(h.textContent)){
          const ul = card.querySelector('ul');
          if(!ul) return;
          ul.querySelectorAll('li').forEach(li=>{
            const t = li.textContent.trim();
            if(/^bez recepty\s*:/i.test(t)){
              li.innerHTML = t.replace(/^bez recepty\s*:/i, "<span class='otc'>Bez recepty:</span>");
            }else if(/^na recept(?:ƒô|e)\s*:/i.test(t)){
              li.innerHTML = t.replace(/^na recept(?:ƒô|e)\s*:/i, "<span class='rx'>Na receptƒô:</span>");
            }
          });
        }
      });

      // 3) Wyr√≥wnanie list po ewentualnym do≈Çadowaniu
      document.querySelectorAll('.card ul').forEach(ul=>{
        ul.style.listStyle = 'disc inside';
      });
    }

    // Spr√≥buj po za≈Çadowaniu DOM i ponownie po chwili (gdy dane dojadƒÖ z JSON)
    document.addEventListener('DOMContentLoaded', () => {
      setTimeout(afterRenderEnhance, 50);
      setTimeout(afterRenderEnhance, 350);
    });
    window.addEventListener('load', () => {
      setTimeout(afterRenderEnhance, 50);
      setTimeout(afterRenderEnhance, 500);
    });

    // Link ‚ÄûWr√≥ƒá do wyboru sekcji‚Äù ‚Äì ustalany dynamicznie po ID
    (function setBackLink(){
      const params = new URLSearchParams(location.search);
      const id = params.get('id') || '';
      const isK = /_k$/i.test(id);
      const isM = /_m$/i.test(id);
      const map = {
        // g≈Çowa
        oczy_k: "kobieta-glowa.html", uszy_k: "kobieta-glowa.html", nos_k: "kobieta-glowa.html", szczeka_k:"kobieta-glowa.html", szyja_k:"kobieta-glowa.html", glowa_k:"kobieta-glowa.html",
        oczy_m: "mezczyzna-glowa.html", uszy_m:"mezczyzna-glowa.html", nos_m:"mezczyzna-glowa.html", szczeka_m:"mezczyzna-glowa.html", szyja_m:"mezczyzna-glowa.html", glowa_m:"mezczyzna-glowa.html",
        // klatka
        serce_k:"kobieta-klatka.html", pluca_k:"kobieta-klatka.html", klatka_piersiowa_k:"kobieta-klatka.html", brzuch_k:"kobieta-klatka.html", plecy_k:"kobieta-klatka.html",
        serce_m:"mezczyzna-klatka.html", pluca_m:"mezczyzna-klatka.html", klatka_piersiowa_m:"mezczyzna-klatka.html", brzuch_m:"mezczyzna-klatka.html", plecy_m:"mezczyzna-klatka.html",
        uklad_krw_k:"kobieta-klatka.html", uklad_oddech_k:"kobieta-klatka.html", uklad_pokarm_k:"kobieta-klatka.html",
        uklad_krw_m:"mezczyzna-klatka.html", uklad_oddech_m:"mezczyzna-klatka.html", uklad_pokarm_m:"mezczyzna-klatka.html",
        // nogi
        biodra_k:"kobieta-nogi.html", uda_k:"kobieta-nogi.html", kolano_k:"kobieta-nogi.html", lydka_k:"kobieta-nogi.html", kostka_k:"kobieta-nogi.html", stopy_k:"kobieta-nogi.html", ciaza_k:"kobieta-klatka.html",
        biodra_m:"mezczyzna-nogi.html", uda_m:"mezczyzna-nogi.html", kolano_m:"mezczyzna-nogi.html", lydka_m:"mezczyzna-nogi.html", kostka_m:"mezczyzna-nogi.html", stopy_m:"mezczyzna-nogi.html"
      };
      const back = document.getElementById('sectionBack');
      back.href = map[id] || (isK ? "kobieta.html" : isM ? "mezczyzna.html" : "index.html");
    })();
  })();
  </script>
</body>
</html>
