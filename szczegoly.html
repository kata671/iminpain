<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boli Help — Szczegóły</title>
  <meta name="theme-color" content="#0e1230" />
  <style>
    :root{
      --bg:#0e1230; --text:#eef2ff; --muted:#b8c2e0;
      --card: rgba(60,32,100,.30); --stroke: rgba(164,107,255,.18);
      --accent:#a46bff; --pink:#ff6ec7; --teal:#5eead4;
      --ok:#70e1b1; --warn:#ffd16c; --danger:#ff6b6b;
      --radius:16px; --gap:14px; --speed:.24s;
      --c-symptoms: rgba(94,234,212,.55);
      --c-causes:   rgba(164,107,255,.55);
      --c-firstaid: rgba(112,225,177,.55);
      --c-otc:      rgba(255,184,108,.65);
      --c-rx:       rgba(255,107,107,.70);
      --c-rehab:    rgba(94,234,212,.65);
      --c-myths:    rgba(164,107,255,.65);
      --c-faq:      rgba(94,234,212,.55);
      --c-dx:       rgba(164,107,255,.65);
      --c-docs:     rgba(94,234,212,.65);
    }
    *{box-sizing:border-box} html,body{height:100%}
    body[data-page="szczegoly"]{margin:0; background:var(--bg); color:var(--text);
      font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}
    .bg-anim{position:fixed; inset:0; z-index:-3; pointer-events:none;
      background:
        radial-gradient(42vw 36vh at 16% 12%, rgba(255,110,199,.26), transparent 60%),
        radial-gradient(36vw 30vh at 84% 10%, rgba(94,234,212,.22), transparent 60%),
        radial-gradient(40vw 44vh at 20% 88%, rgba(164,107,255,.16), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
      filter: blur(10px) saturate(118%);
    }
    .grid-bg{position:fixed; inset:0; z-index:-2; pointer-events:none; opacity:.22;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='104' viewBox='0 0 120 104'%3E%3Cg fill='none' stroke='rgba(173,216,255,0.26)' stroke-width='1'%3E%3Cpolygon points='30,0 90,0 120,52 90,104 30,104 0,52'/%3E%3C/g%3E%3C/svg%3E");
      background-size:160px 138px; background-position:center;}
    #bh-particles{ position:fixed; inset:0; z-index:-1; opacity:.85; pointer-events:none }

    header.app{ max-width:1100px; margin:16px auto 0; padding:16px 16px 8px; }
    main{ max-width:1100px; margin:0 auto 72px; padding:0 16px 24px; }
    .bh-backbar{max-width:1100px; margin:8px auto 0; padding:0 16px;}
    #bhReturnTop{
      appearance:none; border:1px solid rgba(164,107,255,.28); background:rgba(60,32,100,.28);
      color:#eef2ff; font-weight:800; letter-spacing:.2px; padding:10px 14px; border-radius:12px; cursor:pointer;
      box-shadow:0 6px 16px rgba(8,10,22,.35), inset 0 0 0 1px rgba(164,107,255,.12), 0 0 8px rgba(164,107,255,.45);
      transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;
    }
    #bhReturnTop:hover{ transform:translateY(-1px); border-color:rgba(164,107,255,.55); box-shadow:0 10px 20px rgba(8,10,22,.45), 0 0 14px rgba(164,107,255,.65), inset 0 0 0 1px rgba(164,107,255,.18) }
    #bhReturnTop:focus-visible{ outline:2px solid rgba(164,107,255,.75); outline-offset:2px }

    .hero{ background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid var(--stroke); border-radius:var(--radius); padding:16px;
      backdrop-filter: blur(6px) saturate(120%); box-shadow: 0 18px 48px rgba(8,10,22,.55), 0 0 22px rgba(164,107,255,.18);}
    .hero-top{ display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap;}
    .crumbs{font-weight:800; letter-spacing:.2px; color:#cfe2ff}
    .label{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:999px;
      background: rgba(164,107,255,.18); border:1px solid var(--stroke); font-weight:800; letter-spacing:.3px; }
    .hero-note{ margin-top:10px; color:#b8c2e0; font-size:13px; }
    .legend{ color:#d6e4ff; font-weight:700; margin-top:6px; font-size:13px }
    .steps{display:grid; grid-template-columns:repeat(4,1fr); gap:8px; margin:14px 0 0}
    .step{position:relative; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.05); font-weight:900; letter-spacing:.2px; color:#dfe6ff; text-align:center}
    .step.active{border-color:rgba(94,234,212,.55); box-shadow:0 0 0 2px rgba(94,234,212,.35), 0 8px 18px rgba(8,10,22,.35)}

    .tabs{ display:flex; flex-wrap:wrap; gap:8px; margin:16px 0 8px; }
    .tab{ padding:9px 13px; border-radius:10px; font-weight:800; letter-spacing:.2px; cursor:pointer; user-select:none;
      background: transparent; border:1px solid rgba(255,255,255,.16); color:#e9efff;
      transition: box-shadow var(--speed), transform var(--speed), border-color var(--speed), background var(--speed);}
    .tab:hover{ transform: translateY(-1px); }
    .tab[aria-selected="true"]{ box-shadow:0 0 0 2px rgba(94,234,212,.35); border-color:rgba(94,234,212,.55) }

    .cards{ margin-top:8px }
    .card{ display:none; background: var(--card); border:1px solid var(--stroke); border-radius:var(--radius);
      padding:16px 16px 14px; backdrop-filter: blur(10px) saturate(125%); box-shadow: 0 14px 34px rgba(8,10,22,.42);
      transition: transform var(--speed), box-shadow var(--speed), border-color var(--speed); color:var(--text); }
    .card[aria-hidden="false"]{ display:block; animation:fadeIn .28s ease both }
    @keyframes fadeIn{ from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:none} }
    .card h3{ position:relative; margin:.15rem 0 .85rem; font-size:16px; font-weight:900; letter-spacing:.3px; color:#e6f0ff }
    .card h3::after{ content:""; display:block; height:1px; margin-top:.55rem;
      background:linear-gradient(90deg, rgba(207,226,255,.55), rgba(255,255,255,.08) 45%, transparent); }

    ul.clean{ list-style:none; margin:0; padding:0 }
    ul.clean li{ position:relative; padding:10px 12px 10px 36px; border-radius:10px; margin-bottom:7px;
      border:1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.03); color:#f6f8ff; }
    .cb{ position:absolute; left:10px; top:50%; transform:translateY(-50%); width:18px; height:18px; border-radius:4px;
      border:1px solid rgba(255,255,255,.35); background:rgba(255,255,255,.05); display:inline-block }
    .cb.checked{ background:#fff; box-shadow:0 0 0 2px rgba(164,107,255,.25) inset }
    .li-checked{ outline:1px solid rgba(164,107,255,.45); background: rgba(164,107,255,.10) }

    .risk-mini{ display:flex; align-items:center; gap:10px; margin:.15rem 0 .35rem }
    .risk-mini small{ color:#d6e4ff; font-weight:800 }
    .riskbar{ position:relative; width:200px; height:12px; border-radius:999px; overflow:hidden;
      outline:1px solid rgba(255,255,255,.16);
      background: linear-gradient(90deg, var(--ok), var(--warn), var(--danger)); }
    .cursor{ position:absolute; top:50%; transform:translate(-50%,-50%); width:16px; height:16px; border-radius:50%; background:#fff }

    .strip{ background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      border: 1px solid rgba(255,255,255,.16); padding:.7rem 1rem; border-radius:.8rem; margin:.6rem 0; }
    .strip--warn{ background: linear-gradient(180deg, rgba(255,184,108,.18), rgba(255,255,255,.04)); border-color: rgba(255,184,108,.55); }
    .cta{ display:inline-block; padding:8px 12px; border-radius:10px; font-weight:900; background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.18); text-decoration:none; color:var(--text); }

    .dx-hint{ display:none; margin-top:10px; border-radius:10px; padding:10px 12px;
      background:rgba(164,107,255,.12); border:1px solid rgba(164,107,255,.35); color:#e9e6ff; }
    .dx-hint.show{ display:block }
    .dx-hint button{ margin-left:8px; padding:8px 10px; border-radius:10px; font-weight:900; cursor:pointer;
      background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.18); color:#fff }

    .dx-ico{ width:22px; height:22px; display:grid; place-items:center; border-radius:6px;
      background:rgba(164,107,255,.18); border:1px solid rgba(164,107,255,.35) }
    .dx-meta{ margin-left:auto; display:flex; flex-direction:column; align-items:flex-end; gap:6px; min-width:160px }
    .conf-wrap{ width:120px; height:8px; border-radius:999px; outline:1px solid rgba(255,255,255,.16); overflow:hidden;
      background:linear-gradient(90deg, rgba(94,234,212,.25), rgba(164,107,255,.25)); }
    .conf-bar{ height:100%; width:0%; background:linear-gradient(90deg, rgba(94,234,212,.65), rgba(164,107,255,.65)) }
    .dx-badge,.doc-badge{ font-size:12px; padding:4px 8px; border-radius:999px; font-weight:900; letter-spacing:.2px; }
    .dx-badge.poz,.doc-badge.poz{ background:rgba(94,234,212,.18); border:1px solid rgba(94,234,212,.45); color:#d9fffa }
    .dx-badge.sor,.doc-badge.sor{ background:rgba(255,107,107,.20); border:1px solid rgba(255,107,107,.65); color:#ffe6e6 }
  </style>

  <!-- ✅ UNIFIKACJA: Guzik tłumacza w prawym górnym rogu (telefon + laptop) -->
  <style>
    #lang-fab{
      position:fixed; top:10px; right:10px; z-index:4000;
      display:inline-flex; align-items:center; gap:6px;
      padding:8px 10px; border-radius:12px;
      background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.2);
      backdrop-filter:blur(8px); line-height:1; font-weight:600;
      max-width:92px; overflow:hidden; white-space:nowrap; text-overflow:ellipsis;
    }
    #lang-fab label{ display:none; }
    #bhLangSelect{ font-size:16px; } /* brak zoomu na iOS */
  </style>
</head>
<body data-page="szczegoly">
  <div class="bg-anim" aria-hidden="true"></div>
  <div class="grid-bg" aria-hidden="true"></div>
  <canvas id="bh-particles" aria-hidden="true"></canvas>

  <!-- ✅ SELEKTOR JĘZYKA -->
  <div id="lang-fab">
    <div class="langpick" id="bhLangPick" aria-label="Wybór języka">
      <label for="bhLangSelect">Język</label>
      <select id="bhLangSelect">
        <option value="pl">PL</option>
        <option value="en">EN</option>
      </select>
    </div>
  </div>
  <div class="bh-backbar">
    <button id="bhReturnTop" type="button" aria-label="Wróć do poprzedniej strony">← Wróć</button>
  </div>

  <header class="app">
    <div class="hero">
      <div class="hero-top">
        <div class="crumbs" id="bhCrumbs">Strona główna → ...</div>
        <div class="label" id="bhLabel">Objaw</div>
      </div>
      <div class="hero-note" id="bhNote">Tutaj znajdziesz szczegóły dotyczące wybranego objawu.</div>
      <div class="legend" id="bhLegend">Sekcje poniżej:</div>
      <div class="steps" id="bhSteps"></div>
    </div>
  </header>

  <main>
    <div class="tabs" id="bhTabs"></div>
    <div class="cards" id="bhCards"></div>
  </main>

  <script>
    (function(){
      const LS_KEY='bh.lang';
      const root=document.documentElement;
      let lang=(localStorage.getItem(LS_KEY)||root.getAttribute('lang')||'pl').toLowerCase();

      const dict={
        pl:{
          back:'← Wróć',
          back_aria:'Wróć do poprzedniej strony',
          crumbs:'Strona główna →',
          note:'Tutaj znajdziesz szczegóły dotyczące wybranego objawu.',
          legend:'Sekcje poniżej:',
          label:'Objaw',
        },
        en:{
          back:'← Back',
          back_aria:'Go back to previous page',
          crumbs:'Home →',
          note:'Here you will find details about the selected symptom.',
          legend:'Sections below:',
          label:'Symptom',
        }
      };

      function apply(){
        const d=dict[lang]||dict.pl;
        root.setAttribute('lang',lang);
        localStorage.setItem(LS_KEY,lang);

        const btn=document.getElementById('bhReturnTop');
        if(btn){ btn.textContent=d.back; btn.setAttribute('aria-label',d.back_aria); }

        const crumbs=document.getElementById('bhCrumbs'); if(crumbs) crumbs.textContent=d.crumbs;
        const note=document.getElementById('bhNote'); if(note) note.textContent=d.note;
        const legend=document.getElementById('bhLegend'); if(legend) legend.textContent=d.legend;
        const label=document.getElementById('bhLabel'); if(label) label.textContent=d.label;

        const lab=document.querySelector('#bhLangPick label');
        if(lab){ lab.textContent=(lang==='en'?'Language':'Język'); }

        const sel=document.getElementById('bhLangSelect'); if(sel) sel.value=lang;
      }

      function setLang(l){
        lang=l; apply();
      }

      const sel=document.getElementById('bhLangSelect');
      if(sel){
        sel.addEventListener('change',()=>setLang(sel.value));
      }

      apply();
    })();
  </script>

  <script>
    (function(){
      const btn=document.getElementById('bhReturnTop');
      if(!btn) return;
      btn.addEventListener('click',function(){
        if(document.referrer && document.referrer.includes(location.host)){
          history.back();
        }else{
          location.href='index.html';
        }
      });
    })();
  </script>
  <script>
    (function(){
      const tabs=document.getElementById('bhTabs');
      const cards=document.getElementById('bhCards');
      if(!tabs||!cards) return;

      const sections={
        pl:[
          {id:'opis',title:'Opis'},
          {id:'przyczyny',title:'Przyczyny'},
          {id:'leczenie',title:'Leczenie'},
          {id:'profilaktyka',title:'Profilaktyka'},
        ],
        en:[
          {id:'opis',title:'Description'},
          {id:'przyczyny',title:'Causes'},
          {id:'leczenie',title:'Treatment'},
          {id:'profilaktyka',title:'Prevention'},
        ]
      };

      const LS_KEY='bh.lang';
      let lang=(localStorage.getItem(LS_KEY)||'pl').toLowerCase();
      if(!sections[lang]) lang='pl';

      function render(){
        const list=sections[lang];
        tabs.innerHTML='';
        cards.innerHTML='';
        list.forEach((s,i)=>{
          const tab=document.createElement('button');
          tab.type='button';
          tab.textContent=s.title;
          tab.dataset.id=s.id;
          if(i===0) tab.classList.add('active');
          tabs.appendChild(tab);

          const card=document.createElement('div');
          card.className='card-section';
          if(i!==0) card.style.display='none';
          card.id='card-'+s.id;
          card.textContent='Treść dla: '+s.title;
          cards.appendChild(card);
        });
      }

      tabs.addEventListener('click',function(e){
        if(!e.target.matches('button')) return;
        const id=e.target.dataset.id;
        tabs.querySelectorAll('button').forEach(b=>b.classList.remove('active'));
        e.target.classList.add('active');
        cards.querySelectorAll('.card-section').forEach(c=>{
          c.style.display=(c.id==='card-'+id)?'block':'none';
        });
      });

      render();
    })();
  </script>

  <script>
    (function(){
      const url=new URL(location.href);
      const typ=url.searchParams.get('typ');
      const czesc=url.searchParams.get('czesc');
      const label=url.searchParams.get('label');

      const crumbs=document.getElementById('bhCrumbs');
      const bhLabel=document.getElementById('bhLabel');

      if(label && bhLabel){ bhLabel.textContent=decodeURIComponent(label); }
      if(typ && crumbs){
        let txt='Strona główna → ';
        if(typ==='kobieta') txt+='Kobieta';
        if(typ==='mezczyzna') txt+='Mężczyzna';
        if(typ==='dziecko') txt+='Dziecko';
        if(typ==='porada') txt+='Porada';
        crumbs.textContent=txt;
      }
    })();
  </script>

  <!-- FIX CSS: tłumacz w prawym górnym rogu na desktop i mobile -->
  <style>
    .langpick{
      position:fixed !important;
      top:10px !important;
      right:10px !important;
      z-index:9999 !important;
      margin:0 !important;
      transform:none !important;
      display:inline-flex !important;
      align-items:center;
      gap:8px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.24);
      border-radius:12px;
      padding:6px 10px;
      backdrop-filter:saturate(120%) blur(4px);
    }
    .langpick label{
      font-weight:800;
      color:#cfe2ff;
      font-size:13px;
    }
    .langpick select{
      appearance:none;
      background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.24);
      color:#ffffff;
      border-radius:10px;
      padding:6px 10px;
      cursor:pointer;
      font-weight:900;
      letter-spacing:.3px;
    }
    .langpick option{
      color:#0e1230;
      background:#ffffff;
    }
  </style>
  <!-- LEKKI TŁUMACZ: współdzielony stan z localStorage -->
  <script>
    (function(){
      if(window.__bhSzczegolyI18n) return; window.__bhSzczegolyI18n = true;

      const LS_KEY='bh.lang';
      const root=document.documentElement;
      let lang=(localStorage.getItem(LS_KEY)||root.getAttribute('lang')||'pl').toLowerCase();

      const sel=document.getElementById('bhLangSelect');
      const lab=document.querySelector('#bhLangPick label');

      const dict={
        en:{
          back:'← Back',
          back_aria:'Go back to previous page',
          crumbs_home:'Home → ',
          section_tabs:'Information',
        },
        pl:{
          back:'← Wróć',
          back_aria:'Wróć do poprzedniej strony',
          crumbs_home:'Strona główna → ',
          section_tabs:'Informacje',
        }
      };

      function apply(){
        const d=dict[lang]||dict.pl;
        const back=document.getElementById('bhBackMini');
        if(back){
          back.textContent=d.back;
          back.setAttribute('aria-label',d.back_aria);
        }

        const crumbs=document.getElementById('bhCrumbs');
        if(crumbs && crumbs.textContent.startsWith('Strona')||crumbs.textContent.startsWith('Home')){
          crumbs.textContent=d.crumbs_home + (crumbs.textContent.split('→')[1]||'').trim();
        }

        const tabs=document.getElementById('bhTabs');
        if(tabs) tabs.setAttribute('aria-label',d.section_tabs);

        if(lab){ lab.textContent=(lang==='en'?'Language':'Język'); }
        if(sel){ sel.value=lang; }

        root.setAttribute('lang',lang);
      }

      function setLang(l){
        if(!dict[l]) return;
        lang=l;
        localStorage.setItem(LS_KEY,lang);
        apply();
      }

      if(sel){ sel.addEventListener('change',()=>setLang(sel.value)); }

      apply();
    })();
  </script>

  <!-- Ukryj stare Google Translate -->
  <style>
    .goog-te-banner-frame.skiptranslate{display:none!important}
    .skiptranslate,.goog-te-gadget,.goog-te-combo,[id*="google_translate_element"]{display:none!important}
  </style>

  <!-- BACK BUTTON -->
  <script>
    (function(){
      const btn=document.getElementById('bhBackMini');
      if(!btn) return;
      btn.addEventListener('click',function(){
        if(document.referrer && document.referrer.includes(location.host)){
          history.back();
        }else{
          location.href='index.html';
        }
      });
    })();
  </script>
  <!-- Service Worker -->
  <script>
    if('serviceWorker' in navigator){
      navigator.serviceWorker.register('/service-worker.js')
        .then(reg=>console.log('SW registered',reg.scope))
        .catch(err=>console.error('SW error',err));
    }
  </script>

  <!-- Add to Home Screen -->
  <script src="assets/a2hs.js?v=1"></script>
</body>
</html>
