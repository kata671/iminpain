<!doctype html>
<html lang="pl" data-lang="pl">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Boli Help â€” Strona gÅ‚Ã³wna</title>
    <meta name="theme-color" content="#0e1230" />

    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="/icons/icon-192.png" sizes="192x192" type="image/png">
    <link rel="apple-touch-icon" href="/icons/icon-512.png">

    <link rel="stylesheet" href="assets/style.css?v=12" />

    <style>
        html,body{height:100%}
        body[data-page="home"]{
            position:relative; background:#0e1230 !important; color:#eef2ff;
            -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
        }
        body[data-page="home"]::before,
        body[data-page="home"]::after,
        body[data-page="home"] .container::before,
        body[data-page="home"] .container::after{content:none !important;display:none !important}

        .bh-wallpaper,.bh-grid{position:fixed;inset:0;pointer-events:none}
        .bh-wallpaper{
            z-index:0;
            background:
                radial-gradient(42vw 36vh at 16% 12%, rgba(255,110,199,.30), transparent 60%),
                radial-gradient(36vw 30vh at 84% 10%, rgba(94,234,212,.22), transparent 60%),
                radial-gradient(40vw 44vh at 20% 88%, rgba(164,107,255,.16), transparent 60%),
                linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
            filter: blur(10px) saturate(118%);
        }
        .bh-grid{
            z-index:1; opacity:.22;
            background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='104' viewBox='0 0 120 104'%3E%3Cg fill='none' stroke='rgba(173,216,255,0.26)' stroke-width='1'%3E%3Cpolygon points='30,0 90,0 120,52 90,104 30,104 0,52'/%3E%3C/g%3E%3C/svg%3E");
            background-size:160px 138px; background-position:center;
        }
        .bh-floor-fade{ position:fixed; left:0; right:0; bottom:0; height:120px; z-index:2; pointer-events:none;
            background:linear-gradient(180deg, rgba(14,18,48,0), rgba(14,18,48,.35) 55%, rgba(14,18,48,.6)); }
        .container{position:relative;z-index:3;background:transparent !important;max-width:1100px;margin:0 auto;padding:0 16px}

        /* Siatka kart */
        @media (min-width:981px){ section.stack[style]{grid-template-columns:repeat(3,1fr) !important;} }
        @media (max-width:980px){ section.stack[style]{grid-template-columns:repeat(2,1fr) !important;} }
        @media (max-width:640px){ section.stack[style]{grid-template-columns:1fr !important;} }
        section.stack[style] > *{grid-column:auto !important;min-width:0 !important}

        .card{border-radius:18px;overflow:hidden;background:rgba(60,32,100,.32);border:1px solid rgba(164,107,255,.22);
            box-shadow:0 10px 22px rgba(255,110,199,.12), 0 0 0 1px rgba(164,107,255,.14) inset;min-height:240px}
        .card a{display:grid;grid-template-rows:minmax(180px,240px) auto;height:100%;text-decoration:none;color:inherit}
        .card img{width:100%;height:100%;object-fit:contain;object-position:center;
            background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02))}
        .card .caption{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:12px 14px;
            border-top:1px solid rgba(164,107,255,.22);background:rgba(255,255,255,.04)}

        /* PiguÅ‚ki */
        :root{ --bhG:34,227,160; --bhG2:20,160,120; }
        .situations .pill, .actions .btn {
            display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:14px; text-decoration:none; font-weight:900;
            border:1px solid rgba(255,255,255,.18); background:rgba(255,255,255,.06); color:#fff; transition:.2s ease;
        }
        .situations .pill:hover, .actions .btn:hover {
            transform:translateY(-1px);
        }
        .situations .pill.pill--green,
        .actions .btn--red,
        .actions .btn--hosp,
        .actions .btn--loc,
        #btn-apteka .badge-round {
            background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)), rgba(var(--bhG2), .15);
            color:#ffffff; border:1px solid rgba(var(--bhG), .55);
            box-shadow:0 8px 20px rgba(8,10,22,.35), 0 0 0 1px rgba(var(--bhG), .25) inset, 0 0 18px rgba(var(--bhG), .18);
            backdrop-filter:saturate(125%) blur(4px);
        }
        .situations .pill.pill--green:hover,
        .actions .btn--red:hover,
        .actions .btn--hosp:hover,
        .actions .btn--loc:hover {
            transform:translateY(-1px); border-color:rgba(var(--bhG), .85);
            box-shadow:0 14px 26px rgba(8,10,22,.45), 0 0 0 2px rgba(var(--bhG), .65), 0 0 26px rgba(var(--bhG), .45);
            outline:none;
        }
        .situations .pill .ico, .actions .btn .ico {
            display:inline-grid; place-items:center; width:22px; height:22px; border-radius:6px;
            background: rgba(164,107,255,.18); box-shadow: inset 0 0 0 1px rgba(164,107,255,.25);
        }
        .situations .pill.pill--blue{
            background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)), rgba(96,165,250,.18);
            border:1px solid rgba(59,130,246,.6);
            box-shadow:0 8px 20px rgba(8,10,22,.35), 0 0 0 1px rgba(59,130,246,.35) inset, 0 0 18px rgba(96,165,250,.30);
            color:#eaf2ff;
        }
        .situations .pill.pill--blue:hover{
            transform:translateY(-1px); border-color:rgba(59,130,246,.9);
            box-shadow:0 14px 26px rgba(8,10,22,.45), 0 0 0 2px rgba(96,165,250,.65), 0 0 26px rgba(96,165,250,.5);
            outline:none;
        }

        /* apteka24 â€“ Å›wiecÄ…cy badge */
        #btn-apteka .badge-round{
            background: rgba(var(--bhG), .18);
            color: #eafff7;
            border:1px solid rgba(var(--bhG), .55);
            box-shadow:0 6px 18px rgba(8,10,22,.35), inset 0 0 0 1px rgba(var(--bhG), .20), 0 0 14px rgba(var(--bhG), .30);
            font-weight:800; letter-spacing:.2px; border-radius:999px; padding:6px 10px; text-transform:none;
            animation: bh-green-pulse 2.4s ease-in-out infinite;
        }
        @keyframes bh-green-pulse{
            0%{ box-shadow:0 0 0 0 rgba(var(--bhG), .00), 0 0 12px rgba(var(--bhG), .18) }
            50%{ box-shadow:0 0 0 6px rgba(var(--bhG), .12), 0 0 22px rgba(var(--bhG), .35) }
            100%{ box-shadow:0 0 0 0 rgba(var(--bhG), .00), 0 0 12px rgba(var(--bhG), .18) }
        }

        /* Obrazek w PORADZIE (png) */
        .bh2025-porada__svg img{
            max-width:100%; height:auto; display:block; border-radius:12px;
            border:1px solid rgba(255,255,255,.16); background:rgba(255,255,255,.04);
        }

        /* Modale ukryte (twardo) */
        .bh2025-modal[aria-hidden="true"],
        .bh2025-porada[aria-hidden="true"]{ display:none }

        /* QUIZ â€“ poprawiona czytelnoÅ›Ä‡ */
        .bh2025-cta-quiz{appearance:none;border:1px solid rgba(164,107,255,.28);
            background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
            color:#eef2ff;border-radius:14px;padding:10px 14px;font-weight:800;cursor:pointer}
        .bh2025-modal{position:fixed;inset:0;z-index:9999;background:radial-gradient(50% 50% at 50% 50%, rgba(14,18,48,.88), rgba(14,18,48,.92));backdrop-filter:saturate(120%) blur(6px)}
        .bh2025-modal__panel{position:relative;max-width:720px;margin:6vh auto;background:rgba(60,32,100,.36);border:1px solid rgba(164,107,255,.25);border-radius:18px;padding:16px;color:#eef2ff}
        .bh2025-q{color:#ffffff;font-weight:900;letter-spacing:.2px}
        .bh2025-answers .bh2025-ans{display:block;width:100%;text-align:left;margin:8px 0;padding:10px 12px;border-radius:12px;
            border:1px solid rgba(255,255,255,.22);background:rgba(255,255,255,.08);cursor:pointer;color:#ffffff}
        .bh2025-answers .bh2025-ans:hover{box-shadow:0 10px 20px rgba(0,0,0,.25);transform:translateY(-1px)}
        .bh2025-ans.correct{box-shadow:0 0 0 2px rgba(94,234,212,.65)}
        .bh2025-ans.wrong{box-shadow:0 0 0 2px rgba(255,107,107,.7)}
        .bh2025-progress{display:flex;align-items:center;gap:10px;margin:8px 0 12px}
        .bh2025-progress__bar{flex:1;height:12px;border-radius:999px;outline:1px solid rgba(255,255,255,.14);background:linear-gradient(90deg,#5eead4,#ff6ec7);position:relative;overflow:hidden}
        .bh2025-progress__cursor{position:absolute;top:50%;transform:translate(-50%,-50%);left:6%;width:16px;height:16px;border-radius:50%;background:#fff;box-shadow:0 0 0 2px rgba(94,234,212,.35)}

        /* PORADA modal */
        .bh2025-porada{position:fixed;inset:0;z-index:9998;background:radial-gradient(50% 50% at 50% 50%, rgba(14,18,48,.9), rgba(14,18,48,.95));backdrop-filter:saturate(120%) blur(6px)}
        .bh2025-porada__panel{position:relative;max-width:980px;margin:5vh auto;background:rgba(60,32,100,.36);border:1px solid rgba(164,107,255,.25);border-radius:18px;padding:16px;color:#eef2ff}
        .bh2025-porada__grid{display:grid;grid-template-columns:1.1fr 1fr;gap:14px}
        @media (max-width:900px){ .bh2025-porada__grid{grid-template-columns:1fr} }
        .bh2025-steps{border-radius:14px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.05);padding:12px}

        /* Selektor jÄ™zyka */
        .langpick{display:flex;gap:8px;align-items:center;margin-left:12px}
        .langpick label{font-weight:800;color:#cfe2ff;font-size:13px}
        .langpick select{
            appearance:none;background:rgba(255,255,255,.08);
            border:1px solid rgba(255,255,255,.24);
            color:#ffffff; border-radius:10px;padding:6px 10px;cursor:pointer;font-weight:900;letter-spacing:.3px
        }
        .langpick option{ color:#0e1230; background:#ffffff }

        /* Wyszukiwarka â€“ panel podpowiedzi (izolowany) */
        .bh2025-suggest{position:absolute;right:0;left:0;top:100%;margin-top:6px;z-index:50;
            background:rgba(60,32,100,.96); border:1px solid rgba(164,107,255,.28); border-radius:12px;
            box-shadow:0 16px 34px rgba(8,10,22,.52); overflow:hidden; display:none}
        .bh2025-suggest[aria-hidden="false"]{display:block}
        .bh2025-sg-head{padding:8px 12px; font-weight:800; letter-spacing:.2px; color:#cfe2ff;
            border-bottom:1px solid rgba(164,107,255,.18); background:rgba(255,255,255,.03)}
        .bh2025-sg-list{list-style:none;margin:0;padding:6px}
        .bh2025-sg-item{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:10px;
            cursor:pointer; color:#eef2ff; text-decoration:none; border:1px solid transparent}
        .bh2025-sg-item:hover,
        .bh2025-sg-item[aria-selected="true"]{background:rgba(255,255,255,.06); border-color:rgba(164,107,255,.28);
            box-shadow:inset 0 0 0 1px rgba(164,107,255,.16)}
        .bh2025-sg-ico{width:18px;height:18px;display:inline-grid;place-items:center;border-radius:6px;
            background:rgba(164,107,255,.18); font-size:12px}
        .bh2025-sg-sub{margin-left:auto;font-size:12px;color:#b8c2e0}
        .header .tools .search{position:relative}
    </style>

    <style>
    @media (max-width: 768px) {
        .header {
            display: grid;
            grid-template-areas:
                "brand brand brand"
                "search search search"
                ". . .";
            grid-template-columns: 1fr 1fr 1fr;
            padding-top: 10px;
        }

        .header .brand {
            grid-area: brand;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .header .tools {
            grid-area: search;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
            margin-top: 10px;
        }

        .header .tools .search {
            flex-grow: 1;
            max-width: 90%;
        }

        .header .tools .langpick {
            flex-grow: 0;
        }

        /* Ukryj napis "JÄ™zyk" i zrÃ³b maÅ‚Ä… kapsuÅ‚kÄ™ */
        .header .tools .langpick label {
            display: none;
        }
        .header .tools .langpick select {
            padding: 4px 8px;
            font-size: 14px;
        }

        /* UkÅ‚ad kafelkÃ³w */
        .kafelki-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        .kafelek {
            flex-basis: calc(25% - 10px); /* Cztery rÃ³wne kafelki w rzÄ™dzie */
            min-width: 60px;
            aspect-ratio: 1 / 1; /* RÃ³wny kwadrat */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            text-decoration: none;
            color: #fff;
            padding: 5px; /* Mniejsze paddingi */
            border-radius: 10px;
            font-size: 12px; /* Mniejsza czcionka */
            font-weight: bold;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }

        .kafelek:hover {
            transform: translateY(-2px);
        }

        .kafelek .ico {
            font-size: 20px; /* Mniejsze ikony */
            margin-bottom: 5px;
        }

        /* Kolory kafelkÃ³w */
        .kafelek.zielony {
            background-color: #4CAF50;
        }
        .kafelek.niebieski {
            background-color: #007bff;
        }
        .kafelek.zwykly {
            background-color: #6c757d;
        }
    }
    </style>
</head>

<body data-page="home">
    <div class="bh-wallpaper" aria-hidden="true"></div>
    <div class="bh-grid" aria-hidden="true"></div>
    <div class="bh-floor-fade" aria-hidden="true"></div>

    <div class="container">
        <header class="header">
            <div class="brand">
                <h1 data-i18n="brand_title">Boli Help</h1>
                <small data-i18n="brand_sub">Pomoc i pierwsza pomoc w nagÅ‚ych sytuacjach</small>
            </div>
            <div class="tools" style="display:flex;align-items:center;gap:10px">
                <div class="search" role="search">
                    <input id="bhSearch" type="search" placeholder="Szukaj objawu, czÄ™Å›ci ciaÅ‚a lub tematuâ€¦" aria-label="Szukaj" />
                    <svg id="bhSearchIcon" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="cursor:pointer">
                        <path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z"
                                stroke="white" stroke-opacity=".7" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </div>

                <div class="langpick" id="bhLangPick" aria-label="WybÃ³r jÄ™zyka">
                    <label for="bhLangSelect">JÄ™zyk</label>
                    <select id="bhLangSelect">
                        <option value="pl">PL</option>
                        <option value="en">EN</option>
                    </select>
                </div>
            </div>
        </header>

        <div class="kafelki-container">
            <a href="szczegoly.html?typ=porada&czesc=zadlawienie" class="kafelek zielony">
                <span class="ico">ğŸ«</span>ZadÅ‚awienie
            </a>
            <a href="szczegoly.html?typ=porada&czesc=reanimacja" class="kafelek zielony">
                <span class="ico">ğŸš‘</span>Reanimacja
            </a>
            <a href="szczegoly.html?typ=porada&czesc=wypadek" class="kafelek zielony">
                <span class="ico">ğŸ’¥</span>Wypadek
            </a>
            <a href="szczegoly.html?typ=porada&czesc=pierwszopomoc" class="kafelek zielony">
                <span class="ico">â¤ï¸â€ğŸ©¹</span>Pierwsza pomoc
            </a>

            <a href="szpital.html" class="kafelek niebieski">
                <span class="ico">ğŸ¥</span>Szpital
            </a>
            <a href="#" class="kafelek niebieski">
                <span class="ico">ğŸ“</span>Zlokalizuj mnie
            </a>
            <a href="apteka.html" class="kafelek niebieski">
                <span class="ico">ğŸ’Š</span>Apteka
            </a>
            <a href="tel:112" class="kafelek niebieski">
                <span class="ico">ğŸ“</span>112
            </a>
            
            <a href="gry.html" class="kafelek zwykly">
                <span class="ico">ğŸ®</span>Gry
            </a>
            <a href="quiz.html" class="kafelek zwykly">
                <span class="ico">ğŸ§ </span>Quiz
            </a>
        </div>

        <div class="subheadline" data-i18n="subheadline">Boli mnie â€” wybierz obszar bÃ³lu</div>

        <section class="stack" aria-label="WybÃ³r postaci"
            style="display:grid;gap:16px;grid-template-columns:repeat(3,1fr);align-items:stretch;">
            <article class="card">
                <a href="kobieta.html">
                    <img src="img/kobieta-model1.png" alt="Kobieta â€” wybierz czÄ™Å›Ä‡ ciaÅ‚a" onerror="this.src='img/placeholder.png'"/>
                    <div class="caption"><h3 data-i18n="card_woman">Kobieta</h3><span class="arrow" aria-hidden="true">â†’</span></div>
                </a>
            </article>
            <article class="card">
                <a href="mezczyzna.html">
                    <img src="img/mezczyzna-model1.png" alt="MÄ™Å¼czyzna â€” wybierz czÄ™Å›Ä‡ ciaÅ‚a" onerror="this.src='img/placeholder.png'"/>
                    <div class="caption"><h3 data-i18n="card_man">MÄ™Å¼czyzna</h3><span class="arrow" aria-hidden="true">â†’</span></div>
                </a>
            </article>
            <article class="card">
                <a href="dziecko.html">
                    <img src="img/dziecko-model1.png" alt="Dziecko â€” wybierz czÄ™Å›Ä‡ ciaÅ‚a" onerror="this.src='img/placeholder.png'"/>
                    <div class="caption"><h3 data-i18n="card_child">Dziecko</h3><span class="arrow" aria-hidden="true">â†’</span></div>
                </a>
            </article>
        </section>
    </div>

    <div id="bh2025Porada" class="bh2025-porada" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="bh2025PoradaTitle">
        <div class="bh2025-porada__panel">
            <div class="bh2025-porada__head">
                <div class="bh2025-porada__title" id="bh2025PoradaTitle" data-i18n="advice_title">Porada</div>
                <div class="bh2025-chip" id="bh2025PoradaChip" data-i18n="advice_chip">SOS â€¢ instrukcja</div>
                <button class="bh2025-close--porada" type="button" id="bh2025PoradaClose" aria-label="Zamknij" data-i18n="close_btn">âœ•</button>
            </div>
            <div class="bh2025-porada__grid">
                <div class="bh2025-porada__svg" id="bh2025PoradaSvg" aria-label="Instrukcja obrazkowa"></div>
                <div class="bh2025-steps"><ol id="bh2025PoradaSteps"></ol></div>
            </div>
            <div class="bh2025-video">
                <div class="bh2025-muted" style="margin-bottom:8px;font-weight:800" data-i18n="video_head">MateriaÅ‚ wideo</div>
                <div id="bh2025VideoWrap"><div class="ph" id="bh2025VideoPh"><span>ğŸ¬</span><span data-i18n="video_hint">Dodaj plik: <code>assets/videos/<nazwa>.mp4</code> i zaktualizuj mapÄ™ poniÅ¼ej.</span></div></div>
            </div>
        </div>
    </div>

    <script src="assets/main.js?v=12"></script>

    <script>
    (function(){
        const poradaModalÂ  = document.getElementById('bh2025Porada');
        const poradaCloseÂ  = document.getElementById('bh2025PoradaClose');
        const poradaTitleÂ  = document.getElementById('bh2025PoradaTitle');
        const svgWrapÂ  Â  Â  = document.getElementById('bh2025PoradaSvg');
        const stepsOlÂ  Â  Â  = document.getElementById('bh2025PoradaSteps');
        const videoWrapÂ  Â  = document.getElementById('bh2025VideoWrap');
        const videoPhÂ  Â  Â  = document.getElementById('bh2025VideoPh');
        if(!poradaModal || poradaModal.dataset.bhBound) return; poradaModal.dataset.bhBound='1';

        const IMG = { zadlawienie: 'img/zadlawienie.png', reanimacja: 'img/reanimacja.png', wypadek: 'img/wypadek.png', pierwszopomoc: null };
        const STEPS = {
            pl:{
                zadlawienie:["ZachÄ™caj do kaszlu â€” jeÅ›li skuteczny, obserwuj.","Brak skutecznego kaszlu: 5 uderzeÅ„ w plecy miÄ™dzy Å‚opatki.","JeÅ›li nieskuteczne: 5 uciÅ›niÄ™Ä‡ nadbrzusza.","Na zmianÄ™: 5 plecy â†” 5 nadbrzusze, aÅ¼ do skutku.","Utrata przytomnoÅ›ci: RKO 30:2, 112, AED."],
                reanimacja:["SprawdÅº bezpieczeÅ„stwo, reakcjÄ™ i oddech (max 10 s).","Brak oddechu: zadzwoÅ„ 112.","Uciski: 100â€“120/min, gÅ‚Ä™b. 5â€“6 cm, Å›rodek mostka.","Po 30 uciÅ›niÄ™ciach 2 oddechy (jeÅ›li umiesz i chcesz).","Kontynuuj do przyjazdu sÅ‚uÅ¼b lub powrotu oddechu."],
                wypadek:["Zabezpiecz miejsce.","OceÅ„ liczbÄ™ poszkodowanych i zagroÅ¼enia.","Wezwij 112.","Priorytet: oddech, krwotoki (ucisk).","Nie przestawiaj bez potrzeby."],
                pierwszopomoc:["ABC: droÅ¼noÅ›Ä‡, oddech, krÄ…Å¼enie.","Pozycja bezpieczna przy oddechu.","Ucisk krwotokÃ³w.","Oparzenia: chÅ‚odzenie 20 min.","Wezwij pomoc, gdy masz wÄ…tpliwoÅ›ci."]
            },
            en:{
                zadlawienie:["Encourage coughing â€” if effective, observe.","If not effective: 5 back blows.","Then 5 abdominal thrusts.","Alternate 5â†”5 until success.","If unconscious: CPR 30:2, call 112/911, AED."],
                reanimacja:["Check safety, response, breathing (â‰¤10 s).","No breathing: call 112/911.","Compressions 100â€“120/min, depth 5â€“6 cm, center chest.","30 compressions + 2 breaths (if trained).","Continue until help arrives/returns breathing."],
                wypadek:["Make scene safe.","Assess casualties/hazards.","Call 112/911.","Priority: breathing, bleeding (direct pressure).","Do not move unnecessarily."],
                pierwszopomoc:["ABC: airway, breathing, circulation.","Recovery position if breathing.","Control bleeding.","Burns: cool 20 min.","When in doubt â€” call for help."]
            }
        };
        const L = ()=> (window.__getLang && window.__getLang()) || 'pl';

        function openPorada(key, title){
            poradaTitle.textContent = title || (L()==='en'?'Advice':'Porada');
            svgWrap.innerHTML=''; const src=IMG[key];
            if(src){ const img=new Image(); img.src=src; img.alt=title||key; svgWrap.appendChild(img); }
            stepsOl.innerHTML=''; (STEPS[L()]?.[key]||[]).forEach(txt=>{ const li=document.createElement('li'); li.textContent=txt; stepsOl.appendChild(li); });
            videoWrap.innerHTML=''; videoWrap.appendChild(videoPh.cloneNode(true));
            poradaModal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden';
        }
        function closePorada(){ poradaModal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }

        const nav = document.querySelector('nav.situations');
        if(nav && !nav.dataset.bhPoradaBound){
            nav.dataset.bhPoradaBound='1';
            nav.addEventListener('click', function(e){
                const a = e.target.closest('a.pill.pill--green[data-porada]');
                if(!a) return;
                e.preventDefault(); e.stopPropagation(); e.stopImmediatePropagation();
                const key = a.getAttribute('data-porada');
                const title = a.textContent.trim();
                openPorada(key, title);
            }, true);
        }

        poradaClose.addEventListener('click', closePorada);
        poradaModal.addEventListener('click', (e)=>{ if(e.target===poradaModal) closePorada(); });
        document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && poradaModal.getAttribute('aria-hidden')==='false') closePorada(); });
    })();
    </script>

    <script>
    (function(){
        const input = document.getElementById('bhSearch');
        const iconÂ  = document.getElementById('bhSearchIcon');
        if(!input || input.dataset.bhSearchBound) return; input.dataset.bhSearchBound='1';

        const PARTS = [
            {id:'oko',Â  Â  Â  Â label:'Oko',Â  Â  Â  Â  alias:['oko','oczy','wzrok']},
            {id:'nos',Â  Â  Â  Â label:'Nos',Â  Â  Â  Â  alias:['nos','zatoki','katar']},
            {id:'gardlo',Â  Â  label:'GardÅ‚o',Â  Â  Â alias:['gardlo','gardÅ‚o','angina','chrypka']},
            {id:'glowa',Â  Â  Â label:'GÅ‚owa',Â  Â  Â  alias:['glowa','gÅ‚owa','migrena','bÃ³l gÅ‚owy']},
            {id:'klatka',Â  Â  label:'Klatka piersiowa', alias:['klatka','pierÅ›','serce bÃ³l','mostek']},
            {id:'pluca',Â  Â  Â label:'PÅ‚uca',Â  Â  Â  alias:['pÅ‚uca','pluca','dusznoÅ›Ä‡','astma']},
            {id:'brzuch',Â  Â  label:'Brzuch',Â  Â  Â alias:['brzuch','Å¼oÅ‚Ä…dek','zoladek','wzdÄ™cia','biegunka']},
            {id:'nerki',Â  Â  Â label:'Nerki',Â  Â  Â  alias:['nerki','kolka','lÄ™dÅºwie','ledzwi']},
            {id:'plecy',Â  Â  Â label:'Plecy',Â  Â  Â  alias:['plecy','krÄ™gosÅ‚up','kregoslup','rwa']},
            {id:'biodra',Â  Â  label:'Biodra/Uda', alias:['biodro','biodra','udo','pachwina']},
            {id:'kolano',Â  Â  label:'Kolano',Â  Â  Â alias:['kolano','rzepka','Å‚Ä…kotka','lakotka']},
            {id:'stopy',Â  Â  Â label:'Stopy',Â  Â  Â  alias:['stopa','stopy','piÄ™ta','pieta','rozciÄ™gno']},
            {id:'skora',Â  Â  Â label:'SkÃ³ra',Â  Â  Â  alias:['skora','skÃ³ra','wysypka','Å›wiÄ…d','alergia']},
            {id:'serce',Â  Â  Â label:'Serce',Â  Â  Â  alias:['serce','koÅ‚atania','kolatania','arytmia']},
            {id:'kaszel',Â  Â  label:'Kaszel',Â  Â  Â alias:['kaszel','kaszle']},
            {id:'goraczka',Â  label:'GorÄ…czka',Â  Â alias:['gorÄ…czka','goraczka','temperatura']},
            {id:'zadlawienie', label:'ZadÅ‚awienie (SOS)', alias:['zadÅ‚awienie','zadlawienie','zadÅ‚awiÅ‚','zadlawil'] , sos:true},
            {id:'reanimacja',Â  label:'Reanimacja (RKO)',Â  alias:['reanimacja','rko','resuscytacja'] , sos:true},
            {id:'wypadek',Â  Â  Â label:'Wypadek (SOS)',Â  Â  Â alias:['wypadek','kolizja','potrÄ…cenie','potracenie'] , sos:true},
            {id:'pierwszopomoc',label:'Pierwsza pomoc',Â  Â alias:['pierwsza pomoc','pierwszopomoc','abc'] , sos:true}
        ];
        const GENDERS = [
            {id:'kobieta',label:'Kobieta'},{id:'mezczyzna',label:'MÄ™Å¼czyzna'},{id:'dziecko',label:'Dziecko'}
        ];

        const panel = document.createElement('div');
        panel.className = 'bh2025-suggest'; panel.setAttribute('role','listbox'); panel.setAttribute('aria-hidden','true');
        panel.innerHTML = `<div class="bh2025-sg-head">Podpowiedzi</div><ul class="bh2025-sg-list" id="bh2025List"></ul>`;
        input.parentElement.appendChild(panel);
        const list = panel.querySelector('#bh2025List');
        let results = [], active = -1;

        function buildUrls(hit){
            if(hit.sos){
                const url = `szczegoly.html?typ=porada&czesc=${encodeURIComponent(hit.id)}&label=${encodeURIComponent(hit.label)}`;
                return [{label: hit.label, url, sub:'SOS'}];
            }
            return GENDERS.map(g=>{
                const url = `szczegoly.html?typ=${g.id}&czesc=${encodeURIComponent(hit.id)}&label=${encodeURIComponent(hit.label)}`;
                return {label:`${hit.label} â€¢ ${g.label}`, url, sub:g.label};
            });
        }
        function search(q){
            const s=q.trim().toLowerCase(); if(!s) return [];
            const hits = PARTS.filter(p =>
                p.alias?.some(a => a.includes(s)) || p.id.includes(s) || p.label.toLowerCase().includes(s)
            ).slice(0,6);
            return hits.flatMap(buildUrls).slice(0,12);
        }
        function render(){
            list.innerHTML = ''; active = -1;
            results.forEach((r,idx)=>{
                const li = document.createElement('li');
                li.setAttribute('role','option'); li.className='bh2025-sg-item'; li.dataset.index = String(idx);
                li.innerHTML = `<span class="bh2025-sg-ico">ğŸ”</span><span>${r.label}</span><span class="bh2025-sg-sub">${r.sub||''}</span>`;
                li.addEventListener('mouseenter', ()=>setActive(idx));
                li.addEventListener('mouseleave', ()=>setActive(-1));
                li.addEventListener('click', ()=>go(idx));
                list.appendChild(li);
            });
            panel.setAttribute('aria-hidden', results.length ? 'false':'true');
        }
        function setActive(i){
            active = i;
            list.querySelectorAll('.bh2025-sg-item').forEach((el,idx)=>{
                el.setAttribute('aria-selected', (idx===active)?'true':'false');
            });
        }
        function go(idx){
            const item = results[idx]; if(!item) return;
            window.location.href = item.url;
        }

        input.addEventListener('input', ()=>{ results = search(input.value); render(); });
        input.addEventListener('keydown', (e)=>{
            const shown = panel.getAttribute('aria-hidden')==='false';
            if(e.key==='ArrowDown'){ if(!shown){ results = search(input.value); render(); } setActive( (active+1+results.length)%results.length ); e.preventDefault(); }
            else if(e.key==='ArrowUp'){ if(!shown){ results = search(input.value); render(); } setActive( (active-1+results.length)%results.length ); e.preventDefault(); }
            else if(e.key==='Enter'){
                if(shown && active>=0){ e.preventDefault(); go(active); }
                else { if(!results.length){ results = search(input.value); } if(results[0]) go(0); }
            } else if(e.key==='Escape'){ panel.setAttribute('aria-hidden','true'); active=-1; }
        });
        document.addEventListener('click', (e)=>{ if(!panel.contains(e.target) && e.target!==input){ panel.setAttribute('aria-hidden','true'); active=-1; } });
        if(icon){ icon.addEventListener('click', ()=>{ results = search(input.value); if(results.length){ panel.setAttribute('aria-hidden','false'); render(); } }); }
    })();
    </script>

    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/service-worker.js')
                .then(reg => console.log('SW zarejestrowany:', reg.scope))
                .catch(err => console.error('SW bÅ‚Ä…d:', err));
        }
    </script>

    <script src="assets/a2hs.js?v=1"></script>

    <script>
    (function(){
        if(window.__bhI18nBound) return; window.__bhI18nBound = true;

        // SÅ‚owniki
        const I18N = {
            pl: {
                brand_title:"Boli Help",
                brand_sub:"Pomoc i pierwsza pomoc w nagÅ‚ych sytuacjach",
                pill_choke:"ZadÅ‚awienie",
                pill_cpr:"Reanimacja",
                pill_accident:"Wypadek",
                pill_firstaid:"Pierwsza pomoc",
                pill_games:"Gry / Trening",
                pill_quizzes:"Quizy",
                btn_hosp:"ğŸ¥ Szpitale / SOR",
                btn_loc:"ğŸ“ Zlokalizuj mnie",
                subheadline:"Boli mnie â€” wybierz obszar bÃ³lu",
                advice_title:"Porada",
                advice_chip:"SOS â€¢ instrukcja",
                close_btn:"âœ•",
                video_head:"MateriaÅ‚ wideo",
                video_hint:"Dodaj plik: <code>assets/videos/<nazwa>.mp4</code> i zaktualizuj mapÄ™ poniÅ¼ej.",
                card_woman:"Kobieta",
                card_man:"MÄ™Å¼czyzna",
                card_child:"Dziecko",
                search_ph:"Szukaj objawu, czÄ™Å›ci ciaÅ‚a lub tematuâ€¦",
                sg_head:"Podpowiedzi"
            },
            en: {
                brand_title:"Boli Help",
                brand_sub:"Help and first aid in emergencies",
                pill_choke:"Choking",
                pill_cpr:"CPR",
                pill_accident:"Accident",
                pill_firstaid:"First aid",
                pill_games:"Games / Training",
                pill_quizzes:"Quizzes",
                btn_hosp:"ğŸ¥ Hospitals / ER",
                btn_loc:"ğŸ“ Locate me",
                subheadline:"It hurts â€” choose the area of pain",
                advice_title:"Advice",
                advice_chip:"SOS â€¢ instructions",
                close_btn:"âœ•",
                video_head:"Video",
                video_hint:"Add file: <code>assets/videos/<name>.mp4</code> and update the map below.",
                card_woman:"Woman",
                card_man:"Man",
                card_child:"Child",
                search_ph:"Search symptom, body part or topicâ€¦",
                sg_head:"Suggestions"
            }
        };

        const root = document.documentElement;
        const LS_KEY = 'bh.lang';
        let lang = (localStorage.getItem(LS_KEY) || root.getAttribute('data-lang') || root.lang || 'pl').toLowerCase();
        if(!I18N[lang]) lang = 'pl';

        // API dla innych skryptÃ³w
        window.__getLang = () => lang;
        window.__t = (k) => (I18N[lang] && I18N[lang][k]) || (I18N['pl'] && I18N['pl'][k]) || k;

        function applyTranslations(){
            document.querySelectorAll('[data-i18n]').forEach(el=>{
                const key = el.getAttribute('data-i18n');
                const val = window.__t(key);
                if(val!=null){
                    if(el.firstChild && el.firstChild.nodeType===3){ el.firstChild.nodeValue = val; }
                    else { el.innerHTML = val; }
                }
            });
            
            const search = document.getElementById('bhSearch');
            if(search){ search.placeholder = window.__t('search_ph'); search.setAttribute('aria-label', window.__t('search_ph')); }
            
            document.querySelectorAll('.bh2025-sg-head').forEach(el=>{ el.textContent = window.__t('sg_head'); });

            root.setAttribute('lang', lang);
            root.setAttribute('data-lang', lang);

            const lab = document.querySelector('#bhLangPick label');
            if(lab){ lab.textContent = (lang==='en'?'Language':'JÄ™zyk'); }
        }

        function setLang(newLang){
            if(!I18N[newLang]) return;
            lang = newLang;
            localStorage.setItem(LS_KEY, lang);
            applyTranslations();
        }

        const sel = document.getElementById('bhLangSelect');
        if(sel){
            sel.value = lang;
            sel.addEventListener('change', ()=> setLang(sel.value));
        }

        applyTranslations();
    })();
    </script>
    <style id="bh-final-patch">
        /* Ukryj resztki Google Translate */
        .goog-te-banner-frame.skiptranslate{display:none!important}
        .skiptranslate,.goog-te-gadget,.goog-te-combo,[id*="google_translate_element"]{display:none!important}

        /* Kadrowanie obrazkÃ³w */
        section.stack .card > a > img{
            width:100%; height:100%;
            object-fit:cover !important;
            object-position:50% 25% !important;
        }
        section.stack .card > a > img[src*="kobieta-model1.png"] {
            object-position: 50% 25% !important;
        }
        section.stack .card > a > img[src*="mezczyzna-model1.png"] {
            object-position: 50% 25% !important;
        }
        section.stack .card > a > img[src*="dziecko-model1.png"] {
            object-position: 50% 25% !important;
        }
    </style>
</body>
</html>
