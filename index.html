<!doctype html>
<html lang="pl" data-lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Boli Help — Strona główna</title>
  <meta name="theme-color" content="#0e1230" />
  <!-- TWARDY NO-CACHE na mobile -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- 0) GLOBALNY JĘZYK – na samym początku HEAD -->
  <script>
    (function(){
      var LS='bh.lang';
      var lang=(localStorage.getItem(LS)||document.documentElement.getAttribute('data-lang')||'pl').toLowerCase();
      if(!/^(pl|en)$/.test(lang)) lang='pl';
      localStorage.setItem(LS, lang);
      document.documentElement.setAttribute('lang', lang);
      document.documentElement.setAttribute('data-lang', lang);
      window.__getLang=function(){ return (localStorage.getItem(LS)||'pl').toLowerCase(); };
      window.__setLang=function(l){ if(/^(pl|en)$/.test(l)){ localStorage.setItem(LS,l); document.dispatchEvent(new CustomEvent('bh:lang-changed',{detail:{lang:l}})); } };
    })();
  </script>

  <!-- CSS -->
  <link rel="stylesheet" href="assets/style.css?v=11" />

  <style>
    html,body{height:100%}
    body[data-page="home"]{
      position:relative; background:#0e1230 !important; color:#eef2ff;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      margin:0; font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial;
    }
    /* Tapeta */
    .bh-wallpaper,.bh-grid{position:fixed;inset:0;pointer-events:none}
    .bh-wallpaper{
      z-index:0;
      background:
        radial-gradient(42vw 36vh at 16% 12%, rgba(255,110,199,.30), transparent 60%),
        radial-gradient(36vw 30vh at 84% 10%, rgba(94,234,212,.22), transparent 60%),
        radial-gradient(40vw 44vh at 20% 88%, rgba(164,107,255,.16), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
      filter: blur(10px) saturate(118%);
    }
    .bh-grid{
      z-index:1; opacity:.22;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='104' viewBox='0 0 120 104'%3E%3Cg fill='none' stroke='rgba(173,216,255,0.26)' stroke-width='1'%3E%3Cpolygon points='30,0 90,0 120,52 90,104 30,104 0,52'/%3E%3C/g%3E%3C/svg%3E");
      background-size:160px 138px; background-position:center;
    }
    .bh-floor-fade{ position:fixed; left:0; right:0; bottom:0; height:120px; z-index:2; pointer-events:none;
      background:linear-gradient(180deg, rgba(14,18,48,0), rgba(14,18,48,.35) 55%, rgba(14,18,48,.6)); }
    .container{position:relative;z-index:3;background:transparent !important;max-width:1100px;margin:0 auto;padding:0 16px}

    /* Siatka kart */
    @media (min-width:981px){ section.stack[style]{grid-template-columns:repeat(3,1fr) !important;} }
    @media (max-width:980px){ section.stack[style]{grid-template-columns:repeat(2,1fr) !important;} }
    @media (max-width:640px){ section.stack[style]{grid-template-columns:1fr !important;} }
    section.stack[style] > *{grid-column:auto !important;min-width:0 !important}

    .card{border-radius:18px;overflow:hidden;background:rgba(60,32,100,.32);border:1px solid rgba(164,107,255,.22);
      box-shadow:0 10px 22px rgba(255,110,199,.12), 0 0 0 1px rgba(164,107,255,.14) inset;min-height:240px}
    .card a{display:grid;grid-template-rows:minmax(180px,240px) auto;height:100%;text-decoration:none;color:inherit}
    .card img{width:100%;height:100%;object-fit:cover !important;object-position:50% 25% !important;
      background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02))}
    .card .caption{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:12px 14px;
      border-top:1px solid rgba(164,107,255,.22);background:rgba(255,255,255,.04)}

    /* Pigułki */
    :root{ --bhG:34,227,160; --bhG2:20,160,120; }
    .situations{display:flex;flex-wrap:wrap;gap:10px;margin:12px 0}
    .situations .pill{
      display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:14px; text-decoration:none; font-weight:900;
      border:1px solid rgba(255,255,255,.18); background:rgba(255,255,255,.06); color:#fff; transition:.2s ease;
    }
    .situations .pill .ico{
      display:inline-grid; place-items:center; width:22px; height:22px; border-radius:6px;
      background: rgba(164,107,255,.18); box-shadow: inset 0 0 0 1px rgba(164,107,255,.25);
    }
    .situations .pill.pill--green{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)), rgba(var(--bhG2), .15);
      color:#ffffff; border:1px solid rgba(var(--bhG), .55);
      box-shadow:0 8px 20px rgba(8,10,22,.35), 0 0 0 1px rgba(var(--bhG), .25) inset, 0 0 18px rgba(var(--bhG), .18);
      backdrop-filter:saturate(125%) blur(4px);
    }
    .situations .pill.pill--green:hover,
    .situations .pill.pill--green:focus-visible{
      transform:translateY(-1px); border-color:rgba(var(--bhG), .85);
      box-shadow:0 14px 26px rgba(8,10,22,.45), 0 0 0 2px rgba(var(--bhG), .65), 0 0 26px rgba(var(--bhG), .45);
      outline:none;
    }
    .situations .pill.pill--blue{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)), rgba(96,165,250,.18);
      border:1px solid rgba(59,130,246,.6);
      box-shadow:0 8px 20px rgba(8,10,22,.35), 0 0 0 1px rgba(59,130,246,.35) inset, 0 0 18px rgba(96,165,250,.30);
      color:#eaf2ff;
    }
    .situations .pill.pill--blue:hover,
    .situations .pill.pill--blue:focus-visible{
      transform:translateY(-1px); border-color:rgba(59,130,246,.9);
      box-shadow:0 14px 26px rgba(8,10,22,.45), 0 0 0 2px rgba(96,165,250,.65), 0 0 26px rgba(96,165,250,.5);
      outline:none;
    }

    /* Modale ukryte */
    .bh2025-modal[aria-hidden="true"],
    .bh2025-porada[aria-hidden="true"]{ display:none }

    /* Selektor języka (ten sam wygląd na wszystkich stronach) */
    .langpick{display:flex;gap:8px;align-items:center;margin-left:12px; flex-wrap:nowrap}
    .langpick label{font-weight:800;color:#cfe2ff;font-size:13px}
    .langpick select{
      appearance:none;background:rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.24);
      color:#ffffff; border-radius:10px;padding:6px 10px;cursor:pointer;font-weight:900;letter-spacing:.3px;
      max-width:52vw;
    }
    .langpick option{ color:#0e1230; background:#ffffff }

    /* Wyszukiwarka – panel podpowiedzi */
    .bh2025-suggest{position:absolute;right:0;left:0;top:100%;margin-top:6px;z-index:50;
      background:rgba(60,32,100,.96); border:1px solid rgba(164,107,255,.28); border-radius:12px;
      box-shadow:0 16px 34px rgba(8,10,22,.52); overflow:hidden; display:none}
    .bh2025-suggest[aria-hidden="false"]{display:block}
    .bh2025-sg-head{padding:8px 12px; font-weight:800; letter-spacing:.2px; color:#cfe2ff;
      border-bottom:1px solid rgba(164,107,255,.18); background:rgba(255,255,255,.03)}
    .bh2025-sg-list{list-style:none;margin:0;padding:6px}
    .bh2025-sg-item{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:10px;
      cursor:pointer; color:#eef2ff; text-decoration:none; border:1px solid transparent}
    .bh2025-sg-item:hover,
    .bh2025-sg-item[aria-selected="true"]{background:rgba(255,255,255,.06); border-color:rgba(164,107,255,.28);
      box-shadow:inset 0 0 0 1px rgba(164,107,255,.16)}
    .bh2025-sg-ico{width:18px;height:18px;display:inline-grid;place-items:center;border-radius:6px;
      background:rgba(164,107,255,.18); font-size:12px}
    .bh2025-sg-sub{margin-left:auto;font-size:12px;color:#b8c2e0}

    /* Anty-rozpychanie mobilne i kill Google Translate */
    html, body { overflow-x: hidden; }
    .goog-te-banner-frame.skiptranslate{display:none!important}
    .skiptranslate,.goog-te-gadget,.goog-te-combo,[id*="google_translate_element"]{display:none!important}
  </style>
</head>

<body data-page="home">
  <div class="bh-wallpaper" aria-hidden="true"></div>
  <div class="bh-grid" aria-hidden="true"></div>
  <div class="bh-floor-fade" aria-hidden="true"></div>

  <div class="container">
    <header class="header" style="display:flex;align-items:center;justify-content:space-between;gap:10px;padding:12px 0">
      <div class="brand">
        <h1 data-i18n="brand_title" style="margin:.2rem 0">Boli Help</h1>
        <small data-i18n="brand_sub">Pomoc i pierwsza pomoc w nagłych sytuacjach</small>
      </div>
      <div class="tools" style="display:flex;align-items:center;gap:10px">
        <div class="search" role="search" style="position:relative">
          <input id="bhSearch" type="search" placeholder="Szukaj objawu, części ciała lub tematu…" aria-label="Szukaj"
                 style="padding:8px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.24);background:rgba(255,255,255,.08);color:#fff;min-width:260px" />
          <svg id="bhSearchIcon" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" style="cursor:pointer;position:absolute;right:10px;top:50%;transform:translateY(-50%)">
            <path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z"
                  stroke="white" stroke-opacity=".7" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>

        <!-- Tłumacz PL/EN – identyczny na wszystkich stronach -->
        <div class="langpick" id="bhLangPick" aria-label="Wybór języka">
          <label for="bhLangSelect">Język</label>
          <select id="bhLangSelect">
            <option value="pl">PL</option>
            <option value="en">EN</option>
          </select>
        </div>
      </div>
    </header>

    <div class="emergency-list" aria-label="Telefony alarmowe" style="display:flex;gap:8px;flex-wrap:wrap;margin:6px 0 12px">
      <a href="tel:112">📞 112</a><a href="tel:999">🚑 999</a><a href="tel:998">🔥 998</a><a href="tel:997">👮 997</a>
    </div>

    <nav class="situations" aria-label="Sytuacje nagłe">
      <a class="pill pill--green" data-porada="zadlawienie" href="szczegoly.html?typ=porada&czesc=zadlawienie&label=Zad%C5%82awienie&v=11">
        <span class="ico">🫁</span><span data-i18n="pill_choke">Zadławienie</span>
      </a>
      <a class="pill pill--green" data-porada="reanimacja" href="szczegoly.html?typ=porada&czesc=reanimacja&label=Reanimacja&v=11">
        <span class="ico">🚑</span><span data-i18n="pill_cpr">Reanimacja</span>
      </a>
      <a class="pill pill--green" data-porada="wypadek" href="szczegoly.html?typ=porada&czesc=wypadek&label=Wypadek&v=11">
        <span class="ico">💥</span><span data-i18n="pill_accident">Wypadek</span>
      </a>
      <a class="pill pill--green" data-porada="pierwszopomoc" href="szczegoly.html?typ=porada&czesc=pierwszopomoc&label=Pierwsza%20pomoc&v=11">
        <span class="ico">❤️‍🩹</span><span data-i18n="pill_firstaid">Pierwsza pomoc</span>
      </a>
      <a class="pill pill--blue" href="gry.html?v=11">
        <span class="ico">🎮</span><span data-i18n="pill_games">Gry / Trening</span>
      </a>
      <a class="pill pill--blue" href="quizzes.html?v=11" id="btn-quizzes">
        <span class="ico">🧠</span><span data-i18n="pill_quizzes">Quizy</span>
      </a>
    </nav>

    <div class="actions" role="navigation" aria-label="Szybkie akcje" style="display:flex;gap:10px;flex-wrap:wrap;margin:8px 0 14px">
      <button id="btn-112" class="btn btn--red btn--call" type="button">📞 112</button>
      <a id="btn-hosp" class="btn btn--hosp" href="https://www.google.com/maps/search/SOR+szpital/" target="_blank" rel="noopener">🏥 Szpitale / SOR</a>
      <a id="btn-apteka" class="btn" href="https://www.google.com/maps/search/apteka+otwarta+teraz/" target="_blank" rel="noopener"><span class="badge-round">apteka24</span></a>
      <button id="btn-loc" class="btn" type="button">📍 Zlokalizuj mnie</button>
    </div>

    <div class="subheadline" data-i18n="subheadline" style="font-weight:800;letter-spacing:.2px;margin:8px 0 12px">
      Boli mnie — wybierz obszar bólu
    </div>

    <!-- 3 kafelki -->
    <section class="stack" aria-label="Wybór postaci"
      style="display:grid;gap:16px;grid-template-columns:repeat(3,1fr);align-items:stretch;">
      <article class="card">
        <a href="kobieta.html?v=11">
          <img src="img/kobieta-model1.png" alt="Kobieta — wybierz część ciała" onerror="this.src='img/placeholder.png'"/>
          <div class="caption"><h3 data-i18n="card_woman">Kobieta</h3><span class="arrow" aria-hidden="true">→</span></div>
        </a>
      </article>
      <article class="card">
        <a href="mezczyzna.html?v=11">
          <img src="img/mezczyzna-model1.png" alt="Mężczyzna — wybierz część ciała" onerror="this.src='img/placeholder.png'"/>
          <div class="caption"><h3 data-i18n="card_man">Mężczyzna</h3><span class="arrow" aria-hidden="true">→</span></div>
        </a>
      </article>
      <article class="card">
        <a href="dziecko.html?v=11">
          <img src="img/dziecko-model1.png" alt="Dziecko — wybierz część ciała" onerror="this.src='img/placeholder.png'"/>
          <div class="caption"><h3 data-i18n="card_child">Dziecko</h3><span class="arrow" aria-hidden="true">→</span></div>
        </a>
      </article>
    </section>
  </div>

  <!-- Skrypt bazowy -->
  <script src="assets/main.js?v=11" defer></script>

  <!-- LEKKI I18N (HOME) – tylko PL/EN dla stałych etykiet -->
  <script>
  (function(){
    if(window.__bhI18nBound) return; window.__bhI18nBound = true;

    const I18N = {
      pl:{brand_title:"Boli Help",brand_sub:"Pomoc i pierwsza pomoc w nagłych sytuacjach",
          pill_choke:"Zadławienie",pill_cpr:"Reanimacja",pill_accident:"Wypadek",pill_firstaid:"Pierwsza pomoc",
          pill_games:"Gry / Trening",pill_quizzes:"Quizy",
          subheadline:"Boli mnie — wybierz obszar bólu",
          card_woman:"Kobieta",card_man:"Mężczyzna",card_child:"Dziecko",
          search_ph:"Szukaj objawu, części ciała lub tematu…", sg_head:"Podpowiedzi"},
      en:{brand_title:"Boli Help",brand_sub:"Help and first aid in emergencies",
          pill_choke:"Choking",pill_cpr:"CPR",pill_accident:"Accident",pill_firstaid:"First aid",
          pill_games:"Games / Training",pill_quizzes:"Quizzes",
          subheadline:"It hurts — choose the area of pain",
          card_woman:"Woman",card_man:"Man",card_child:"Child",
          search_ph:"Search symptom, body part or topic…", sg_head:"Suggestions"}
    };
    const root=document.documentElement;
    let lang=(window.__getLang && window.__getLang()) || (root.getAttribute('lang')||'pl');

    function t(k){ return (I18N[lang]&&I18N[lang][k])||(I18N.pl&&I18N.pl[k])||k; }
    function apply(){
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key=el.getAttribute('data-i18n'); const val=t(key);
        if(val!=null){ el.innerHTML = val; }
      });
      const search=document.getElementById('bhSearch');
      if(search){ search.placeholder=t('search_ph'); search.setAttribute('aria-label', t('search_ph')); }
      const lab=document.querySelector('#bhLangPick label');
      if(lab){ lab.textContent = (lang==='en'?'Language':'Język'); }
      root.setAttribute('lang', lang); root.setAttribute('data-lang', lang);
    }

    const sel=document.getElementById('bhLangSelect');
    if(sel){
      sel.value=lang;
      sel.addEventListener('change', function(){
        lang = sel.value;
        if(window.__setLang) window.__setLang(lang);
        apply();
        if (window.bhTranslate && typeof bhTranslate.setLang==='function') {
          bhTranslate.setLang(lang);
        }
      });
    }
    apply();
    document.addEventListener('bh:lang-changed', (e)=>{ lang=(e.detail&&e.detail.lang)||lang; apply(); });
  })();
  </script>

  <!-- WYSZUKIWARKA -->
  <script>
  (function(){
    const input = document.getElementById('bhSearch');
    const icon  = document.getElementById('bhSearchIcon');
    if(!input || input.dataset.bhSearchBound) return; input.dataset.bhSearchBound='1';

    const PARTS = [
      {id:'oko',label:'Oko',alias:['oko','oczy','wzrok']},
      {id:'nos',label:'Nos',alias:['nos','zatoki','katar']},
      {id:'gardlo',label:'Gardło',alias:['gardlo','gardło','angina','chrypka']},
      {id:'glowa',label:'Głowa',alias:['glowa','głowa','migrena','ból głowy']},
      {id:'klatka',label:'Klatka piersiowa',alias:['klatka','pierś','serce ból','mostek']},
      {id:'pluca',label:'Płuca',alias:['płuca','pluca','duszność','astma']},
      {id:'brzuch',label:'Brzuch',alias:['brzuch','żołądek','zoladek','wzdęcia','biegunka']},
      {id:'nerki',label:'Nerki',alias:['nerki','kolka','lędźwie','ledzwi']},
      {id:'plecy',label:'Plecy',alias:['plecy','kręgosłup','kregoslup','rwa']},
      {id:'biodra',label:'Biodra/Uda',alias:['biodro','biodra','udo','pachwina']},
      {id:'kolano',label:'Kolano',alias:['kolano','rzepka','łąkotka','lakotka']},
      {id:'stopy',label:'Stopy',alias:['stopa','stopy','pięta','pieta','rozcięgno']},
      {id:'skora',label:'Skóra',alias:['skora','skóra','wysypka','świąd','alergia']},
      {id:'serce',label:'Serce',alias:['serce','kołatania','kolatania','arytmia']},
      {id:'kaszel',label:'Kaszel',alias:['kaszel','kaszle']},
      {id:'goraczka',label:'Gorączka',alias:['gorączka','goraczka','temperatura']},
      {id:'zadlawienie',label:'Zadławienie (SOS)',alias:['zadławienie','zadlawienie','zadławił','zadlawil'],sos:true},
      {id:'reanimacja',label:'Reanimacja (RKO)',alias:['reanimacja','rko','resuscytacja'],sos:true},
      {id:'wypadek',label:'Wypadek (SOS)',alias:['wypadek','kolizja','potrącenie','potracenie'],sos:true},
      {id:'pierwszopomoc',label:'Pierwsza pomoc',alias:['pierwsza pomoc','pierwszopomoc','abc'],sos:true}
    ];
    const GENDERS=[{id:'kobieta',label:'Kobieta'},{id:'mezczyzna',label:'Mężczyzna'},{id:'dziecko',label:'Dziecko'}];

    const panel = document.createElement('div');
    panel.className = 'bh2025-suggest'; panel.setAttribute('role','listbox'); panel.setAttribute('aria-hidden','true');
    panel.innerHTML = '<div class="bh2025-sg-head">Podpowiedzi</div><ul class="bh2025-sg-list" id="bh2025List"></ul>';
    input.parentElement.appendChild(panel);
    const list = panel.querySelector('#bh2025List');
    let results = [], active = -1;

    function buildUrls(hit){
      if(hit.sos){ const url=`szczegoly.html?typ=porada&czesc=${encodeURIComponent(hit.id)}&label=${encodeURIComponent(hit.label)}&v=11`; return [{label:hit.label,url,sub:'SOS'}]; }
      return GENDERS.map(g=>({label:`${hit.label} • ${g.label}`,url:`szczegoly.html?typ=${g.id}&czesc=${encodeURIComponent(hit.id)}&label=${encodeURIComponent(hit.label)}&v=11`,sub:g.label}));
    }
    function search(q){
      const s=q.trim().toLowerCase(); if(!s) return [];
      const hits = PARTS.filter(p => (p.alias||[]).some(a=>a.includes(s)) || p.id.includes(s) || p.label.toLowerCase().includes(s)).slice(0,6);
      return hits.flatMap(buildUrls).slice(0,12);
    }
    function render(){
      list.innerHTML=''; active=-1;
      results.forEach((r,idx)=>{
        const li=document.createElement('li');
        li.setAttribute('role','option'); li.className='bh2025-sg-item'; li.dataset.index=String(idx);
        li.innerHTML=`<span class="bh2025-sg-ico">🔎</span><span>${r.label}</span><span class="bh2025-sg-sub">${r.sub||''}</span>`;
        li.addEventListener('mouseenter',()=>setActive(idx));
        li.addEventListener('mouseleave',()=>setActive(-1));
        li.addEventListener('click',()=>go(idx));
        list.appendChild(li);
      });
      panel.setAttribute('aria-hidden', results.length ? 'false':'true');
    }
    function setActive(i){
      active=i;
      list.querySelectorAll('.bh2025-sg-item').forEach((el,idx)=>el.setAttribute('aria-selected',(idx===active)?'true':'false'));
    }
    function go(idx){ const item=results[idx]; if(!item) return; location.href=item.url; }

    input.addEventListener('input', ()=>{ results=search(input.value); render(); });
    input.addEventListener('keydown',(e)=>{
      const shown=panel.getAttribute('aria-hidden')==='false';
      if(e.key==='ArrowDown'){ if(!shown){ results=search(input.value); render(); } setActive((active+1+results.length)%results.length); e.preventDefault(); }
      else if(e.key==='ArrowUp'){ if(!shown){ results=search(input.value); render(); } setActive((active-1+results.length)%results.length); e.preventDefault(); }
      else if(e.key==='Enter'){ if(shown && active>=0){ e.preventDefault(); go(active); } else { if(!results.length){ results=search(input.value); } if(results[0]) go(0); } }
      else if(e.key==='Escape'){ panel.setAttribute('aria-hidden','true'); active=-1; }
    });
    document.addEventListener('click',(e)=>{ if(!panel.contains(e.target) && e.target!==input){ panel.setAttribute('aria-hidden','true'); active=-1; } });
    if(icon){ icon.addEventListener('click',()=>{ results=search(input.value); render(); if(results.length) panel.setAttribute('aria-hidden','false'); }); }
  })();
  </script>

  <!-- === Translator unified (jeden na wszystkie strony) === -->
  <script src="assets/lang.js?v=10"></script>
  <script src="assets/js/translator-unified.js?v=10"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function(){
      const langs=['pl','en','de','fr','es','it','ro','uk','ru','cs','sk','lt','lv','nl','sv','no','hu','tr','vi'];
      if (window.bhTranslate && typeof bhTranslate.init==='function') {
        bhTranslate.init({ default: 'pl', available: langs });
        // ustaw dropdown na aktualny
        var sel=document.getElementById('bhLangSelect');
        if(sel){ sel.value=(window.__getLang?__getLang():'pl'); }
      }
    });
  </script>
  <!-- === /Translator unified === -->
</body>
</html>
