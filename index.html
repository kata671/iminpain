```html
<!doctype html>
<html lang="pl">
<head>
  <!--
    BoliHelp • Strona główna • v2.3 (2025-09-05) — NAPRAWIONA
    Zmiany w tej wersji:
      • Usunięto drugi, duplikujący się dokument HTML.
      • Dodano link „Gry / Trening” do osobnej podstrony gry.html.
      • Pozostawiono tylko assets/main.js na dole (bez games.js na home!).
  -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boli Help — Strona główna</title>
  <meta name="theme-color" content="#0e1230" />

  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="assets/style.css?v=10" />

  <style>
    /* === BoliHelp 2025 – zielone glow (Sytuacje + apteka24) === */
    :root{ --bhG: 34,227,160; --bhG2: 20,160,120; }

    @keyframes bh-green-pulse{
      0%   { box-shadow: 0 0 0 0 rgba(var(--bhG), .00), 0 0 12px rgba(var(--bhG), .18); }
      50%  { box-shadow: 0 0 0 6px rgba(var(--bhG), .12), 0 0 22px rgba(var(--bhG), .35); }
      100% { box-shadow: 0 0 0 0 rgba(var(--bhG), .00), 0 0 12px rgba(var(--bhG), .18); }
    }

    .situations .pill.pill--green{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)), rgba(var(--bhG2), .15);
      color:#eafff7;
      border:1px solid rgba(var(--bhG), .55);
      box-shadow:0 8px 20px rgba(8,10,22,.35), 0 0 0 1px rgba(var(--bhG), .25) inset, 0 0 18px rgba(var(--bhG), .18);
      backdrop-filter: saturate(125%) blur(4px);
      transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
    }
    .situations .pill.pill--green:hover,
    .situations .pill.pill--green:focus-visible{
      transform: translateY(-1px);
      border-color: rgba(var(--bhG), .85);
      box-shadow:0 14px 26px rgba(8,10,22,.45), 0 0 0 2px rgba(var(--bhG), .65), 0 0 26px rgba(var(--bhG), .45);
      outline: none;
    }
    .situations .pill.pill--green .ico{
      display:inline-grid; place-items:center; width:22px; height:22px; margin-right:6px; border-radius:6px;
      background: rgba(var(--bhG), .18); box-shadow: inset 0 0 0 1px rgba(var(--bhG), .25);
    }
    @media (prefers-reduced-motion: no-preference){
      .situations .pill.pill--green{ animation: bh-green-pulse 3.6s ease-in-out infinite; }
      .situations .pill.pill--green:hover,
      .situations .pill.pill--green:focus-visible{ animation: none; }
    }

    /* ================== Apteka24 – zielony badge ================== */
    #btn-apteka .badge-round{
      background: rgba(var(--bhG), .18);
      color: #eafff7;
      border:1px solid rgba(var(--bhG), .55);
      box-shadow:0 6px 18px rgba(8,10,22,.35), inset 0 0 0 1px rgba(var(--bhG), .20), 0 0 14px rgba(var(--bhG), .30);
      text-transform: none; letter-spacing:.2px; font-weight:800;
      transition: transform .18s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
    }
    #btn-apteka:hover .badge-round,
    #btn-apteka:focus-visible .badge-round{
      transform: translateY(-1px);
      border-color: rgba(var(--bhG), .85);
      box-shadow:0 10px 24px rgba(8,10,22,.45), 0 0 0 2px rgba(var(--bhG), .65), 0 0 22px rgba(var(--bhG), .45);
    }
    @media (prefers-reduced-motion: no-preference){
      #btn-apteka .badge-round{ animation: bh-green-pulse 2.4s ease-in-out infinite; }
      #btn-apteka:hover .badge-round,
      #btn-apteka:focus-visible .badge-round{ animation: none; }
    }

    /* ====== Layout strony głównej ====== */
    html,body{height:100%}
    body[data-page="home"]{
      position:relative; background:#0e1230 !important; color:#eef2ff;
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    }
    body[data-page="home"]::before,
    body[data-page="home"]::after,
    body[data-page="home"] .container::before,
    body[data-page="home"] .container::after{content:none !important;display:none !important}

    .bh-wallpaper,.bh-grid{position:fixed;inset:0;pointer-events:none}
    .bh-wallpaper{
      z-index:0;
      background:
        radial-gradient(42vw 36vh at 16% 12%, rgba(255,110,199,.30), transparent 60%),
        radial-gradient(36vw 30vh at 84% 10%, rgba(94,234,212,.22), transparent 60%),
        radial-gradient(40vw 44vh at 20% 88%, rgba(164,107,255,.16), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
      filter: blur(10px) saturate(118%);
    }
    .bh-grid{
      z-index:1; opacity:.22;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='104' viewBox='0 0 120 104'%3E%3Cg fill='none' stroke='rgba(173,216,255,0.26)' stroke-width='1'%3E%3Cpolygon points='30,0 90,0 120,52 90,104 30,104 0,52'/%3E%3C/g%3E%3C/svg%3E");
      background-size:160px 138px; background-position:center;
    }
    .bh-floor-fade{ position:fixed; left:0; right:0; bottom:0; height:120px; z-index:2; pointer-events:none;
      background:linear-gradient(180deg, rgba(14,18,48,0), rgba(14,18,48,.35) 55%, rgba(14,18,48,.6)); }
    .container{position:relative;z-index:3;background:transparent !important;max-width:1100px;margin:0 auto;padding:0 16px}

    @media (min-width:981px){ section.stack[style]{grid-template-columns:repeat(3,1fr) !important;} }
    @media (max-width:980px){ section.stack[style]{grid-template-columns:repeat(2,1fr) !important;} }
    @media (max-width:640px){ section.stack[style]{grid-template-columns:1fr !important;} }
    section.stack[style] > *{grid-column:auto !important;min-width:0 !important}
    .card{border-radius:18px;overflow:hidden;background:rgba(60,32,100,.32);border:1px solid rgba(164,107,255,.22);box-shadow:0 10px 22px rgba(255,110,199,.12), 0 0 0 1px rgba(164,107,255,.14) inset;min-height:240px}
    .card a{display:grid;grid-template-rows:minmax(180px,240px) auto;height:100%;text-decoration:none;color:inherit}
    .card img{width:100%;height:100%;object-fit:contain;object-position:center;background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02))}
    .card .caption{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:12px 14px;border-top:1px solid rgba(164,107,255,.22);background:rgba(255,255,255,.04)}

    /* ========= MINI QUIZ ========= */
    :root{ --bh2025-accent:#a46bff; --bh2025-teal:#5eead4; --bh2025-pink:#ff6ec7; --bh2025-bg:rgba(14,18,48,.72); --bh2025-card:rgba(60,32,100,.36); --bh2025-stroke:rgba(164,107,255,.25); }
    .bh2025-cta-quiz{ appearance:none;border:1px solid var(--bh2025-stroke); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); color:#eef2ff;border-radius:14px;padding:10px 14px;font-weight:800;cursor:pointer; box-shadow:0 8px 20px rgba(8,10,22,.35), inset 0 0 0 1px rgba(164,107,255,.10); transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease; }
    .bh2025-cta-quiz:hover{transform:translateY(-1px);border-color:rgba(164,107,255,.45); box-shadow:0 12px 26px rgba(8,10,22,.45),0 0 18px rgba(164,107,255,.28),inset 0 0 0 1px rgba(164,107,255,.18)}
    .bh2025-cta-quiz:focus-visible{outline:2px solid var(--bh2025-teal);outline-offset:2px}
    .bh2025-quiz-launch{display:inline-flex;align-items:center;gap:8px;margin:10px 0 0 0}
    .bh2025-quiz-launch .dot{width:9px;height:9px;border-radius:50%;background:var(--bh2025-teal);box-shadow:0 0 12px var(--bh2025-teal)}

    .bh2025-modal{position:fixed;inset:0;display:none;z-index:9999;background:radial-gradient(50% 50% at 50% 50%, rgba(14,18,48,.88), rgba(14,18,48,.92));backdrop-filter:saturate(120%) blur(6px)}
    .bh2025-modal[aria-hidden="false"]{display:block}
    .bh2025-modal__panel{position:relative;max-width:720px;margin:6vh auto;background:var(--bh2025-card);border:1px solid var(--bh2025-stroke);border-radius:18px;padding:16px;box-shadow:0 18px 46px rgba(8,10,22,.55), 0 0 22px rgba(164,107,255,.18);color:#eef2ff}
    .bh2025-modal__head{display:flex;justify-content:space-between;align-items:center;gap:12px}
    .bh2025-modal__title{font-weight:900;letter-spacing:.3px}
    .bh2025-close{appearance:none;background:transparent;border:1px solid var(--bh2025-stroke);color:#e7eaff;border-radius:10px;padding:6px 10px;cursor:pointer}
    .bh2025-close:hover{box-shadow:0 0 0 2px rgba(255,110,199,.28)}
    .bh2025-modal__body{margin-top:10px}

    .bh2025-progress{display:flex;align-items:center;gap:10px;margin:8px 0 12px}
    .bh2025-progress__bar{flex:1;height:12px;border-radius:999px;outline:1px solid rgba(255,255,255,.14);background:linear-gradient(90deg,var(--bh2025-teal), var(--bh2025-pink));position:relative;overflow:hidden}
    .bh2025-progress__cursor{position:absolute;top:50%;transform:translate(-50%,-50%);left:6%;width:16px;height:16px;border-radius:50%;background:#fff;box-shadow:0 0 0 2px rgba(94,234,212,.35),0 0 18px rgba(94,234,212,.25);transition:left .28s ease}
    .bh2025-progress__label{font-weight:800;color:#d6e4ff}

    .bh2025-q{font-weight:800;margin:4px 0 8px}
    .bh2025-answers{display:grid;gap:10px}
    .bh2025-ans{appearance:none;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.05);border-radius:12px;padding:10px 12px;color:#eef2ff;text-align:left;cursor:pointer;transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease}
    .bh2025-ans:hover{transform:translateY(-1px);border-color:rgba(164,107,255,.45);box-shadow:0 12px 24px rgba(8,10,22,.45),0 0 16px rgba(164,107,255,.25)}
    .bh2025-ans.correct{box-shadow:0 0 0 2px rgba(94,234,212,.45), 0 0 20px rgba(94,234,212,.28)}
    .bh2025-ans.wrong{box-shadow:0 0 0 2px rgba(255,107,107,.5), 0 0 20px rgba(255,107,107,.28)}

    .bh2025-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:12px}
    .bh2025-ghost{appearance:none;border:1px solid rgba(255,255,255,.16);background:transparent;color:#eef2ff;border-radius:10px;padding:8px 12px;cursor:pointer}
    .bh2025-primary{appearance:none;border:1px solid var(--bh2025-stroke);background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));color:#eef2ff;border-radius:10px;padding:8px 12px;font-weight:800;cursor:pointer}
    .bh2025-muted{color:#b8c2e0}
    @media (max-width:640px){ .bh2025-modal__panel{margin:3vh 10px} }

    /* ===== Modal PORADA (instrukcja) ===== */
    .bh2025-porada{position:fixed;inset:0;display:none;z-index:9998;background:radial-gradient(50% 50% at 50% 50%, rgba(14,18,48,.9), rgba(14,18,48,.95));backdrop-filter:saturate(120%) blur(6px)}
    .bh2025-porada[aria-hidden="false"]{display:block}
    .bh2025-porada__panel{position:relative;max-width:980px;margin:5vh auto;background:rgba(60,32,100,.36);border:1px solid rgba(164,107,255,.25);border-radius:18px;padding:16px;box-shadow:0 18px 46px rgba(8,10,22,.55), 0 0 22px rgba(164,107,255,.18);color:#eef2ff}
    .bh2025-porada__head{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:8px}
    .bh2025-porada__title{font-weight:900;letter-spacing:.3px}
    .bh2025-porada__grid{display:grid;grid-template-columns:1.1fr 1fr;gap:14px}
    @media (max-width:900px){ .bh2025-porada__grid{grid-template-columns:1fr} }
    .bh2025-porada__svg{border-radius:14px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.05);min-height:260px;display:flex;align-items:center;justify-content:center}
    .bh2025-steps{border-radius:14px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.05);padding:12px}
    .bh2025-steps ol{margin:0;padding-left:18px}
    .bh2025-steps li{margin:8px 0}
    .bh2025-video{margin-top:12px;border-radius:14px;border:1px solid rgba(255,255,255,.16);background:rgba(255,255,255,.04);padding:12px}
    .bh2025-video .ph{display:flex;align-items:center;gap:10px;justify-content:center;padding:26px;border-radius:12px;border:1px dashed rgba(255,255,255,.22)}
    .bh2025-chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.06);font-weight:800}
    .bh2025-close--porada{appearance:none;background:transparent;border:1px solid rgba(164,107,255,.25);color:#e7eaff;border-radius:10px;padding:6px 10px;cursor:pointer}
    .bh2025-close--porada:hover{box-shadow:0 0 0 2px rgba(255,110,199,.28)}
  </style>
</head>

<body data-page="home">
  <div class="bh-wallpaper" aria-hidden="true"></div>
  <div class="bh-grid" aria-hidden="true"></div>
  <div class="bh-floor-fade" aria-hidden="true"></div>

  <div class="container">
    <header class="header">
      <div class="brand">
        <h1>Boli Help</h1>
        <small>Pomoc i pierwsza pomoc w nagłych sytuacjach</small>
      </div>
      <div class="tools">
        <div class="search" role="search">
          <input type="search" placeholder="Szukaj objawu, części ciała lub tematu…" aria-label="Szukaj" />
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="white" stroke-opacity=".7" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
      </div>
    </header>

    <div class="emergency-list" aria-label="Telefony alarmowe">
      <a href="tel:112">📞 112</a><a href="tel:999">🚑 999</a><a href="tel:998">🔥 998</a><a href="tel:997">👮 997</a>
    </div>

    <nav class="situations" aria-label="Sytuacje nagłe">
      <a class="pill pill--green" data-porada="zadlawienie" href="szczegoly.html?typ=porada&czesc=zadlawienie&label=Zad%C5%82awienie"><span class="ico">🫁</span>Zadławienie</a>
      <a class="pill pill--green" data-porada="reanimacja" href="szczegoly.html?typ=porada&czesc=reanimacja&label=Reanimacja"><span class="ico">🚑</span>Reanimacja</a>
      <a class="pill pill--green" data-porada="wypadek" href="szczegoly.html?typ=porada&czesc=wypadek&label=Wypadek"><span class="ico">💥</span>Wypadek</a>
      <a class="pill pill--green" data-porada="pierwszopomoc" href="szczegoly.html?typ=porada&czesc=pierwszopomoc&label=Pierwsza%20pomoc"><span class="ico">❤️‍🩹</span>Pierwsza pomoc</a>
      <!-- LINK do osobnej podstrony gier -->
      <a class="pill pill--green" href="gry.html"><span class="ico">🎮</span>Gry / Trening</a>
    </nav>

    <!-- Launcher mini-quizu -->
    <div class="bh2025-quiz-launch" aria-hidden="false" aria-label="Sekcja edukacyjna">
      <span class="dot" aria-hidden="true"></span>
      <button id="bh2025QuizOpen" class="bh2025-cta-quiz" type="button" aria-haspopup="dialog" aria-controls="bh2025QuizModal">
        Sprawdź się: Pierwsza pomoc
      </button>
    </div>

    <div class="actions" role="navigation" aria-label="Szybkie akcje">
      <button id="btn-112" class="btn btn--red btn--call" type="button" aria-label="Zadzwoń na 112">📞 112</button>
      <button id="btn-hosp" class="btn btn--hosp" type="button" aria-label="Szpitale i SOR">🏥 Szpitale / SOR</button>
      <a id="btn-apteka" class="btn" href="https://www.google.com/maps/search/apteka+otwarta+teraz/" target="_blank" rel="noopener"><span class="badge-round">apteka24</span></a>
      <button id="btn-loc" class="btn" type="button">📍 Zlokalizuj mnie</button>
    </div>

    <div class="subheadline">Boli mnie — wybierz obszar bólu</div>

    <section class="stack" aria-label="Wybór postaci" style="display:grid;gap:16px;grid-template-columns:repeat(3,1fr);align-items:stretch;">
      <article class="card">
        <a href="kobieta.html">
          <img src="img/kobieta-model1.png" alt="Kobieta — wybierz część ciała" onerror="this.src='img/placeholder.png'"/>
          <div class="caption"><h3>Kobieta</h3><span class="arrow" aria-hidden="true">→</span></div>
        </a>
      </article>
      <article class="card">
        <a href="mezczyzna.html">
          <img src="img/mezczyzna-model1.png" alt="Mężczyzna — wybierz część ciała" onerror="this.src='img/placeholder.png'"/>
          <div class="caption"><h3>Mężczyzna</h3><span class="arrow" aria-hidden="true">→</span></div>
        </a>
      </article>
      <article class="card">
        <a href="dziecko.html">
          <img src="img/dziecko-model1.png" alt="Dziecko — wybierz część ciała" onerror="this.src='img/placeholder.png'"/>
          <div class="caption"><h3>Dziecko</h3><span class="arrow" aria-hidden="true">→</span></div>
        </a>
      </article>
    </section>
  </div>

  <!-- Modal quizu -->
  <div id="bh2025QuizModal" class="bh2025-modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="bh2025QuizTitle">
    <div class="bh2025-modal__panel">
      <div class="bh2025-modal__head">
        <div>
          <div id="bh2025QuizTitle" class="bh2025-modal__title">Mini-quiz: czy wiesz co zrobić?</div>
          <div class="bh2025-muted" id="bh2025QuizSubtitle">3 szybkie pytania: zadławienie, reanimacja, pozycja bezpieczna.</div>
        </div>
        <button class="bh2025-close" type="button" id="bh2025QuizClose" aria-label="Zamknij">✕</button>
      </div>
      <div class="bh2025-modal__body">
        <div class="bh2025-progress" aria-label="Postęp">
          <div class="bh2025-progress__bar"><span class="bh2025-progress__cursor" id="bh2025QuizCursor"></span></div>
          <div class="bh2025-progress__label"><span id="bh2025QuizStep">1</span>/3</div>
        </div>
        <div class="bh2025-q" id="bh2025QuizQuestion">…</div>
        <div class="bh2025-answers" id="bh2025QuizAnswers"></div>
        <div class="bh2025-actions">
          <button class="bh2025-ghost" type="button" id="bh2025QuizRestart">Zacznij od nowa</button>
          <button class="bh2025-primary" type="button" id="bh2025QuizNext">Dalej</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal PORADA -->
  <div id="bh2025Porada" class="bh2025-porada" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="bh2025PoradaTitle">
    <div class="bh2025-porada__panel">
      <div class="bh2025-porada__head">
        <div class="bh2025-porada__title" id="bh2025PoradaTitle">Porada</div>
        <div class="bh2025-chip" id="bh2025PoradaChip">SOS • instrukcja</div>
        <button class="bh2025-close--porada" type="button" id="bh2025PoradaClose" aria-label="Zamknij">✕</button>
      </div>

      <div class="bh2025-porada__grid">
        <div class="bh2025-porada__svg" id="bh2025PoradaSvg" aria-label="Instrukcja obrazkowa"></div>
        <div class="bh2025-steps"><ol id="bh2025PoradaSteps"></ol></div>
      </div>

      <div class="bh2025-video">
        <div class="bh2025-muted" style="margin-bottom:8px;font-weight:800">Materiał wideo</div>
        <div id="bh2025VideoWrap"><div class="ph" id="bh2025VideoPh"><span>🎬</span><span>Dodaj plik: <code>assets/videos/&lt;nazwa&gt;.mp4</code> i zaktualizuj mapę poniżej.</span></div></div>
      </div>
    </div>
  </div>

  <!-- Twój skrypt (zostaje) -->
  <script src="assets/main.js?v=10"></script>

  <!-- Logika mini-quizu (NAPRAWIONA) -->
  <script>
  (function(){
    const openBtn = document.getElementById('bh2025QuizOpen');
    const modal   = document.getElementById('bh2025QuizModal');
    const closeBtn= document.getElementById('bh2025QuizClose');
    const restart = document.getElementById('bh2025QuizRestart');
    const nextBtn = document.getElementById('bh2025QuizNext');

    const qEl     = document.getElementById('bh2025QuizQuestion');
    const aEl     = document.getElementById('bh2025QuizAnswers');
    const stepEl  = document.getElementById('bh2025QuizStep');
    const cursor  = document.getElementById('bh2025QuizCursor');

    if(!openBtn || !modal) return;

    const QUIZ = [
      { q: "Ktoś się dławi i nie może mówić. Co robisz najpierw?",
        a: [
          {t:"Zachęcam do kaszlu, jeśli nieskuteczny — 5 uderzeń między łopatki", ok:true},
          {t:"Podaję wodę, żeby popchnąć kęs", ok:false},
          {t:"Wkładam palec i ‘na ślepo’ próbuję wyjąć", ok:false}
        ], hintOk:"Tak! Najpierw kaszel. Jeśli nieskuteczny → uderzenia w plecy.", hintBad:"Uwaga — woda/‘wymiatanie’ palcem może pogorszyć sytuację." },
      { q: "Brak oddechu. Co z RKO u dorosłego?",
        a: [
          {t:"Ucisk klatki 100–120/min, głębokość ~5–6 cm, centrum mostka", ok:true},
          {t:"Ucisk delikatny 40/min, bez kontroli miejsca", ok:false},
          {t:"Czekam na karetkę bez ucisków", ok:false}
        ], hintOk:"Super! Tempo 100–120/min i środek mostka są kluczowe.", hintBad:"To zbyt wolno/bez ucisków — liczy się szybka, prawidłowa RKO." },
      { q: "Poszkodowany oddycha, ale nie reaguje. Co dalej?",
        a: [
          {t:"Układam w pozycji bezpiecznej i kontroluję oddech", ok:true},
          {t:"Podaję napój i zostawiam w pozycji siedzącej", ok:false},
          {t:"Kładę na plecach bez kontroli drożności", ok:false}
        ], hintOk:"Tak — pozycja bezpieczna i stała kontrola oddechu.", hintBad:"Płyny/siedząca pozycja/na plecach — to nie jest bezpieczne." }
    ];

    let step=0, lock=false;
    const chosen = new Array(QUIZ.length).fill(null);

    function setProgress(){ stepEl.textContent = (step+1); const left = 6 + (step/(QUIZ.length-1||1))*88; cursor.style.left = left + '%'; }
    function render(){
      const item = QUIZ[step];
      qEl.textContent = item.q; aEl.innerHTML = '';
      item.a.forEach((opt)=>{
        const b = document.createElement('button'); b.type='button'; b.className='bh2025-ans'; b.textContent=opt.t;
        b.addEventListener('click', ()=>{
          if(lock) return; lock=true; const good = opt.ok; chosen[step] = !!good;
          b.classList.add(good?'correct':'wrong');
          const note = document.createElement('div'); note.className='bh2025-muted'; note.style.marginTop='6px';
          note.textContent = good ? item.hintOk : item.hintBad; b.after(note);
          if(navigator.vibrate) try{ navigator.vibrate(good?80:160); }catch(_){ }
          setTimeout(()=>{ lock=false; }, 320);
        });
        aEl.appendChild(b);
      });
      setProgress();
      nextBtn.textContent = step===QUIZ.length-1 ? "Zakończ" : "Dalej";
    }
    function open(){ modal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; step=0; chosen.fill(null); render(); }
    function close(){ modal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }

    function award(score){
      const toast=document.createElement('div');
      toast.textContent = `Brawo! Wynik: ${score}/${QUIZ.length}`;
      Object.assign(toast.style,{ position:'fixed',left:'50%',bottom:'26px',transform:'translateX(-50%)', background:'rgba(60,32,100,.85)',color:'#eef2ff',padding:'10px 14px', border:'1px solid rgba(164,107,255,.35)',borderRadius:'12px', boxShadow:'0 10px 26px rgba(8,10,22,.45)',fontWeight:'800',zIndex:10000 });
      document.body.appendChild(toast); setTimeout(()=>{ toast.remove(); }, 2600);

      const c=document.createElement('canvas'); c.width=innerWidth; c.height=innerHeight; Object.assign(c.style,{position:'fixed',inset:'0',pointerEvents:'none',zIndex:9999});
      document.body.appendChild(c); const ctx=c.getContext('2d');
      let parts=Array.from({length: score===QUIZ.length? 140:90},()=>({ x:Math.random()*c.width, y:-20, vx:-1+Math.random()*2, vy:2+Math.random()*2.5, size:3+Math.random()*4, rot:Math.random()*6, vr:-.2+Math.random()*.4, color: score===QUIZ.length ? ['#5eead4','#a46bff','#ffd16c'][Math.floor(Math.random()*3)] : 'rgba(255,255,255,.8)', life: 90 }));
      (function tick(){ ctx.clearRect(0,0,c.width,c.height); parts.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; p.rot+=p.vr; p.vy+=0.02; p.life--; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot); ctx.fillStyle=p.color; ctx.fillRect(-p.size/2,-p.size/2,p.size,p.size); ctx.restore(); }); parts=parts.filter(p=>p.life>0); if(parts.length) requestAnimationFrame(tick); else c.remove(); })();
    }

    openBtn.addEventListener('click', open);
    closeBtn.addEventListener('click', close);
    modal.addEventListener('click', (e)=>{ if(e.target===modal) close(); });
    restart.addEventListener('click', ()=>{ step=0; chosen.fill(null); render(); });
    nextBtn.addEventListener('click', ()=>{ if(step<QUIZ.length-1){ step++; render(); } else { const score = chosen.reduce((s,v)=> s + (v===true?1:0), 0); award(score); close(); } });
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && modal.getAttribute('aria-hidden')==='false') close(); });
  })();
  </script>

  <!-- Logika PORAD (modal z obrazkami + krokami + filmem) -->
  <script>
  (function(){
    const poradaModal  = document.getElementById('bh2025Porada');
    const poradaClose  = document.getElementById('bh2025PoradaClose');
    const poradaTitle  = document.getElementById('bh2025PoradaTitle');
    const poradaChip   = document.getElementById('bh2025PoradaChip');
    const svgWrap      = document.getElementById('bh2025PoradaSvg');
    const stepsOl      = document.getElementById('bh2025PoradaSteps');
    const videoWrap    = document.getElementById('bh2025VideoWrap');
    const videoPh      = document.getElementById('bh2025VideoPh');

    if(!poradaModal) return;

    const SVG = {
      zadlawienie: `
        <svg width="100%" height="220" viewBox="0 0 400 220" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0" stop-color="#5eead4" stop-opacity=".5"/>
              <stop offset="1" stop-color="#a46bff" stop-opacity=".4"/>
            </linearGradient>
          </defs>
          <rect x="8" y="8" width="384" height="204" rx="14" fill="url(#g1)" opacity=".18" stroke="rgba(255,255,255,.25)"/>
          <circle cx="95" cy="85" r="36" fill="none" stroke="#cfe2ff" stroke-width="3"/>
          <rect x="70" y="118" width="50" height="60" rx="8" fill="none" stroke="#cfe2ff" stroke-width="3"/>
          <path d="M250 75 q20 10 0 20 q20 10 0 20" fill="none" stroke="#ff6ec7" stroke-width="6" stroke-linecap="round"/>
          <rect x="230" y="120" width="70" height="28" rx="6" fill="none" stroke="#5eead4" stroke-width="4"/>
          <text x="265" y="140" text-anchor="middle" fill="#eaf2ff" font-size="12" font-weight="700">5× plecy</text>
        </svg>`,
      reanimacja: `
        <svg width="100%" height="220" viewBox="0 0 400 220" xmlns="http://www.w3.org/2000/svg">
          <rect x="8" y="8" width="384" height="204" rx="14" fill="rgba(94,234,212,.15)" stroke="rgba(255,255,255,.25)"/>
          <rect x="40" y="150" width="320" height="14" rx="7" fill="#ff6b6b"/>
          <rect x="180" y="70" width="40" height="80" rx="8" fill="#a46bff"/>
          <rect x="165" y="60" width="70" height="12" rx="6" fill="#5eead4"/>
          <text x="200" y="185" text-anchor="middle" fill="#eaf2ff" font-size="12" font-weight="800">Uciski 100–120/min</text>
        </svg>`,
      wypadek: `
        <svg width="100%" height="220" viewBox="0 0 400 220" xmlns="http://www.w3.org/2000/svg">
          <rect x="8" y="8" width="384" height="204" rx="14" fill="rgba(255,184,108,.14)" stroke="rgba(255,255,255,.25)"/>
          <polygon points="60,160 100,80 140,160" fill="#ffd16c" stroke="#ffb86c"/>
          <rect x="220" y="120" width="120" height="18" rx="9" fill="#ff6b6b"/>
          <text x="280" y="80" text-anchor="middle" fill="#eaf2ff" font-size="12" font-weight="800">Zabezpiecz miejsce</text>
        </svg>`,
      pierwszopomoc: `
        <svg width="100%" height="220" viewBox="0 0 400 220" xmlns="http://www.w3.org/2000/svg">
          <rect x="8" y="8" width="384" height="204" rx="14" fill="rgba(164,107,255,.14)" stroke="rgba(255,255,255,.25)"/>
          <rect x="60" y="70" width="80" height="80" rx="10" fill="#5eead4"/>
          <rect x="260" y="70" width="80" height="80" rx="10" fill="#a46bff"/>
          <text x="100" y="170" text-anchor="middle" fill="#eaf2ff" font-size="12" font-weight="800">ABC</text>
          <text x="300" y="170" text-anchor="middle" fill="#eaf2ff" font-size="12" font-weight="800">112</text>
        </svg>`
    };

    const STEPS = {
      zadlawienie: ["Zachęcaj do kaszlu — jeśli skuteczny, obserwuj.", "Brak skutecznego kaszlu: 5 uderzeń w plecy między łopatki.", "Jeśli nieskuteczne: 5 uciśnięć nadbrzusza (ucisk Heimlicha).", "Na zmianę: 5 plecy ↔ 5 nadbrzusze, aż do skutku.", "Utrata przytomności: RKO 30:2, wezwij 112, użyj AED jeśli jest."],
      reanimacja:  ["Sprawdź bezpieczeństwo, reakcję i oddech (max 10 s).", "Brak oddechu: zadzwoń 112 (głośnomówiący).", "Uciski klatki: tempo 100–120/min, głęb. ~5–6 cm, środek mostka.", "Po 30 uciśnięciach 2 oddechy ratownicze (jeśli umiesz i chcesz).", "Kontynuuj do przyjazdu służb lub powrotu oddechu."],
      wypadek:     ["Zabezpiecz miejsce: światła awaryjne, trójkąt, kamizelka.", "Oceń liczbę poszkodowanych i zagrożenia (ogień, ruch).", "Wezwij pomoc — 112: podaj miejsce, liczbę poszkodowanych.", "Priorytet: przytomność, oddech, krwotoki (ucisk bezpośredni).", "Nie przestawiaj bez potrzeby; kontroluj oddech do przyjazdu."],
      pierwszopomoc:["ABC: drożność dróg oddechowych, oddech, krążenie.", "Pozycja bezpieczna u nieprzytomnego z oddechem.", "Silny krwotok: ucisk bezpośredni, opatrunek uciskowy.", "Oparzenia: chłodź czystą, chłodną wodą 20 min; nie przebijaj pęcherzy.", "Zawsze wezwij pomoc, gdy masz wątpliwości lub są czerwone flagi."]
    };

    const VIDEO = { zadlawienie:null, reanimacja:null, wypadek:null, pierwszopomoc:null };

    function openPorada(key, title){
      poradaTitle.textContent = title || 'Porada'; poradaChip.textContent  = 'SOS • instrukcja';
      svgWrap.innerHTML = SVG[key] || ''; stepsOl.innerHTML = '';
      (STEPS[key]||[]).forEach(txt=>{ const li=document.createElement('li'); li.textContent=txt; stepsOl.appendChild(li); });
      videoWrap.innerHTML=''; const src = VIDEO[key];
      if(src){ const v = document.createElement('video'); v.setAttribute('controls','controls'); v.setAttribute('playsinline',''); v.setAttribute('style','width:100%;border-radius:12px;background:rgba(255,255,255,.04)'); const s = document.createElement('source'); s.src = src; s.type='video/mp4'; v.appendChild(s); videoWrap.appendChild(v); }
      else { videoWrap.appendChild(videoPh.cloneNode(true)); }
      poradaModal.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden';
    }
    function closePorada(){ poradaModal.setAttribute('aria-hidden','true'); document.body.style.overflow=''; }

    poradaClose.addEventListener('click', closePorada);
    poradaModal.addEventListener('click', (e)=>{ if(e.target===poradaModal) closePorada(); });
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && poradaModal.getAttribute('aria-hidden')==='false') closePorada(); });

    const nav = document.querySelector('nav.situations');
    if(nav){ nav.addEventListener('click', (e)=>{ const a = e.target.closest('a[data-porada]'); if(!a) return; e.preventDefault(); const key = a.getAttribute('data-porada'); const title = a.textContent.trim(); openPorada(key, title); }); }
  })();
  </script>

  <!-- Wyszukiwarka z podpowiedziami -->
  <style>
  .bh2025-suggest{position:absolute;right:0;left:0;top:100%;margin-top:6px;z-index:50;background:rgba(60,32,100,.96); border:1px solid rgba(164,107,255,.28); border-radius:12px; box-shadow:0 16px 34px rgba(8,10,22,.52); overflow:hidden; display:none}
  .bh2025-suggest[aria-hidden="false"]{display:block}
  .bh2025-sg-head{padding:8px 12px; font-weight:800; letter-spacing:.2px; color:#cfe2ff; border-bottom:1px solid rgba(164,107,255,.18); background:rgba(255,255,255,.03)}
  .bh2025-sg-list{list-style:none;margin:0;padding:6px}
  .bh2025-sg-item{display:flex;align-items:center;gap:10px;padding:8px 10px;border-radius:10px; cursor:pointer; color:#eef2ff; text-decoration:none; border:1px solid transparent}
  .bh2025-sg-item:hover,
  .bh2025-sg-item[aria-selected="true"]{background:rgba(255,255,255,.06); border-color:rgba(164,107,255,.28); box-shadow:inset 0 0 0 1px rgba(164,107,255,.16)}
  .bh2025-sg-ico{width:18px;height:18px;display:inline-grid;place-items:center;border-radius:6px; background:rgba(164,107,255,.18); font-size:12px}
  .bh2025-sg-sub{margin-left:auto;font-size:12px;color:#b8c2e0}
  .header .tools .search{position:relative}
  </style>
  <script>
  (function(){
    const input = document.querySelector('.header .tools .search input[type="search"]');
    if(!input) return;

    const PARTS = [
      {id:'oko',label:'Oko',alias:['oko','oczy','wzrok']},
      {id:'nos',label:'Nos',alias:['nos','zatoki','katar']},
      {id:'gardlo',label:'Gardło',alias:['gardlo','gardło','angina','chrypka']},
      {id:'glowa',label:'Głowa',alias:['glowa','głowa','migrena','ból głowy']},
      {id:'klatka',label:'Klatka piersiowa',alias:['klatka','pierś','serce ból','mostek']},
      {id:'pluca',label:'Płuca',alias:['płuca','pluca','duszność','astma']},
      {id:'brzuch',label:'Brzuch',alias:['brzuch','żołądek','zoladek','wzdęcia','biegunka']},
      {id:'nerki',label:'Nerki',alias:['nerki','kolka','lędźwie','ledzwi']},
      {id:'plecy',label:'Plecy',alias:['plecy','kręgosłup','kregoslup','rwa']},
      {id:'biodra',label:'Biodra/Uda',alias:['biodro','biodra','udo','pachwina']},
      {id:'kolano',label:'Kolano',alias:['kolano','rzepka','łąkotka','lakotka']},
      {id:'stopy',label:'Stopy',alias:['stopa','stopy','pięta','pieta','rozcięgno']},
      {id:'skora',label:'Skóra',alias:['skora','skóra','wysypka','świąd','alergia']},
      {id:'serce',label:'Serce',alias:['serce','kołatania','kolatania','arytmia']},
      {id:'kaszel',label:'Kaszel',alias:['kaszel','kaszle']},
      {id:'goraczka',label:'Gorączka',alias:['gorączka','goraczka','temperatura']},
      {id:'zadlawienie',label:'Zadławienie (SOS)',alias:['zadławienie','zadlawienie','zadławił','zadlawil'],sos:true},
      {id:'reanimacja',label:'Reanimacja (RKO)',alias:['reanimacja','rko','resuscytacja'],sos:true},
      {id:'wypadek',label:'Wypadek (pierwsze kroki)',alias:['wypadek','kolizja','potrącenie','potracenie'],sos:true},
      {id:'pierwszopomoc',label:'Pierwsza pomoc',alias:['pierwsza pomoc','pierwszopomoc','abc'],sos:true}
    ];
    const GENDERS = [ {id:'kobieta',label:'Kobieta'}, {id:'mezczyzna',label:'Mężczyzna'}, {id:'dziecko',label:'Dziecko'} ];

    const panel = document.createElement('div'); panel.className = 'bh2025-suggest'; panel.setAttribute('role','listbox'); panel.setAttribute('aria-hidden','true'); panel.innerHTML = `<div class="bh2025-sg-head">Podpowiedzi</div><ul class="bh2025-sg-list" id="bh2025List"></ul>`; input.parentElement.appendChild(panel);
    const list = panel.querySelector('#bh2025List');

    let results = [], active = -1;

    function buildUrls(hit){ if(hit.sos){ const url = `szczegoly.html?typ=porada&czesc=${encodeURIComponent(hit.id)}&label=${encodeURIComponent(hit.label)}`; return [{label: hit.label, url, sub:'SOS'}]; } return GENDERS.map(g=>{ const url = `szczegoly.html?typ=${g.id}&czesc=${encodeURIComponent(hit.id)}&label=${encodeURIComponent(hit.label)}`; return {label:`${hit.label} • ${g.label}`, url, sub:g.label}; }); }
    function search(q){ const s = q.trim().toLowerCase(); if(!s) return []; const hits = PARTS.filter(p => p.alias?.some(a => a.includes(s)) || p.id.includes(s) || p.label.toLowerCase().includes(s)).slice(0,6); return hits.flatMap(buildUrls).slice(0,12); }
    function render(){ list.innerHTML = ''; active = -1; results.forEach((r,idx)=>{ const li = document.createElement('li'); li.setAttribute('role','option'); li.className='bh2025-sg-item'; li.dataset.index = String(idx); li.innerHTML = `<span class="bh2025-sg-ico">🔎</span><span>${r.label}</span><span class="bh2025-sg-sub">${r.sub||''}</span>`; li.addEventListener('mouseenter', ()=>setActive(idx)); li.addEventListener('mouseleave', ()=>setActive(-1)); li.addEventListener('click', ()=>go(idx)); list.appendChild(li); }); panel.setAttribute('aria-hidden', results.length ? 'false':'true'); }
    function setActive(i){ active = i; list.querySelectorAll('.bh2025-sg-item').forEach((el,idx)=>{ el.setAttribute('aria-selected', (idx===active)?'true':'false'); }); }
    function go(idx){ const item = results[idx]; if(!item) return; window.location.href = item.url; }

    input.addEventListener('input', ()=>{ results = search(input.value); render(); });
    input.addEventListener('keydown', (e)=>{
      const shown = panel.getAttribute('aria-hidden')==='false';
      if(e.key==='ArrowDown'){ if(!shown){ results = search(input.value); render(); } setActive( (active+1+results.length)%results.length ); e.preventDefault(); }
      else if(e.key==='ArrowUp'){ if(!shown){ results = search(input.value); render(); } setActive( (active-1+results.length)%results.length ); e.preventDefault(); }
      else if(e.key==='Enter'){ if(shown && active>=0){ e.preventDefault(); go(active); } else { if(!results.length){ results = search(input.value); } if(results[0]) go(0); } }
      else if(e.key==='Escape'){ panel.setAttribute('aria-hidden','true'); active=-1; }
    });
    document.addEventListener('click', (e)=>{ if(!panel.contains(e.target) && e.target!==input){ panel.setAttribute('aria-hidden','true'); active=-1; } });
    const svg = input.parentElement.querySelector('svg'); if(svg){ svg.style.cursor='pointer'; svg.addEventListener('click', ()=>{ results = search(input.value); if(results.length){ panel.setAttribute('aria-hidden','false'); render(); } }); }
  })();
  </script>
</body>
</html>
```

---
```html
<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Boli Help — Gry / Trening</title>
  <link rel="stylesheet" href="assets/style.css?v=10" />
  <style>
    html,body{height:100%}
    body{background:#0e1230;color:#eef2ff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    .container{max-width:1100px;margin:0 auto;padding:16px}
    .bh-games-grid{ display:grid; gap:16px; margin:18px 0 8px; grid-template-columns:repeat(3,1fr) }
    @media (max-width:980px){ .bh-games-grid{ grid-template-columns:repeat(2,1fr) } }
    @media (max-width:640px){ .bh-games-grid{ grid-template-columns:1fr } }
    .bh-games-card{ border-radius:18px; background:rgba(60,32,100,.32); border:1px solid rgba(164,107,255,.22); box-shadow:0 10px 22px rgba(255,110,199,.12), 0 0 0 1px rgba(164,107,255,.14) inset; padding:14px; display:flex; gap:12px; align-items:flex-start; transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease; }
    .bh-games-card:hover{ transform:translateY(-2px); box-shadow:0 16px 30px rgba(8,10,22,.5) }
    .bh-games-ico{ width:42px; height:42px; border-radius:12px; display:grid; place-items:center; background:rgba(94,234,212,.15); border:1px solid rgba(94,234,212,.35); font-size:22px; }
    .bh-games-title{ font-weight:900; letter-spacing:.3px; margin:0 0 4px; }
    .bh-games-desc{ color:#cfe2ff; font-size:13px; margin:0 0 6px }
    .bh-games-actions{ display:flex; gap:8px; flex-wrap:wrap }
    .bh-games-btn{ appearance:none; border:1px solid rgba(164,107,255,.28); background:rgba(255,255,255,.06); color:#eef2ff; border-radius:12px; padding:8px 12px; font-weight:800; cursor:pointer; transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease; }
    .bh-games-btn:hover{ transform:translateY(-1px); border-color:rgba(164,107,255,.55); box-shadow:0 10px 24px rgba(8,10,22,.45) }

    /* RKO Tempo Tap */
    .rko-wrap{ display:grid; grid-template-columns:1.2fr 1fr; gap:16px; margin-top:12px }
    @media (max-width:900px){ .rko-wrap{ grid-template-columns:1fr } }
    .pad{ display:grid; place-items:center; min-height:260px; border-radius:14px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.16) }
    .pad .tap{ width:220px; height:220px; border-radius:50%; display:grid; place-items:center; background:radial-gradient(circle at 50% 35%, rgba(94,234,212,.22), rgba(164,107,255,.16)); box-shadow:0 0 0 2px rgba(94,234,212,.35), 0 0 34px rgba(94,234,212,.22); font-weight:900; letter-spacing:.5px; text-align:center; line-height:1.2; cursor:pointer; user-select:none; transition: transform .08s ease; }
    .pad .tap:active{ transform:scale(.985) }
    .stats{ border-radius:14px; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.16); padding:12px }
    .stat{ display:flex; justify-content:space-between; margin:6px 0; font-weight:800 }
    .bar{ height:12px; border-radius:999px; outline:1px solid rgba(255,255,255,.16); background:linear-gradient(90deg, #5eead4, #ff6ec7); position:relative; overflow:hidden }
    .cursor{ position:absolute; top:50%; transform:translate(-50%,-50%); width:16px; height:16px; border-radius:50%; background:#fff; box-shadow:0 0 0 2px rgba(94,234,212,.35), 0 0 18px rgba(94,234,212,.25); transition:left .28s ease }
    .toast{ position:fixed; right:16px; bottom:16px; z-index:10000; display:none }
    .toast.show{ display:block; animation:fadeIn .25s ease both }
    .toast .box{ background:rgba(60,32,100,.9); border:1px solid rgba(164,107,255,.35); color:#eafff7; border-radius:12px; padding:10px 12px; box-shadow:0 14px 28px rgba(8,10,22,.5) }
    @keyframes fadeIn{ from{ opacity:0; transform:translateY(6px) } to{ opacity:1; transform:none } }
    a.back{display:inline-flex;gap:8px;align-items:center;text-decoration:none;color:#cfe2ff;border:1px solid rgba(164,107,255,.28);padding:8px 12px;border-radius:12px}
  </style>
</head>
<body>
  <div class="container">
    <header style="display:flex;justify-content:space-between;align-items:center;gap:12px">
      <h1 style="margin:0">🎮 Gry / Trening</h1>
      <a href="index.html" class="back">← Powrót</a>
    </header>

    <section class="bh-games-grid" aria-label="Wybór gry">
      <article class="bh-games-card">
        <div class="bh-games-ico">💓</div>
        <div>
          <div class="bh-games-title">RKO Tempo Tap</div>
          <p class="bh-games-desc">Utrzymaj tempo <b>100–120/min</b> przez 30 s — trenuj prawidłowy rytm ucisków.</p>
          <div class="bh-games-actions"><button class="bh-games-btn" id="openRko">Start</button></div>
        </div>
      </article>
      <article class="bh-games-card" aria-disabled="true">
        <div class="bh-games-ico">🫁</div>
        <div>
          <div class="bh-games-title">Zadławienie 5+5</div>
          <p class="bh-games-desc">Sekwencja 5 uderzeń ↔ 5 uciśnięć — <i>wkrótce</i>.</p>
          <div class="bh-games-actions"><button class="bh-games-btn" disabled>Wkrótce</button></div>
        </div>
      </article>
      <article class="bh-games-card" aria-disabled="true">
        <div class="bh-games-ico">⚠️</div>
        <div>
          <div class="bh-games-title">Hazard Hunt</div>
          <p class="bh-games-desc">Wypatrz zagrożenia na scenie wypadku — <i>wkrótce</i>.</p>
          <div class="bh-games-actions"><button class="bh-games-btn" disabled>Wkrótce</button></div>
        </div>
      </article>
    </section>

    <!-- RKO: panel -->
    <section id="rkoPanel" style="display:none">
      <h2 style="margin:12px 0 6px;font-size:18px;letter-spacing:.3px">💓 RKO Tempo Tap</h2>
      <div class="rko-wrap">
        <div class="pad">
          <button class="tap" id="tapBtn" type="button" aria-label="Stukaj w rytmie RKO">
            Stukaj rytm<br>100–120/min<br><small>(klik/space)</small>
          </button>
        </div>
        <div class="stats">
          <div class="stat"><span>BPM</span><span id="bpm">0</span></div>
          <div class="stat"><span>W zakresie</span><span id="inRange">0%</span></div>
          <div class="bar" aria-label="Postęp treningu"><span class="cursor" id="cursor" style="left:6%"></span></div>
          <div class="stat"><span>Czas</span><span id="time">30s</span></div>
          <div style="margin-top:10px" class="bh-games-actions">
            <button class="bh-games-btn" id="startBtn">Start 30s</button>
            <button class="bh-games-btn" id="resetBtn">Reset</button>
          </div>
          <p class="bh-games-desc" style="margin-top:8px">Cel: utrzymaj <b>≥70%</b> czasu w zakresie 100–120 BPM, aby zdobyć odznakę <b>Tempo Master</b>.</p>
        </div>
      </div>
    </section>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite">
    <div class="box">🏅 Odznaka zdobyta: <b>Tempo Master</b> — świetna robota!</div>
  </div>

  <script>
  // Minimalna logika RKO tap – tylko na tej podstronie
  (function(){
    const openRko = document.getElementById('openRko');
    const panel = document.getElementById('rkoPanel');
    const tap = document.getElementById('tapBtn');
    const startBtn = document.getElementById('startBtn');
    const resetBtn = document.getElementById('resetBtn');
    const bpmEl = document.getElementById('bpm');
    const inRangeEl = document.getElementById('inRange');
    const timeEl = document.getElementById('time');
    const cursor = document.getElementById('cursor');
    const toast = document.getElementById('toast');

    if(!openRko) return;

    openRko.addEventListener('click', ()=>{ panel.style.display='block'; scrollTo({top:panel.offsetTop-8,behavior:'smooth'}); });

    let taps=[], startAt=null, timer=null, secs=30, inRangeMs=0;
    function now(){ return performance.now(); }

    function calcBPM(){
      if(taps.length<2) return 0;
      const recent = taps.slice(-6);
      let intervals=[]; for(let i=1;i<recent.length;i++) intervals.push(recent[i]-recent[i-1]);
      const avg = intervals.reduce((a,b)=>a+b,0)/intervals.length;
      return Math.round(60000/avg);
    }

    function onTap(){
      const t = now(); if(!startAt) return; taps.push(t);
      const bpm = calcBPM(); bpmEl.textContent = bpm;
      const inRange = (bpm>=100 && bpm<=120);
      if(inRange){ inRangeMs += (1000/Math.max(1,bpm/60)); }
      const pct = Math.round((inRangeMs/(secs*1000))*100);
      inRangeEl.textContent = Math.min(100, Math.max(0,pct)) + '%';
      tap.style.transform='scale(.985)'; setTimeout(()=>tap.style.transform='',80);
    }

    function start(){
      if(startAt) return;
      taps=[]; inRangeMs=0; bpmEl.textContent='0'; inRangeEl.textContent='0%';
      secs=30; timeEl.textContent=secs+'s'; cursor.style.left='6%';
      startAt = now();
      const tick = ()=>{
        const elapsed = Math.min(secs, Math.floor((now()-startAt)/1000));
        timeEl.textContent = (secs-elapsed)+'s'; cursor.style.left = (6 + (elapsed/(secs||1))*88) + '%';
        if(elapsed>=secs){
          stop();
          const pct = Math.round((inRangeMs/(secs*1000))*100);
          if(pct>=70){ toast.classList.add('show'); setTimeout(()=>toast.classList.remove('show'), 2600); }
          return;
        }
        timer = setTimeout(tick, 200);
      };
      tick();
    }

    function stop(){ if(timer) clearTimeout(timer); timer=null; startAt=null; }
    function reset(){ stop(); taps=[]; inRangeMs=0; bpmEl.textContent='0'; inRangeEl.textContent='0%'; secs=30; timeEl.textContent='30s'; cursor.style.left='6%'; }

    tap.addEventListener('click', onTap);
    document.addEventListener('keydown', (e)=>{ if(e.code==='Space') { if(panel.style.display==='block'){ e.preventDefault(); onTap(); } } });
    startBtn.addEventListener('click', start);
    resetBtn.addEventListener('click', reset);
  })();
  </script>
</body>
</html>
```
